function my(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var yy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function av(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var H={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ho=Symbol.for("react.element"),Ey=Symbol.for("react.portal"),xy=Symbol.for("react.fragment"),Ty=Symbol.for("react.strict_mode"),Sy=Symbol.for("react.profiler"),_y=Symbol.for("react.provider"),Cy=Symbol.for("react.context"),Ry=Symbol.for("react.forward_ref"),by=Symbol.for("react.suspense"),Ly=Symbol.for("react.memo"),Py=Symbol.for("react.lazy"),bf=Symbol.iterator;function Dy(e){return e===null||typeof e!="object"?null:(e=bf&&e[bf]||e["@@iterator"],typeof e=="function"?e:null)}var sv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lv=Object.assign,uv={};function Ai(e,t,r){this.props=e,this.context=t,this.refs=uv,this.updater=r||sv}Ai.prototype.isReactComponent={};Ai.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ai.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cv(){}cv.prototype=Ai.prototype;function Ic(e,t,r){this.props=e,this.context=t,this.refs=uv,this.updater=r||sv}var Ac=Ic.prototype=new cv;Ac.constructor=Ic;lv(Ac,Ai.prototype);Ac.isPureReactComponent=!0;var Lf=Array.isArray,dv=Object.prototype.hasOwnProperty,Oc={current:null},fv={key:!0,ref:!0,__self:!0,__source:!0};function hv(e,t,r){var n,i={},o=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)dv.call(t,n)&&!fv.hasOwnProperty(n)&&(i[n]=t[n]);var x=arguments.length-2;if(x===1)i.children=r;else if(1<x){for(var a=Array(x),I=0;I<x;I++)a[I]=arguments[I+2];i.children=a}if(e&&e.defaultProps)for(n in x=e.defaultProps,x)i[n]===void 0&&(i[n]=x[n]);return{$$typeof:Ho,type:e,key:o,ref:s,props:i,_owner:Oc.current}}function Iy(e,t){return{$$typeof:Ho,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Mc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ho}function Ay(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Pf=/\/+/g;function Al(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ay(""+e.key):t.toString(36)}function Da(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Ho:case Ey:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Al(s,0):n,Lf(i)?(r="",e!=null&&(r=e.replace(Pf,"$&/")+"/"),Da(i,t,r,"",function(I){return I})):i!=null&&(Mc(i)&&(i=Iy(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Pf,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",Lf(e))for(var x=0;x<e.length;x++){o=e[x];var a=n+Al(o,x);s+=Da(o,t,r,a,i)}else if(a=Dy(e),typeof a=="function")for(e=a.call(e),x=0;!(o=e.next()).done;)o=o.value,a=n+Al(o,x++),s+=Da(o,t,r,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function aa(e,t,r){if(e==null)return e;var n=[],i=0;return Da(e,n,"","",function(o){return t.call(r,o,i++)}),n}function Oy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var bt={current:null},Ia={transition:null},My={ReactCurrentDispatcher:bt,ReactCurrentBatchConfig:Ia,ReactCurrentOwner:Oc};Re.Children={map:aa,forEach:function(e,t,r){aa(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return aa(e,function(){t++}),t},toArray:function(e){return aa(e,function(t){return t})||[]},only:function(e){if(!Mc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=Ai;Re.Fragment=xy;Re.Profiler=Sy;Re.PureComponent=Ic;Re.StrictMode=Ty;Re.Suspense=by;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=My;Re.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=lv({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Oc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var x=e.type.defaultProps;for(a in t)dv.call(t,a)&&!fv.hasOwnProperty(a)&&(n[a]=t[a]===void 0&&x!==void 0?x[a]:t[a])}var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){x=Array(a);for(var I=0;I<a;I++)x[I]=arguments[I+2];n.children=x}return{$$typeof:Ho,type:e.type,key:i,ref:o,props:n,_owner:s}};Re.createContext=function(e){return e={$$typeof:Cy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_y,_context:e},e.Consumer=e};Re.createElement=hv;Re.createFactory=function(e){var t=hv.bind(null,e);return t.type=e,t};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:Ry,render:e}};Re.isValidElement=Mc;Re.lazy=function(e){return{$$typeof:Py,_payload:{_status:-1,_result:e},_init:Oy}};Re.memo=function(e,t){return{$$typeof:Ly,type:e,compare:t===void 0?null:t}};Re.startTransition=function(e){var t=Ia.transition;Ia.transition={};try{e()}finally{Ia.transition=t}};Re.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Re.useCallback=function(e,t){return bt.current.useCallback(e,t)};Re.useContext=function(e){return bt.current.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e){return bt.current.useDeferredValue(e)};Re.useEffect=function(e,t){return bt.current.useEffect(e,t)};Re.useId=function(){return bt.current.useId()};Re.useImperativeHandle=function(e,t,r){return bt.current.useImperativeHandle(e,t,r)};Re.useInsertionEffect=function(e,t){return bt.current.useInsertionEffect(e,t)};Re.useLayoutEffect=function(e,t){return bt.current.useLayoutEffect(e,t)};Re.useMemo=function(e,t){return bt.current.useMemo(e,t)};Re.useReducer=function(e,t,r){return bt.current.useReducer(e,t,r)};Re.useRef=function(e){return bt.current.useRef(e)};Re.useState=function(e){return bt.current.useState(e)};Re.useSyncExternalStore=function(e,t,r){return bt.current.useSyncExternalStore(e,t,r)};Re.useTransition=function(){return bt.current.useTransition()};Re.version="18.2.0";(function(e){e.exports=Re})(H);const Mn=Dc(H.exports),yu=my({__proto__:null,default:Mn},[H.exports]);var Eu={},jo={exports:{}},jt={},pv={exports:{}},vv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,T){var g=b.length;b.push(T);e:for(;0<g;){var k=g-1>>>1,N=b[k];if(0<i(N,T))b[k]=T,b[g]=N,g=k;else break e}}function r(b){return b.length===0?null:b[0]}function n(b){if(b.length===0)return null;var T=b[0],g=b.pop();if(g!==T){b[0]=g;e:for(var k=0,N=b.length,U=N>>>1;k<U;){var W=2*(k+1)-1,$=b[W],K=W+1,z=b[K];if(0>i($,g))K<N&&0>i(z,$)?(b[k]=z,b[K]=g,k=K):(b[k]=$,b[W]=g,k=W);else if(K<N&&0>i(z,g))b[k]=z,b[K]=g,k=K;else break e}}return T}function i(b,T){var g=b.sortIndex-T.sortIndex;return g!==0?g:b.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,x=s.now();e.unstable_now=function(){return s.now()-x}}var a=[],I=[],D=1,F=null,M=3,B=!1,A=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(b){for(var T=r(I);T!==null;){if(T.callback===null)n(I);else if(T.startTime<=b)n(I),T.sortIndex=T.expirationTime,t(a,T);else break;T=r(I)}}function L(b){if(_=!1,m(b),!A)if(r(a)!==null)A=!0,O(P);else{var T=r(I);T!==null&&C(L,T.startTime-b)}}function P(b,T){A=!1,_&&(_=!1,h(u),u=-1),B=!0;var g=M;try{for(m(T),F=r(a);F!==null&&(!(F.expirationTime>T)||b&&!d());){var k=F.callback;if(typeof k=="function"){F.callback=null,M=F.priorityLevel;var N=k(F.expirationTime<=T);T=e.unstable_now(),typeof N=="function"?F.callback=N:F===r(a)&&n(a),m(T)}else n(a);F=r(a)}if(F!==null)var U=!0;else{var W=r(I);W!==null&&C(L,W.startTime-T),U=!1}return U}finally{F=null,M=g,B=!1}}var c=!1,l=null,u=-1,E=5,y=-1;function d(){return!(e.unstable_now()-y<E)}function f(){if(l!==null){var b=e.unstable_now();y=b;var T=!0;try{T=l(!0,b)}finally{T?p():(c=!1,l=null)}}else c=!1}var p;if(typeof v=="function")p=function(){v(f)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,S=R.port2;R.port1.onmessage=f,p=function(){S.postMessage(null)}}else p=function(){w(f,0)};function O(b){l=b,c||(c=!0,p())}function C(b,T){u=w(function(){b(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){A||B||(A=!0,O(P))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return M},e.unstable_getFirstCallbackNode=function(){return r(a)},e.unstable_next=function(b){switch(M){case 1:case 2:case 3:var T=3;break;default:T=M}var g=M;M=T;try{return b()}finally{M=g}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,T){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var g=M;M=b;try{return T()}finally{M=g}},e.unstable_scheduleCallback=function(b,T,g){var k=e.unstable_now();switch(typeof g=="object"&&g!==null?(g=g.delay,g=typeof g=="number"&&0<g?k+g:k):g=k,b){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=g+N,b={id:D++,callback:T,priorityLevel:b,startTime:g,expirationTime:N,sortIndex:-1},g>k?(b.sortIndex=g,t(I,b),r(a)===null&&b===r(I)&&(_?(h(u),u=-1):_=!0,C(L,g-k))):(b.sortIndex=N,t(a,b),A||B||(A=!0,O(P))),b},e.unstable_shouldYield=d,e.unstable_wrapCallback=function(b){var T=M;return function(){var g=M;M=T;try{return b.apply(this,arguments)}finally{M=g}}}})(vv);(function(e){e.exports=vv})(pv);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv=H.exports,Ht=pv.exports;function ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mv=new Set,To={};function zn(e,t){Si(e,t),Si(e+"Capture",t)}function Si(e,t){for(To[e]=t,e=0;e<t.length;e++)mv.add(t[e])}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xu=Object.prototype.hasOwnProperty,ky=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Df={},If={};function wy(e){return xu.call(If,e)?!0:xu.call(Df,e)?!1:ky.test(e)?If[e]=!0:(Df[e]=!0,!1)}function Fy(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ny(e,t,r,n){if(t===null||typeof t>"u"||Fy(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Lt(e,t,r,n,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vt[e]=new Lt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vt[t]=new Lt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vt[e]=new Lt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vt[e]=new Lt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vt[e]=new Lt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vt[e]=new Lt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vt[e]=new Lt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vt[e]=new Lt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vt[e]=new Lt(e,5,!1,e.toLowerCase(),null,!1,!1)});var kc=/[\-:]([a-z])/g;function wc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kc,wc);vt[t]=new Lt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kc,wc);vt[t]=new Lt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kc,wc);vt[t]=new Lt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vt[e]=new Lt(e,1,!1,e.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vt[e]=new Lt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fc(e,t,r,n){var i=vt.hasOwnProperty(t)?vt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ny(t,r,i,n)&&(r=null),n||i===null?wy(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ur=gv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sa=Symbol.for("react.element"),ni=Symbol.for("react.portal"),ii=Symbol.for("react.fragment"),Nc=Symbol.for("react.strict_mode"),Tu=Symbol.for("react.profiler"),yv=Symbol.for("react.provider"),Ev=Symbol.for("react.context"),Bc=Symbol.for("react.forward_ref"),Su=Symbol.for("react.suspense"),_u=Symbol.for("react.suspense_list"),Uc=Symbol.for("react.memo"),Vr=Symbol.for("react.lazy"),xv=Symbol.for("react.offscreen"),Af=Symbol.iterator;function Bi(e){return e===null||typeof e!="object"?null:(e=Af&&e[Af]||e["@@iterator"],typeof e=="function"?e:null)}var Ye=Object.assign,Ol;function Zi(e){if(Ol===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ol=t&&t[1]||""}return`
`+Ol+e}var Ml=!1;function kl(e,t){if(!e||Ml)return"";Ml=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(I){var n=I}Reflect.construct(e,[],t)}else{try{t.call()}catch(I){n=I}e.call(t.prototype)}else{try{throw Error()}catch(I){n=I}e()}}catch(I){if(I&&n&&typeof I.stack=="string"){for(var i=I.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,x=o.length-1;1<=s&&0<=x&&i[s]!==o[x];)x--;for(;1<=s&&0<=x;s--,x--)if(i[s]!==o[x]){if(s!==1||x!==1)do if(s--,x--,0>x||i[s]!==o[x]){var a=`
`+i[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=x);break}}}finally{Ml=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Zi(e):""}function By(e){switch(e.tag){case 5:return Zi(e.type);case 16:return Zi("Lazy");case 13:return Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 2:case 15:return e=kl(e.type,!1),e;case 11:return e=kl(e.type.render,!1),e;case 1:return e=kl(e.type,!0),e;default:return""}}function Cu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ii:return"Fragment";case ni:return"Portal";case Tu:return"Profiler";case Nc:return"StrictMode";case Su:return"Suspense";case _u:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ev:return(e.displayName||"Context")+".Consumer";case yv:return(e._context.displayName||"Context")+".Provider";case Bc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Uc:return t=e.displayName||null,t!==null?t:Cu(e.type)||"Memo";case Vr:t=e._payload,e=e._init;try{return Cu(e(t))}catch{}}return null}function Uy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cu(t);case 8:return t===Nc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ln(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $y(e){var t=Tv(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function la(e){e._valueTracker||(e._valueTracker=$y(e))}function Sv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Tv(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Va(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ru(e,t){var r=t.checked;return Ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function Of(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ln(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _v(e,t){t=t.checked,t!=null&&Fc(e,"checked",t,!1)}function bu(e,t){_v(e,t);var r=ln(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lu(e,t.type,r):t.hasOwnProperty("defaultValue")&&Lu(e,t.type,ln(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Mf(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Lu(e,t,r){(t!=="number"||Va(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var qi=Array.isArray;function vi(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ln(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Pu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ee(91));return Ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kf(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ee(92));if(qi(r)){if(1<r.length)throw Error(ee(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ln(r)}}function Cv(e,t){var r=ln(t.value),n=ln(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function wf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Rv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Du(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Rv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ua,bv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ua=ua||document.createElement("div"),ua.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ua.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function So(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var so={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wy=["Webkit","ms","Moz","O"];Object.keys(so).forEach(function(e){Wy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),so[t]=so[e]})});function Lv(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||so.hasOwnProperty(e)&&so[e]?(""+t).trim():t+"px"}function Pv(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Lv(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Ky=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Iu(e,t){if(t){if(Ky[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ee(62))}}function Au(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ou=null;function $c(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mu=null,gi=null,mi=null;function Ff(e){if(e=Yo(e)){if(typeof Mu!="function")throw Error(ee(280));var t=e.stateNode;t&&(t=Ps(t),Mu(e.stateNode,e.type,t))}}function Dv(e){gi?mi?mi.push(e):mi=[e]:gi=e}function Iv(){if(gi){var e=gi,t=mi;if(mi=gi=null,Ff(e),t)for(e=0;e<t.length;e++)Ff(t[e])}}function Av(e,t){return e(t)}function Ov(){}var wl=!1;function Mv(e,t,r){if(wl)return e(t,r);wl=!0;try{return Av(e,t,r)}finally{wl=!1,(gi!==null||mi!==null)&&(Ov(),Iv())}}function _o(e,t){var r=e.stateNode;if(r===null)return null;var n=Ps(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ee(231,t,typeof r));return r}var ku=!1;if(wr)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){ku=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{ku=!1}function zy(e,t,r,n,i,o,s,x,a){var I=Array.prototype.slice.call(arguments,3);try{t.apply(r,I)}catch(D){this.onError(D)}}var lo=!1,Ya=null,Xa=!1,wu=null,Hy={onError:function(e){lo=!0,Ya=e}};function jy(e,t,r,n,i,o,s,x,a){lo=!1,Ya=null,zy.apply(Hy,arguments)}function Gy(e,t,r,n,i,o,s,x,a){if(jy.apply(this,arguments),lo){if(lo){var I=Ya;lo=!1,Ya=null}else throw Error(ee(198));Xa||(Xa=!0,wu=I)}}function Hn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function kv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nf(e){if(Hn(e)!==e)throw Error(ee(188))}function Vy(e){var t=e.alternate;if(!t){if(t=Hn(e),t===null)throw Error(ee(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Nf(i),e;if(o===n)return Nf(i),t;o=o.sibling}throw Error(ee(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,x=i.child;x;){if(x===r){s=!0,r=i,n=o;break}if(x===n){s=!0,n=i,r=o;break}x=x.sibling}if(!s){for(x=o.child;x;){if(x===r){s=!0,r=o,n=i;break}if(x===n){s=!0,n=o,r=i;break}x=x.sibling}if(!s)throw Error(ee(189))}}if(r.alternate!==n)throw Error(ee(190))}if(r.tag!==3)throw Error(ee(188));return r.stateNode.current===r?e:t}function wv(e){return e=Vy(e),e!==null?Fv(e):null}function Fv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Fv(e);if(t!==null)return t;e=e.sibling}return null}var Nv=Ht.unstable_scheduleCallback,Bf=Ht.unstable_cancelCallback,Yy=Ht.unstable_shouldYield,Xy=Ht.unstable_requestPaint,qe=Ht.unstable_now,Qy=Ht.unstable_getCurrentPriorityLevel,Wc=Ht.unstable_ImmediatePriority,Bv=Ht.unstable_UserBlockingPriority,Qa=Ht.unstable_NormalPriority,Jy=Ht.unstable_LowPriority,Uv=Ht.unstable_IdlePriority,Cs=null,Sr=null;function Zy(e){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(Cs,e,void 0,(e.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:tE,qy=Math.log,eE=Math.LN2;function tE(e){return e>>>=0,e===0?32:31-(qy(e)/eE|0)|0}var ca=64,da=4194304;function eo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ja(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,s=r&268435455;if(s!==0){var x=s&~i;x!==0?n=eo(x):(o&=s,o!==0&&(n=eo(o)))}else s=r&~i,s!==0?n=eo(s):o!==0&&(n=eo(o));if(n===0)return 0;if(t!==0&&t!==n&&(t&i)===0&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if((n&4)!==0&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-dr(t),i=1<<r,n|=e[r],t&=~i;return n}function rE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-dr(o),x=1<<s,a=i[s];a===-1?((x&r)===0||(x&n)!==0)&&(i[s]=rE(x,t)):a<=t&&(e.expiredLanes|=x),o&=~x}}function Fu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $v(){var e=ca;return ca<<=1,(ca&4194240)===0&&(ca=64),e}function Fl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Go(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dr(t),e[t]=r}function iE(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-dr(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function Kc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-dr(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ke=0;function Wv(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Kv,zc,zv,Hv,jv,Nu=!1,fa=[],qr=null,en=null,tn=null,Co=new Map,Ro=new Map,Xr=[],oE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uf(e,t){switch(e){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":en=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":Co.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(t.pointerId)}}function $i(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Yo(t),t!==null&&zc(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function aE(e,t,r,n,i){switch(t){case"focusin":return qr=$i(qr,e,t,r,n,i),!0;case"dragenter":return en=$i(en,e,t,r,n,i),!0;case"mouseover":return tn=$i(tn,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Co.set(o,$i(Co.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Ro.set(o,$i(Ro.get(o)||null,e,t,r,n,i)),!0}return!1}function Gv(e){var t=Pn(e.target);if(t!==null){var r=Hn(t);if(r!==null){if(t=r.tag,t===13){if(t=kv(r),t!==null){e.blockedOn=t,jv(e.priority,function(){zv(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Aa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Bu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ou=n,r.target.dispatchEvent(n),Ou=null}else return t=Yo(r),t!==null&&zc(t),e.blockedOn=r,!1;t.shift()}return!0}function $f(e,t,r){Aa(e)&&r.delete(t)}function sE(){Nu=!1,qr!==null&&Aa(qr)&&(qr=null),en!==null&&Aa(en)&&(en=null),tn!==null&&Aa(tn)&&(tn=null),Co.forEach($f),Ro.forEach($f)}function Wi(e,t){e.blockedOn===t&&(e.blockedOn=null,Nu||(Nu=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,sE)))}function bo(e){function t(i){return Wi(i,e)}if(0<fa.length){Wi(fa[0],e);for(var r=1;r<fa.length;r++){var n=fa[r];n.blockedOn===e&&(n.blockedOn=null)}}for(qr!==null&&Wi(qr,e),en!==null&&Wi(en,e),tn!==null&&Wi(tn,e),Co.forEach(t),Ro.forEach(t),r=0;r<Xr.length;r++)n=Xr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Xr.length&&(r=Xr[0],r.blockedOn===null);)Gv(r),r.blockedOn===null&&Xr.shift()}var yi=Ur.ReactCurrentBatchConfig,Za=!0;function lE(e,t,r,n){var i=ke,o=yi.transition;yi.transition=null;try{ke=1,Hc(e,t,r,n)}finally{ke=i,yi.transition=o}}function uE(e,t,r,n){var i=ke,o=yi.transition;yi.transition=null;try{ke=4,Hc(e,t,r,n)}finally{ke=i,yi.transition=o}}function Hc(e,t,r,n){if(Za){var i=Bu(e,t,r,n);if(i===null)Gl(e,t,n,qa,r),Uf(e,n);else if(aE(i,e,t,r,n))n.stopPropagation();else if(Uf(e,n),t&4&&-1<oE.indexOf(e)){for(;i!==null;){var o=Yo(i);if(o!==null&&Kv(o),o=Bu(e,t,r,n),o===null&&Gl(e,t,n,qa,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else Gl(e,t,n,null,r)}}var qa=null;function Bu(e,t,r,n){if(qa=null,e=$c(n),e=Pn(e),e!==null)if(t=Hn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=kv(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qa=e,null}function Vv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qy()){case Wc:return 1;case Bv:return 4;case Qa:case Jy:return 16;case Uv:return 536870912;default:return 16}default:return 16}}var Jr=null,jc=null,Oa=null;function Yv(){if(Oa)return Oa;var e,t=jc,r=t.length,n,i="value"in Jr?Jr.value:Jr.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[o-n];n++);return Oa=i.slice(e,1<n?1-n:void 0)}function Ma(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ha(){return!0}function Wf(){return!1}function Gt(e){function t(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(r=e[x],this[x]=r?r(o):o[x]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ha:Wf,this.isPropagationStopped=Wf,this}return Ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ha)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ha)},persist:function(){},isPersistent:ha}),t}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gc=Gt(Oi),Vo=Ye({},Oi,{view:0,detail:0}),cE=Gt(Vo),Nl,Bl,Ki,Rs=Ye({},Vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ki&&(Ki&&e.type==="mousemove"?(Nl=e.screenX-Ki.screenX,Bl=e.screenY-Ki.screenY):Bl=Nl=0,Ki=e),Nl)},movementY:function(e){return"movementY"in e?e.movementY:Bl}}),Kf=Gt(Rs),dE=Ye({},Rs,{dataTransfer:0}),fE=Gt(dE),hE=Ye({},Vo,{relatedTarget:0}),Ul=Gt(hE),pE=Ye({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),vE=Gt(pE),gE=Ye({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mE=Gt(gE),yE=Ye({},Oi,{data:0}),zf=Gt(yE),EE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TE[e])?!!t[e]:!1}function Vc(){return SE}var _E=Ye({},Vo,{key:function(e){if(e.key){var t=EE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ma(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vc,charCode:function(e){return e.type==="keypress"?Ma(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ma(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),CE=Gt(_E),RE=Ye({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hf=Gt(RE),bE=Ye({},Vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vc}),LE=Gt(bE),PE=Ye({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),DE=Gt(PE),IE=Ye({},Rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),AE=Gt(IE),OE=[9,13,27,32],Yc=wr&&"CompositionEvent"in window,uo=null;wr&&"documentMode"in document&&(uo=document.documentMode);var ME=wr&&"TextEvent"in window&&!uo,Xv=wr&&(!Yc||uo&&8<uo&&11>=uo),jf=String.fromCharCode(32),Gf=!1;function Qv(e,t){switch(e){case"keyup":return OE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oi=!1;function kE(e,t){switch(e){case"compositionend":return Jv(t);case"keypress":return t.which!==32?null:(Gf=!0,jf);case"textInput":return e=t.data,e===jf&&Gf?null:e;default:return null}}function wE(e,t){if(oi)return e==="compositionend"||!Yc&&Qv(e,t)?(e=Yv(),Oa=jc=Jr=null,oi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xv&&t.locale!=="ko"?null:t.data;default:return null}}var FE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!FE[e.type]:t==="textarea"}function Zv(e,t,r,n){Dv(n),t=es(t,"onChange"),0<t.length&&(r=new Gc("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var co=null,Lo=null;function NE(e){ug(e,0)}function bs(e){var t=li(e);if(Sv(t))return e}function BE(e,t){if(e==="change")return t}var qv=!1;if(wr){var $l;if(wr){var Wl="oninput"in document;if(!Wl){var Yf=document.createElement("div");Yf.setAttribute("oninput","return;"),Wl=typeof Yf.oninput=="function"}$l=Wl}else $l=!1;qv=$l&&(!document.documentMode||9<document.documentMode)}function Xf(){co&&(co.detachEvent("onpropertychange",eg),Lo=co=null)}function eg(e){if(e.propertyName==="value"&&bs(Lo)){var t=[];Zv(t,Lo,e,$c(e)),Mv(NE,t)}}function UE(e,t,r){e==="focusin"?(Xf(),co=t,Lo=r,co.attachEvent("onpropertychange",eg)):e==="focusout"&&Xf()}function $E(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bs(Lo)}function WE(e,t){if(e==="click")return bs(t)}function KE(e,t){if(e==="input"||e==="change")return bs(t)}function zE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hr=typeof Object.is=="function"?Object.is:zE;function Po(e,t){if(hr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!xu.call(t,i)||!hr(e[i],t[i]))return!1}return!0}function Qf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jf(e,t){var r=Qf(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qf(r)}}function tg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rg(){for(var e=window,t=Va();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Va(e.document)}return t}function Xc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function HE(e){var t=rg(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&tg(r.ownerDocument.documentElement,r)){if(n!==null&&Xc(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=Jf(r,o);var s=Jf(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jE=wr&&"documentMode"in document&&11>=document.documentMode,ai=null,Uu=null,fo=null,$u=!1;function Zf(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$u||ai==null||ai!==Va(n)||(n=ai,"selectionStart"in n&&Xc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fo&&Po(fo,n)||(fo=n,n=es(Uu,"onSelect"),0<n.length&&(t=new Gc("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ai)))}function pa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var si={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionend:pa("Transition","TransitionEnd")},Kl={},ng={};wr&&(ng=document.createElement("div").style,"AnimationEvent"in window||(delete si.animationend.animation,delete si.animationiteration.animation,delete si.animationstart.animation),"TransitionEvent"in window||delete si.transitionend.transition);function Ls(e){if(Kl[e])return Kl[e];if(!si[e])return e;var t=si[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ng)return Kl[e]=t[r];return e}var ig=Ls("animationend"),og=Ls("animationiteration"),ag=Ls("animationstart"),sg=Ls("transitionend"),lg=new Map,qf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hn(e,t){lg.set(e,t),zn(t,[e])}for(var zl=0;zl<qf.length;zl++){var Hl=qf[zl],GE=Hl.toLowerCase(),VE=Hl[0].toUpperCase()+Hl.slice(1);hn(GE,"on"+VE)}hn(ig,"onAnimationEnd");hn(og,"onAnimationIteration");hn(ag,"onAnimationStart");hn("dblclick","onDoubleClick");hn("focusin","onFocus");hn("focusout","onBlur");hn(sg,"onTransitionEnd");Si("onMouseEnter",["mouseout","mouseover"]);Si("onMouseLeave",["mouseout","mouseover"]);Si("onPointerEnter",["pointerout","pointerover"]);Si("onPointerLeave",["pointerout","pointerover"]);zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var to="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YE=new Set("cancel close invalid load scroll toggle".split(" ").concat(to));function eh(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Gy(n,t,void 0,e),e.currentTarget=null}function ug(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var x=n[s],a=x.instance,I=x.currentTarget;if(x=x.listener,a!==o&&i.isPropagationStopped())break e;eh(i,x,I),o=a}else for(s=0;s<n.length;s++){if(x=n[s],a=x.instance,I=x.currentTarget,x=x.listener,a!==o&&i.isPropagationStopped())break e;eh(i,x,I),o=a}}}if(Xa)throw e=wu,Xa=!1,wu=null,e}function We(e,t){var r=t[ju];r===void 0&&(r=t[ju]=new Set);var n=e+"__bubble";r.has(n)||(cg(t,e,2,!1),r.add(n))}function jl(e,t,r){var n=0;t&&(n|=4),cg(r,e,n,t)}var va="_reactListening"+Math.random().toString(36).slice(2);function Do(e){if(!e[va]){e[va]=!0,mv.forEach(function(r){r!=="selectionchange"&&(YE.has(r)||jl(r,!1,e),jl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[va]||(t[va]=!0,jl("selectionchange",!1,t))}}function cg(e,t,r,n){switch(Vv(t)){case 1:var i=lE;break;case 4:i=uE;break;default:i=Hc}r=i.bind(null,t,r,e),i=void 0,!ku||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Gl(e,t,r,n,i){var o=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var x=n.stateNode.containerInfo;if(x===i||x.nodeType===8&&x.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;x!==null;){if(s=Pn(x),s===null)return;if(a=s.tag,a===5||a===6){n=o=s;continue e}x=x.parentNode}}n=n.return}Mv(function(){var I=o,D=$c(r),F=[];e:{var M=lg.get(e);if(M!==void 0){var B=Gc,A=e;switch(e){case"keypress":if(Ma(r)===0)break e;case"keydown":case"keyup":B=CE;break;case"focusin":A="focus",B=Ul;break;case"focusout":A="blur",B=Ul;break;case"beforeblur":case"afterblur":B=Ul;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Kf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=fE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=LE;break;case ig:case og:case ag:B=vE;break;case sg:B=DE;break;case"scroll":B=cE;break;case"wheel":B=AE;break;case"copy":case"cut":case"paste":B=mE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Hf}var _=(t&4)!==0,w=!_&&e==="scroll",h=_?M!==null?M+"Capture":null:M;_=[];for(var v=I,m;v!==null;){m=v;var L=m.stateNode;if(m.tag===5&&L!==null&&(m=L,h!==null&&(L=_o(v,h),L!=null&&_.push(Io(v,L,m)))),w)break;v=v.return}0<_.length&&(M=new B(M,A,null,r,D),F.push({event:M,listeners:_}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",M&&r!==Ou&&(A=r.relatedTarget||r.fromElement)&&(Pn(A)||A[Fr]))break e;if((B||M)&&(M=D.window===D?D:(M=D.ownerDocument)?M.defaultView||M.parentWindow:window,B?(A=r.relatedTarget||r.toElement,B=I,A=A?Pn(A):null,A!==null&&(w=Hn(A),A!==w||A.tag!==5&&A.tag!==6)&&(A=null)):(B=null,A=I),B!==A)){if(_=Kf,L="onMouseLeave",h="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(_=Hf,L="onPointerLeave",h="onPointerEnter",v="pointer"),w=B==null?M:li(B),m=A==null?M:li(A),M=new _(L,v+"leave",B,r,D),M.target=w,M.relatedTarget=m,L=null,Pn(D)===I&&(_=new _(h,v+"enter",A,r,D),_.target=m,_.relatedTarget=w,L=_),w=L,B&&A)t:{for(_=B,h=A,v=0,m=_;m;m=Xn(m))v++;for(m=0,L=h;L;L=Xn(L))m++;for(;0<v-m;)_=Xn(_),v--;for(;0<m-v;)h=Xn(h),m--;for(;v--;){if(_===h||h!==null&&_===h.alternate)break t;_=Xn(_),h=Xn(h)}_=null}else _=null;B!==null&&th(F,M,B,_,!1),A!==null&&w!==null&&th(F,w,A,_,!0)}}e:{if(M=I?li(I):window,B=M.nodeName&&M.nodeName.toLowerCase(),B==="select"||B==="input"&&M.type==="file")var P=BE;else if(Vf(M))if(qv)P=KE;else{P=$E;var c=UE}else(B=M.nodeName)&&B.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(P=WE);if(P&&(P=P(e,I))){Zv(F,P,r,D);break e}c&&c(e,M,I),e==="focusout"&&(c=M._wrapperState)&&c.controlled&&M.type==="number"&&Lu(M,"number",M.value)}switch(c=I?li(I):window,e){case"focusin":(Vf(c)||c.contentEditable==="true")&&(ai=c,Uu=I,fo=null);break;case"focusout":fo=Uu=ai=null;break;case"mousedown":$u=!0;break;case"contextmenu":case"mouseup":case"dragend":$u=!1,Zf(F,r,D);break;case"selectionchange":if(jE)break;case"keydown":case"keyup":Zf(F,r,D)}var l;if(Yc)e:{switch(e){case"compositionstart":var u="onCompositionStart";break e;case"compositionend":u="onCompositionEnd";break e;case"compositionupdate":u="onCompositionUpdate";break e}u=void 0}else oi?Qv(e,r)&&(u="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(u="onCompositionStart");u&&(Xv&&r.locale!=="ko"&&(oi||u!=="onCompositionStart"?u==="onCompositionEnd"&&oi&&(l=Yv()):(Jr=D,jc="value"in Jr?Jr.value:Jr.textContent,oi=!0)),c=es(I,u),0<c.length&&(u=new zf(u,e,null,r,D),F.push({event:u,listeners:c}),l?u.data=l:(l=Jv(r),l!==null&&(u.data=l)))),(l=ME?kE(e,r):wE(e,r))&&(I=es(I,"onBeforeInput"),0<I.length&&(D=new zf("onBeforeInput","beforeinput",null,r,D),F.push({event:D,listeners:I}),D.data=l))}ug(F,t)})}function Io(e,t,r){return{instance:e,listener:t,currentTarget:r}}function es(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=_o(e,r),o!=null&&n.unshift(Io(e,o,i)),o=_o(e,t),o!=null&&n.push(Io(e,o,i))),e=e.return}return n}function Xn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function th(e,t,r,n,i){for(var o=t._reactName,s=[];r!==null&&r!==n;){var x=r,a=x.alternate,I=x.stateNode;if(a!==null&&a===n)break;x.tag===5&&I!==null&&(x=I,i?(a=_o(r,o),a!=null&&s.unshift(Io(r,a,x))):i||(a=_o(r,o),a!=null&&s.push(Io(r,a,x)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var XE=/\r\n?/g,QE=/\u0000|\uFFFD/g;function rh(e){return(typeof e=="string"?e:""+e).replace(XE,`
`).replace(QE,"")}function ga(e,t,r){if(t=rh(t),rh(e)!==t&&r)throw Error(ee(425))}function ts(){}var Wu=null,Ku=null;function zu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hu=typeof setTimeout=="function"?setTimeout:void 0,JE=typeof clearTimeout=="function"?clearTimeout:void 0,nh=typeof Promise=="function"?Promise:void 0,ZE=typeof queueMicrotask=="function"?queueMicrotask:typeof nh<"u"?function(e){return nh.resolve(null).then(e).catch(qE)}:Hu;function qE(e){setTimeout(function(){throw e})}function Vl(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),bo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);bo(t)}function rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ih(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Mi=Math.random().toString(36).slice(2),Tr="__reactFiber$"+Mi,Ao="__reactProps$"+Mi,Fr="__reactContainer$"+Mi,ju="__reactEvents$"+Mi,ex="__reactListeners$"+Mi,tx="__reactHandles$"+Mi;function Pn(e){var t=e[Tr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Fr]||r[Tr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ih(e);e!==null;){if(r=e[Tr])return r;e=ih(e)}return t}e=r,r=e.parentNode}return null}function Yo(e){return e=e[Tr]||e[Fr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function li(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ee(33))}function Ps(e){return e[Ao]||null}var Gu=[],ui=-1;function pn(e){return{current:e}}function Ke(e){0>ui||(e.current=Gu[ui],Gu[ui]=null,ui--)}function $e(e,t){ui++,Gu[ui]=e.current,e.current=t}var un={},Tt=pn(un),At=pn(!1),Nn=un;function _i(e,t){var r=e.type.contextTypes;if(!r)return un;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ot(e){return e=e.childContextTypes,e!=null}function rs(){Ke(At),Ke(Tt)}function oh(e,t,r){if(Tt.current!==un)throw Error(ee(168));$e(Tt,t),$e(At,r)}function dg(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(ee(108,Uy(e)||"Unknown",i));return Ye({},r,n)}function ns(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||un,Nn=Tt.current,$e(Tt,e),$e(At,At.current),!0}function ah(e,t,r){var n=e.stateNode;if(!n)throw Error(ee(169));r?(e=dg(e,t,Nn),n.__reactInternalMemoizedMergedChildContext=e,Ke(At),Ke(Tt),$e(Tt,e)):Ke(At),$e(At,r)}var Dr=null,Ds=!1,Yl=!1;function fg(e){Dr===null?Dr=[e]:Dr.push(e)}function rx(e){Ds=!0,fg(e)}function vn(){if(!Yl&&Dr!==null){Yl=!0;var e=0,t=ke;try{var r=Dr;for(ke=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Dr=null,Ds=!1}catch(i){throw Dr!==null&&(Dr=Dr.slice(e+1)),Nv(Wc,vn),i}finally{ke=t,Yl=!1}}return null}var ci=[],di=0,is=null,os=0,Qt=[],Jt=0,Bn=null,Ir=1,Ar="";function _n(e,t){ci[di++]=os,ci[di++]=is,is=e,os=t}function hg(e,t,r){Qt[Jt++]=Ir,Qt[Jt++]=Ar,Qt[Jt++]=Bn,Bn=e;var n=Ir;e=Ar;var i=32-dr(n)-1;n&=~(1<<i),r+=1;var o=32-dr(t)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Ir=1<<32-dr(t)+i|r<<i|n,Ar=o+e}else Ir=1<<o|r<<i|n,Ar=e}function Qc(e){e.return!==null&&(_n(e,1),hg(e,1,0))}function Jc(e){for(;e===is;)is=ci[--di],ci[di]=null,os=ci[--di],ci[di]=null;for(;e===Bn;)Bn=Qt[--Jt],Qt[Jt]=null,Ar=Qt[--Jt],Qt[Jt]=null,Ir=Qt[--Jt],Qt[Jt]=null}var Kt=null,Wt=null,He=!1,cr=null;function pg(e,t){var r=Zt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function sh(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Kt=e,Wt=rn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Kt=e,Wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Bn!==null?{id:Ir,overflow:Ar}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Zt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Kt=e,Wt=null,!0):!1;default:return!1}}function Vu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yu(e){if(He){var t=Wt;if(t){var r=t;if(!sh(e,t)){if(Vu(e))throw Error(ee(418));t=rn(r.nextSibling);var n=Kt;t&&sh(e,t)?pg(n,r):(e.flags=e.flags&-4097|2,He=!1,Kt=e)}}else{if(Vu(e))throw Error(ee(418));e.flags=e.flags&-4097|2,He=!1,Kt=e}}}function lh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Kt=e}function ma(e){if(e!==Kt)return!1;if(!He)return lh(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zu(e.type,e.memoizedProps)),t&&(t=Wt)){if(Vu(e))throw vg(),Error(ee(418));for(;t;)pg(e,t),t=rn(t.nextSibling)}if(lh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Wt=rn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Wt=null}}else Wt=Kt?rn(e.stateNode.nextSibling):null;return!0}function vg(){for(var e=Wt;e;)e=rn(e.nextSibling)}function Ci(){Wt=Kt=null,He=!1}function Zc(e){cr===null?cr=[e]:cr.push(e)}var nx=Ur.ReactCurrentBatchConfig;function sr(e,t){if(e&&e.defaultProps){t=Ye({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var as=pn(null),ss=null,fi=null,qc=null;function ed(){qc=fi=ss=null}function td(e){var t=as.current;Ke(as),e._currentValue=t}function Xu(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ei(e,t){ss=e,qc=fi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(It=!0),e.firstContext=null)}function rr(e){var t=e._currentValue;if(qc!==e)if(e={context:e,memoizedValue:t,next:null},fi===null){if(ss===null)throw Error(ee(308));fi=e,ss.dependencies={lanes:0,firstContext:e}}else fi=fi.next=e;return t}var Dn=null;function rd(e){Dn===null?Dn=[e]:Dn.push(e)}function gg(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,rd(t)):(r.next=i.next,i.next=r),t.interleaved=r,Nr(e,n)}function Nr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Yr=!1;function nd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Or(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function nn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Le&2)!==0){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Nr(e,r)}return i=n.interleaved,i===null?(t.next=t,rd(n)):(t.next=i.next,i.next=t),n.interleaved=t,Nr(e,r)}function ka(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Kc(e,r)}}function uh(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ls(e,t,r,n){var i=e.updateQueue;Yr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,x=i.shared.pending;if(x!==null){i.shared.pending=null;var a=x,I=a.next;a.next=null,s===null?o=I:s.next=I,s=a;var D=e.alternate;D!==null&&(D=D.updateQueue,x=D.lastBaseUpdate,x!==s&&(x===null?D.firstBaseUpdate=I:x.next=I,D.lastBaseUpdate=a))}if(o!==null){var F=i.baseState;s=0,D=I=a=null,x=o;do{var M=x.lane,B=x.eventTime;if((n&M)===M){D!==null&&(D=D.next={eventTime:B,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var A=e,_=x;switch(M=t,B=r,_.tag){case 1:if(A=_.payload,typeof A=="function"){F=A.call(B,F,M);break e}F=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=_.payload,M=typeof A=="function"?A.call(B,F,M):A,M==null)break e;F=Ye({},F,M);break e;case 2:Yr=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,M=i.effects,M===null?i.effects=[x]:M.push(x))}else B={eventTime:B,lane:M,tag:x.tag,payload:x.payload,callback:x.callback,next:null},D===null?(I=D=B,a=F):D=D.next=B,s|=M;if(x=x.next,x===null){if(x=i.shared.pending,x===null)break;M=x,x=M.next,M.next=null,i.lastBaseUpdate=M,i.shared.pending=null}}while(1);if(D===null&&(a=F),i.baseState=a,i.firstBaseUpdate=I,i.lastBaseUpdate=D,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);$n|=s,e.lanes=s,e.memoizedState=F}}function ch(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ee(191,i));i.call(n)}}}var yg=new gv.Component().refs;function Qu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ye({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Is={isMounted:function(e){return(e=e._reactInternals)?Hn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Rt(),i=an(e),o=Or(n,i);o.payload=t,r!=null&&(o.callback=r),t=nn(e,o,i),t!==null&&(fr(t,e,i,n),ka(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Rt(),i=an(e),o=Or(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=nn(e,o,i),t!==null&&(fr(t,e,i,n),ka(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Rt(),n=an(e),i=Or(r,n);i.tag=2,t!=null&&(i.callback=t),t=nn(e,i,n),t!==null&&(fr(t,e,n,r),ka(t,e,n))}};function dh(e,t,r,n,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,s):t.prototype&&t.prototype.isPureReactComponent?!Po(r,n)||!Po(i,o):!0}function Eg(e,t,r){var n=!1,i=un,o=t.contextType;return typeof o=="object"&&o!==null?o=rr(o):(i=Ot(t)?Nn:Tt.current,n=t.contextTypes,o=(n=n!=null)?_i(e,i):un),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Is,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function fh(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Is.enqueueReplaceState(t,t.state,null)}function Ju(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=yg,nd(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=rr(o):(o=Ot(t)?Nn:Tt.current,i.context=_i(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Qu(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Is.enqueueReplaceState(i,i.state,null),ls(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function zi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ee(309));var n=r.stateNode}if(!n)throw Error(ee(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var x=i.refs;x===yg&&(x=i.refs={}),s===null?delete x[o]:x[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(ee(284));if(!r._owner)throw Error(ee(290,e))}return e}function ya(e,t){throw e=Object.prototype.toString.call(t),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hh(e){var t=e._init;return t(e._payload)}function xg(e){function t(h,v){if(e){var m=h.deletions;m===null?(h.deletions=[v],h.flags|=16):m.push(v)}}function r(h,v){if(!e)return null;for(;v!==null;)t(h,v),v=v.sibling;return null}function n(h,v){for(h=new Map;v!==null;)v.key!==null?h.set(v.key,v):h.set(v.index,v),v=v.sibling;return h}function i(h,v){return h=sn(h,v),h.index=0,h.sibling=null,h}function o(h,v,m){return h.index=m,e?(m=h.alternate,m!==null?(m=m.index,m<v?(h.flags|=2,v):m):(h.flags|=2,v)):(h.flags|=1048576,v)}function s(h){return e&&h.alternate===null&&(h.flags|=2),h}function x(h,v,m,L){return v===null||v.tag!==6?(v=tu(m,h.mode,L),v.return=h,v):(v=i(v,m),v.return=h,v)}function a(h,v,m,L){var P=m.type;return P===ii?D(h,v,m.props.children,L,m.key):v!==null&&(v.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Vr&&hh(P)===v.type)?(L=i(v,m.props),L.ref=zi(h,v,m),L.return=h,L):(L=$a(m.type,m.key,m.props,null,h.mode,L),L.ref=zi(h,v,m),L.return=h,L)}function I(h,v,m,L){return v===null||v.tag!==4||v.stateNode.containerInfo!==m.containerInfo||v.stateNode.implementation!==m.implementation?(v=ru(m,h.mode,L),v.return=h,v):(v=i(v,m.children||[]),v.return=h,v)}function D(h,v,m,L,P){return v===null||v.tag!==7?(v=wn(m,h.mode,L,P),v.return=h,v):(v=i(v,m),v.return=h,v)}function F(h,v,m){if(typeof v=="string"&&v!==""||typeof v=="number")return v=tu(""+v,h.mode,m),v.return=h,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case sa:return m=$a(v.type,v.key,v.props,null,h.mode,m),m.ref=zi(h,null,v),m.return=h,m;case ni:return v=ru(v,h.mode,m),v.return=h,v;case Vr:var L=v._init;return F(h,L(v._payload),m)}if(qi(v)||Bi(v))return v=wn(v,h.mode,m,null),v.return=h,v;ya(h,v)}return null}function M(h,v,m,L){var P=v!==null?v.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return P!==null?null:x(h,v,""+m,L);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case sa:return m.key===P?a(h,v,m,L):null;case ni:return m.key===P?I(h,v,m,L):null;case Vr:return P=m._init,M(h,v,P(m._payload),L)}if(qi(m)||Bi(m))return P!==null?null:D(h,v,m,L,null);ya(h,m)}return null}function B(h,v,m,L,P){if(typeof L=="string"&&L!==""||typeof L=="number")return h=h.get(m)||null,x(v,h,""+L,P);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case sa:return h=h.get(L.key===null?m:L.key)||null,a(v,h,L,P);case ni:return h=h.get(L.key===null?m:L.key)||null,I(v,h,L,P);case Vr:var c=L._init;return B(h,v,m,c(L._payload),P)}if(qi(L)||Bi(L))return h=h.get(m)||null,D(v,h,L,P,null);ya(v,L)}return null}function A(h,v,m,L){for(var P=null,c=null,l=v,u=v=0,E=null;l!==null&&u<m.length;u++){l.index>u?(E=l,l=null):E=l.sibling;var y=M(h,l,m[u],L);if(y===null){l===null&&(l=E);break}e&&l&&y.alternate===null&&t(h,l),v=o(y,v,u),c===null?P=y:c.sibling=y,c=y,l=E}if(u===m.length)return r(h,l),He&&_n(h,u),P;if(l===null){for(;u<m.length;u++)l=F(h,m[u],L),l!==null&&(v=o(l,v,u),c===null?P=l:c.sibling=l,c=l);return He&&_n(h,u),P}for(l=n(h,l);u<m.length;u++)E=B(l,h,u,m[u],L),E!==null&&(e&&E.alternate!==null&&l.delete(E.key===null?u:E.key),v=o(E,v,u),c===null?P=E:c.sibling=E,c=E);return e&&l.forEach(function(d){return t(h,d)}),He&&_n(h,u),P}function _(h,v,m,L){var P=Bi(m);if(typeof P!="function")throw Error(ee(150));if(m=P.call(m),m==null)throw Error(ee(151));for(var c=P=null,l=v,u=v=0,E=null,y=m.next();l!==null&&!y.done;u++,y=m.next()){l.index>u?(E=l,l=null):E=l.sibling;var d=M(h,l,y.value,L);if(d===null){l===null&&(l=E);break}e&&l&&d.alternate===null&&t(h,l),v=o(d,v,u),c===null?P=d:c.sibling=d,c=d,l=E}if(y.done)return r(h,l),He&&_n(h,u),P;if(l===null){for(;!y.done;u++,y=m.next())y=F(h,y.value,L),y!==null&&(v=o(y,v,u),c===null?P=y:c.sibling=y,c=y);return He&&_n(h,u),P}for(l=n(h,l);!y.done;u++,y=m.next())y=B(l,h,u,y.value,L),y!==null&&(e&&y.alternate!==null&&l.delete(y.key===null?u:y.key),v=o(y,v,u),c===null?P=y:c.sibling=y,c=y);return e&&l.forEach(function(f){return t(h,f)}),He&&_n(h,u),P}function w(h,v,m,L){if(typeof m=="object"&&m!==null&&m.type===ii&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case sa:e:{for(var P=m.key,c=v;c!==null;){if(c.key===P){if(P=m.type,P===ii){if(c.tag===7){r(h,c.sibling),v=i(c,m.props.children),v.return=h,h=v;break e}}else if(c.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Vr&&hh(P)===c.type){r(h,c.sibling),v=i(c,m.props),v.ref=zi(h,c,m),v.return=h,h=v;break e}r(h,c);break}else t(h,c);c=c.sibling}m.type===ii?(v=wn(m.props.children,h.mode,L,m.key),v.return=h,h=v):(L=$a(m.type,m.key,m.props,null,h.mode,L),L.ref=zi(h,v,m),L.return=h,h=L)}return s(h);case ni:e:{for(c=m.key;v!==null;){if(v.key===c)if(v.tag===4&&v.stateNode.containerInfo===m.containerInfo&&v.stateNode.implementation===m.implementation){r(h,v.sibling),v=i(v,m.children||[]),v.return=h,h=v;break e}else{r(h,v);break}else t(h,v);v=v.sibling}v=ru(m,h.mode,L),v.return=h,h=v}return s(h);case Vr:return c=m._init,w(h,v,c(m._payload),L)}if(qi(m))return A(h,v,m,L);if(Bi(m))return _(h,v,m,L);ya(h,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,v!==null&&v.tag===6?(r(h,v.sibling),v=i(v,m),v.return=h,h=v):(r(h,v),v=tu(m,h.mode,L),v.return=h,h=v),s(h)):r(h,v)}return w}var Ri=xg(!0),Tg=xg(!1),Xo={},_r=pn(Xo),Oo=pn(Xo),Mo=pn(Xo);function In(e){if(e===Xo)throw Error(ee(174));return e}function id(e,t){switch($e(Mo,t),$e(Oo,e),$e(_r,Xo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Du(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Du(t,e)}Ke(_r),$e(_r,t)}function bi(){Ke(_r),Ke(Oo),Ke(Mo)}function Sg(e){In(Mo.current);var t=In(_r.current),r=Du(t,e.type);t!==r&&($e(Oo,e),$e(_r,r))}function od(e){Oo.current===e&&(Ke(_r),Ke(Oo))}var Ge=pn(0);function us(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xl=[];function ad(){for(var e=0;e<Xl.length;e++)Xl[e]._workInProgressVersionPrimary=null;Xl.length=0}var wa=Ur.ReactCurrentDispatcher,Ql=Ur.ReactCurrentBatchConfig,Un=0,Ve=null,it=null,at=null,cs=!1,ho=!1,ko=0,ix=0;function mt(){throw Error(ee(321))}function sd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!hr(e[r],t[r]))return!1;return!0}function ld(e,t,r,n,i,o){if(Un=o,Ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wa.current=e===null||e.memoizedState===null?lx:ux,e=r(n,i),ho){o=0;do{if(ho=!1,ko=0,25<=o)throw Error(ee(301));o+=1,at=it=null,t.updateQueue=null,wa.current=cx,e=r(n,i)}while(ho)}if(wa.current=ds,t=it!==null&&it.next!==null,Un=0,at=it=Ve=null,cs=!1,t)throw Error(ee(300));return e}function ud(){var e=ko!==0;return ko=0,e}function mr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Ve.memoizedState=at=e:at=at.next=e,at}function nr(){if(it===null){var e=Ve.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=at===null?Ve.memoizedState:at.next;if(t!==null)at=t,it=e;else{if(e===null)throw Error(ee(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},at===null?Ve.memoizedState=at=e:at=at.next=e}return at}function wo(e,t){return typeof t=="function"?t(e):t}function Jl(e){var t=nr(),r=t.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=e;var n=it,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var x=s=null,a=null,I=o;do{var D=I.lane;if((Un&D)===D)a!==null&&(a=a.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),n=I.hasEagerState?I.eagerState:e(n,I.action);else{var F={lane:D,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};a===null?(x=a=F,s=n):a=a.next=F,Ve.lanes|=D,$n|=D}I=I.next}while(I!==null&&I!==o);a===null?s=n:a.next=x,hr(n,t.memoizedState)||(It=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=a,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,Ve.lanes|=o,$n|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Zl(e){var t=nr(),r=t.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);hr(o,t.memoizedState)||(It=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function _g(){}function Cg(e,t){var r=Ve,n=nr(),i=t(),o=!hr(n.memoizedState,i);if(o&&(n.memoizedState=i,It=!0),n=n.queue,cd(Lg.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||at!==null&&at.memoizedState.tag&1){if(r.flags|=2048,Fo(9,bg.bind(null,r,n,i,t),void 0,null),st===null)throw Error(ee(349));(Un&30)!==0||Rg(r,t,i)}return i}function Rg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function bg(e,t,r,n){t.value=r,t.getSnapshot=n,Pg(t)&&Dg(e)}function Lg(e,t,r){return r(function(){Pg(t)&&Dg(e)})}function Pg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!hr(e,r)}catch{return!0}}function Dg(e){var t=Nr(e,1);t!==null&&fr(t,e,1,-1)}function ph(e){var t=mr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=sx.bind(null,Ve,e),[t.memoizedState,e]}function Fo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Ig(){return nr().memoizedState}function Fa(e,t,r,n){var i=mr();Ve.flags|=e,i.memoizedState=Fo(1|t,r,void 0,n===void 0?null:n)}function As(e,t,r,n){var i=nr();n=n===void 0?null:n;var o=void 0;if(it!==null){var s=it.memoizedState;if(o=s.destroy,n!==null&&sd(n,s.deps)){i.memoizedState=Fo(t,r,o,n);return}}Ve.flags|=e,i.memoizedState=Fo(1|t,r,o,n)}function vh(e,t){return Fa(8390656,8,e,t)}function cd(e,t){return As(2048,8,e,t)}function Ag(e,t){return As(4,2,e,t)}function Og(e,t){return As(4,4,e,t)}function Mg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kg(e,t,r){return r=r!=null?r.concat([e]):null,As(4,4,Mg.bind(null,t,e),r)}function dd(){}function wg(e,t){var r=nr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&sd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Fg(e,t){var r=nr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&sd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ng(e,t,r){return(Un&21)===0?(e.baseState&&(e.baseState=!1,It=!0),e.memoizedState=r):(hr(r,t)||(r=$v(),Ve.lanes|=r,$n|=r,e.baseState=!0),t)}function ox(e,t){var r=ke;ke=r!==0&&4>r?r:4,e(!0);var n=Ql.transition;Ql.transition={};try{e(!1),t()}finally{ke=r,Ql.transition=n}}function Bg(){return nr().memoizedState}function ax(e,t,r){var n=an(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ug(e))$g(t,r);else if(r=gg(e,t,r,n),r!==null){var i=Rt();fr(r,e,n,i),Wg(r,t,n)}}function sx(e,t,r){var n=an(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ug(e))$g(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,x=o(s,r);if(i.hasEagerState=!0,i.eagerState=x,hr(x,s)){var a=t.interleaved;a===null?(i.next=i,rd(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}r=gg(e,t,i,n),r!==null&&(i=Rt(),fr(r,e,n,i),Wg(r,t,n))}}function Ug(e){var t=e.alternate;return e===Ve||t!==null&&t===Ve}function $g(e,t){ho=cs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Wg(e,t,r){if((r&4194240)!==0){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Kc(e,r)}}var ds={readContext:rr,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},lx={readContext:rr,useCallback:function(e,t){return mr().memoizedState=[e,t===void 0?null:t],e},useContext:rr,useEffect:vh,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Fa(4194308,4,Mg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Fa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fa(4,2,e,t)},useMemo:function(e,t){var r=mr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=mr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ax.bind(null,Ve,e),[n.memoizedState,e]},useRef:function(e){var t=mr();return e={current:e},t.memoizedState=e},useState:ph,useDebugValue:dd,useDeferredValue:function(e){return mr().memoizedState=e},useTransition:function(){var e=ph(!1),t=e[0];return e=ox.bind(null,e[1]),mr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ve,i=mr();if(He){if(r===void 0)throw Error(ee(407));r=r()}else{if(r=t(),st===null)throw Error(ee(349));(Un&30)!==0||Rg(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,vh(Lg.bind(null,n,o,e),[e]),n.flags|=2048,Fo(9,bg.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=mr(),t=st.identifierPrefix;if(He){var r=Ar,n=Ir;r=(n&~(1<<32-dr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ko++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ix++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ux={readContext:rr,useCallback:wg,useContext:rr,useEffect:cd,useImperativeHandle:kg,useInsertionEffect:Ag,useLayoutEffect:Og,useMemo:Fg,useReducer:Jl,useRef:Ig,useState:function(){return Jl(wo)},useDebugValue:dd,useDeferredValue:function(e){var t=nr();return Ng(t,it.memoizedState,e)},useTransition:function(){var e=Jl(wo)[0],t=nr().memoizedState;return[e,t]},useMutableSource:_g,useSyncExternalStore:Cg,useId:Bg,unstable_isNewReconciler:!1},cx={readContext:rr,useCallback:wg,useContext:rr,useEffect:cd,useImperativeHandle:kg,useInsertionEffect:Ag,useLayoutEffect:Og,useMemo:Fg,useReducer:Zl,useRef:Ig,useState:function(){return Zl(wo)},useDebugValue:dd,useDeferredValue:function(e){var t=nr();return it===null?t.memoizedState=e:Ng(t,it.memoizedState,e)},useTransition:function(){var e=Zl(wo)[0],t=nr().memoizedState;return[e,t]},useMutableSource:_g,useSyncExternalStore:Cg,useId:Bg,unstable_isNewReconciler:!1};function Li(e,t){try{var r="",n=t;do r+=By(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function ql(e,t,r){return{value:e,source:null,stack:r!=null?r:null,digest:t!=null?t:null}}function Zu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var dx=typeof WeakMap=="function"?WeakMap:Map;function Kg(e,t,r){r=Or(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){hs||(hs=!0,lc=n),Zu(e,t)},r}function zg(e,t,r){r=Or(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Zu(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Zu(e,t),typeof n!="function"&&(on===null?on=new Set([this]):on.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function gh(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new dx;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Rx.bind(null,e,t,r),t.then(e,e))}function mh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yh(e,t,r,n,i){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Or(-1,1),t.tag=2,nn(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var fx=Ur.ReactCurrentOwner,It=!1;function Ct(e,t,r,n){t.child=e===null?Tg(t,null,r,n):Ri(t,e.child,r,n)}function Eh(e,t,r,n,i){r=r.render;var o=t.ref;return Ei(t,i),n=ld(e,t,r,n,o,i),r=ud(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Br(e,t,i)):(He&&r&&Qc(t),t.flags|=1,Ct(e,t,n,i),t.child)}function xh(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!Ed(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Hg(e,t,o,n,i)):(e=$a(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,(e.lanes&i)===0){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:Po,r(s,n)&&e.ref===t.ref)return Br(e,t,i)}return t.flags|=1,e=sn(o,n),e.ref=t.ref,e.return=t,t.child=e}function Hg(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(Po(o,n)&&e.ref===t.ref)if(It=!1,t.pendingProps=n=o,(e.lanes&i)!==0)(e.flags&131072)!==0&&(It=!0);else return t.lanes=e.lanes,Br(e,t,i)}return qu(e,t,r,n,i)}function jg(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(pi,$t),$t|=r;else{if((r&1073741824)===0)return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(pi,$t),$t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,$e(pi,$t),$t|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,$e(pi,$t),$t|=n;return Ct(e,t,i,r),t.child}function Gg(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function qu(e,t,r,n,i){var o=Ot(r)?Nn:Tt.current;return o=_i(t,o),Ei(t,i),r=ld(e,t,r,n,o,i),n=ud(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Br(e,t,i)):(He&&n&&Qc(t),t.flags|=1,Ct(e,t,r,i),t.child)}function Th(e,t,r,n,i){if(Ot(r)){var o=!0;ns(t)}else o=!1;if(Ei(t,i),t.stateNode===null)Na(e,t),Eg(t,r,n),Ju(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,x=t.memoizedProps;s.props=x;var a=s.context,I=r.contextType;typeof I=="object"&&I!==null?I=rr(I):(I=Ot(r)?Nn:Tt.current,I=_i(t,I));var D=r.getDerivedStateFromProps,F=typeof D=="function"||typeof s.getSnapshotBeforeUpdate=="function";F||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(x!==n||a!==I)&&fh(t,s,n,I),Yr=!1;var M=t.memoizedState;s.state=M,ls(t,n,s,i),a=t.memoizedState,x!==n||M!==a||At.current||Yr?(typeof D=="function"&&(Qu(t,r,D,n),a=t.memoizedState),(x=Yr||dh(t,r,x,n,M,a,I))?(F||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=a),s.props=n,s.state=a,s.context=I,n=x):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,mg(e,t),x=t.memoizedProps,I=t.type===t.elementType?x:sr(t.type,x),s.props=I,F=t.pendingProps,M=s.context,a=r.contextType,typeof a=="object"&&a!==null?a=rr(a):(a=Ot(r)?Nn:Tt.current,a=_i(t,a));var B=r.getDerivedStateFromProps;(D=typeof B=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(x!==F||M!==a)&&fh(t,s,n,a),Yr=!1,M=t.memoizedState,s.state=M,ls(t,n,s,i);var A=t.memoizedState;x!==F||M!==A||At.current||Yr?(typeof B=="function"&&(Qu(t,r,B,n),A=t.memoizedState),(I=Yr||dh(t,r,I,n,M,A,a)||!1)?(D||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,A,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,A,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||x===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=A),s.props=n,s.state=A,s.context=a,n=I):(typeof s.componentDidUpdate!="function"||x===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),n=!1)}return ec(e,t,r,n,o,i)}function ec(e,t,r,n,i,o){Gg(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&ah(t,r,!1),Br(e,t,o);n=t.stateNode,fx.current=t;var x=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Ri(t,e.child,null,o),t.child=Ri(t,null,x,o)):Ct(e,t,x,o),t.memoizedState=n.state,i&&ah(t,r,!0),t.child}function Vg(e){var t=e.stateNode;t.pendingContext?oh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&oh(e,t.context,!1),id(e,t.containerInfo)}function Sh(e,t,r,n,i){return Ci(),Zc(i),t.flags|=256,Ct(e,t,r,n),t.child}var tc={dehydrated:null,treeContext:null,retryLane:0};function rc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Yg(e,t,r){var n=t.pendingProps,i=Ge.current,o=!1,s=(t.flags&128)!==0,x;if((x=s)||(x=e!==null&&e.memoizedState===null?!1:(i&2)!==0),x?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),$e(Ge,i&1),e===null)return Yu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(s=n.children,e=n.fallback,o?(n=t.mode,o=t.child,s={mode:"hidden",children:s},(n&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=s):o=ks(s,n,0,null),e=wn(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=rc(r),t.memoizedState=tc,e):fd(t,s));if(i=e.memoizedState,i!==null&&(x=i.dehydrated,x!==null))return hx(e,t,s,n,x,i,r);if(o){o=n.fallback,s=t.mode,i=e.child,x=i.sibling;var a={mode:"hidden",children:n.children};return(s&1)===0&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=a,t.deletions=null):(n=sn(i,a),n.subtreeFlags=i.subtreeFlags&14680064),x!==null?o=sn(x,o):(o=wn(o,s,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,s=e.child.memoizedState,s=s===null?rc(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~r,t.memoizedState=tc,n}return o=e.child,e=o.sibling,n=sn(o,{mode:"visible",children:n.children}),(t.mode&1)===0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function fd(e,t){return t=ks({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ea(e,t,r,n){return n!==null&&Zc(n),Ri(t,e.child,null,r),e=fd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hx(e,t,r,n,i,o,s){if(r)return t.flags&256?(t.flags&=-257,n=ql(Error(ee(422))),Ea(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=ks({mode:"visible",children:n.children},i,0,null),o=wn(o,i,s,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,(t.mode&1)!==0&&Ri(t,e.child,null,s),t.child.memoizedState=rc(s),t.memoizedState=tc,o);if((t.mode&1)===0)return Ea(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var x=n.dgst;return n=x,o=Error(ee(419)),n=ql(o,n,void 0),Ea(e,t,s,n)}if(x=(s&e.childLanes)!==0,It||x){if(n=st,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(n.suspendedLanes|s))!==0?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Nr(e,i),fr(n,e,i,-1))}return yd(),n=ql(Error(ee(421))),Ea(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=bx.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Wt=rn(i.nextSibling),Kt=t,He=!0,cr=null,e!==null&&(Qt[Jt++]=Ir,Qt[Jt++]=Ar,Qt[Jt++]=Bn,Ir=e.id,Ar=e.overflow,Bn=t),t=fd(t,n.children),t.flags|=4096,t)}function _h(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Xu(e.return,t,r)}function eu(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function Xg(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Ct(e,t,n.children,r),n=Ge.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_h(e,r,t);else if(e.tag===19)_h(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if($e(Ge,n),(t.mode&1)===0)t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&us(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),eu(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&us(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}eu(t,!0,r,null,o);break;case"together":eu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Na(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Br(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),$n|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(ee(153));if(t.child!==null){for(e=t.child,r=sn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=sn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function px(e,t,r){switch(t.tag){case 3:Vg(t),Ci();break;case 5:Sg(t);break;case 1:Ot(t.type)&&ns(t);break;case 4:id(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;$e(as,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?($e(Ge,Ge.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?Yg(e,t,r):($e(Ge,Ge.current&1),e=Br(e,t,r),e!==null?e.sibling:null);$e(Ge,Ge.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&128)!==0){if(n)return Xg(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$e(Ge,Ge.current),n)break;return null;case 22:case 23:return t.lanes=0,jg(e,t,r)}return Br(e,t,r)}var Qg,nc,Jg,Zg;Qg=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};nc=function(){};Jg=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,In(_r.current);var o=null;switch(r){case"input":i=Ru(e,i),n=Ru(e,n),o=[];break;case"select":i=Ye({},i,{value:void 0}),n=Ye({},n,{value:void 0}),o=[];break;case"textarea":i=Pu(e,i),n=Pu(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ts)}Iu(r,n);var s;r=null;for(I in i)if(!n.hasOwnProperty(I)&&i.hasOwnProperty(I)&&i[I]!=null)if(I==="style"){var x=i[I];for(s in x)x.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(To.hasOwnProperty(I)?o||(o=[]):(o=o||[]).push(I,null));for(I in n){var a=n[I];if(x=i!=null?i[I]:void 0,n.hasOwnProperty(I)&&a!==x&&(a!=null||x!=null))if(I==="style")if(x){for(s in x)!x.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in a)a.hasOwnProperty(s)&&x[s]!==a[s]&&(r||(r={}),r[s]=a[s])}else r||(o||(o=[]),o.push(I,r)),r=a;else I==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,x=x?x.__html:void 0,a!=null&&x!==a&&(o=o||[]).push(I,a)):I==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(I,""+a):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(To.hasOwnProperty(I)?(a!=null&&I==="onScroll"&&We("scroll",e),o||x===a||(o=[])):(o=o||[]).push(I,a))}r&&(o=o||[]).push("style",r);var I=o;(t.updateQueue=I)&&(t.flags|=4)}};Zg=function(e,t,r,n){r!==n&&(t.flags|=4)};function Hi(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function vx(e,t,r){var n=t.pendingProps;switch(Jc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(t),null;case 1:return Ot(t.type)&&rs(),yt(t),null;case 3:return n=t.stateNode,bi(),Ke(At),Ke(Tt),ad(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ma(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,cr!==null&&(dc(cr),cr=null))),nc(e,t),yt(t),null;case 5:od(t);var i=In(Mo.current);if(r=t.type,e!==null&&t.stateNode!=null)Jg(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ee(166));return yt(t),null}if(e=In(_r.current),ma(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Tr]=t,n[Ao]=o,e=(t.mode&1)!==0,r){case"dialog":We("cancel",n),We("close",n);break;case"iframe":case"object":case"embed":We("load",n);break;case"video":case"audio":for(i=0;i<to.length;i++)We(to[i],n);break;case"source":We("error",n);break;case"img":case"image":case"link":We("error",n),We("load",n);break;case"details":We("toggle",n);break;case"input":Of(n,o),We("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},We("invalid",n);break;case"textarea":kf(n,o),We("invalid",n)}Iu(r,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var x=o[s];s==="children"?typeof x=="string"?n.textContent!==x&&(o.suppressHydrationWarning!==!0&&ga(n.textContent,x,e),i=["children",x]):typeof x=="number"&&n.textContent!==""+x&&(o.suppressHydrationWarning!==!0&&ga(n.textContent,x,e),i=["children",""+x]):To.hasOwnProperty(s)&&x!=null&&s==="onScroll"&&We("scroll",n)}switch(r){case"input":la(n),Mf(n,o,!0);break;case"textarea":la(n),wf(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=ts)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Rv(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Tr]=t,e[Ao]=n,Qg(e,t,!1,!1),t.stateNode=e;e:{switch(s=Au(r,n),r){case"dialog":We("cancel",e),We("close",e),i=n;break;case"iframe":case"object":case"embed":We("load",e),i=n;break;case"video":case"audio":for(i=0;i<to.length;i++)We(to[i],e);i=n;break;case"source":We("error",e),i=n;break;case"img":case"image":case"link":We("error",e),We("load",e),i=n;break;case"details":We("toggle",e),i=n;break;case"input":Of(e,n),i=Ru(e,n),We("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Ye({},n,{value:void 0}),We("invalid",e);break;case"textarea":kf(e,n),i=Pu(e,n),We("invalid",e);break;default:i=n}Iu(r,i),x=i;for(o in x)if(x.hasOwnProperty(o)){var a=x[o];o==="style"?Pv(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&bv(e,a)):o==="children"?typeof a=="string"?(r!=="textarea"||a!=="")&&So(e,a):typeof a=="number"&&So(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(To.hasOwnProperty(o)?a!=null&&o==="onScroll"&&We("scroll",e):a!=null&&Fc(e,o,a,s))}switch(r){case"input":la(e),Mf(e,n,!1);break;case"textarea":la(e),wf(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ln(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?vi(e,!!n.multiple,o,!1):n.defaultValue!=null&&vi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ts)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yt(t),null;case 6:if(e&&t.stateNode!=null)Zg(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ee(166));if(r=In(Mo.current),In(_r.current),ma(t)){if(n=t.stateNode,r=t.memoizedProps,n[Tr]=t,(o=n.nodeValue!==r)&&(e=Kt,e!==null))switch(e.tag){case 3:ga(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ga(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Tr]=t,t.stateNode=n}return yt(t),null;case 13:if(Ke(Ge),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&Wt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)vg(),Ci(),t.flags|=98560,o=!1;else if(o=ma(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(ee(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ee(317));o[Tr]=t}else Ci(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;yt(t),o=!1}else cr!==null&&(dc(cr),cr=null),o=!0;if(!o)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ge.current&1)!==0?ot===0&&(ot=3):yd())),t.updateQueue!==null&&(t.flags|=4),yt(t),null);case 4:return bi(),nc(e,t),e===null&&Do(t.stateNode.containerInfo),yt(t),null;case 10:return td(t.type._context),yt(t),null;case 17:return Ot(t.type)&&rs(),yt(t),null;case 19:if(Ke(Ge),o=t.memoizedState,o===null)return yt(t),null;if(n=(t.flags&128)!==0,s=o.rendering,s===null)if(n)Hi(o,!1);else{if(ot!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=us(e),s!==null){for(t.flags|=128,Hi(o,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return $e(Ge,Ge.current&1|2),t.child}e=e.sibling}o.tail!==null&&qe()>Pi&&(t.flags|=128,n=!0,Hi(o,!1),t.lanes=4194304)}else{if(!n)if(e=us(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Hi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!He)return yt(t),null}else 2*qe()-o.renderingStartTime>Pi&&r!==1073741824&&(t.flags|=128,n=!0,Hi(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(r=o.last,r!==null?r.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=qe(),t.sibling=null,r=Ge.current,$e(Ge,n?r&1|2:r&1),t):(yt(t),null);case 22:case 23:return md(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&(t.mode&1)!==0?($t&1073741824)!==0&&(yt(t),t.subtreeFlags&6&&(t.flags|=8192)):yt(t),null;case 24:return null;case 25:return null}throw Error(ee(156,t.tag))}function gx(e,t){switch(Jc(t),t.tag){case 1:return Ot(t.type)&&rs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bi(),Ke(At),Ke(Tt),ad(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return od(t),null;case 13:if(Ke(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ee(340));Ci()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ke(Ge),null;case 4:return bi(),null;case 10:return td(t.type._context),null;case 22:case 23:return md(),null;case 24:return null;default:return null}}var xa=!1,xt=!1,mx=typeof WeakSet=="function"?WeakSet:Set,de=null;function hi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Xe(e,t,n)}else r.current=null}function ic(e,t,r){try{r()}catch(n){Xe(e,t,n)}}var Ch=!1;function yx(e,t){if(Wu=Za,e=rg(),Xc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,x=-1,a=-1,I=0,D=0,F=e,M=null;t:for(;;){for(var B;F!==r||i!==0&&F.nodeType!==3||(x=s+i),F!==o||n!==0&&F.nodeType!==3||(a=s+n),F.nodeType===3&&(s+=F.nodeValue.length),(B=F.firstChild)!==null;)M=F,F=B;for(;;){if(F===e)break t;if(M===r&&++I===i&&(x=s),M===o&&++D===n&&(a=s),(B=F.nextSibling)!==null)break;F=M,M=F.parentNode}F=B}r=x===-1||a===-1?null:{start:x,end:a}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ku={focusedElem:e,selectionRange:r},Za=!1,de=t;de!==null;)if(t=de,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,de=e;else for(;de!==null;){t=de;try{var A=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var _=A.memoizedProps,w=A.memoizedState,h=t.stateNode,v=h.getSnapshotBeforeUpdate(t.elementType===t.type?_:sr(t.type,_),w);h.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(L){Xe(t,t.return,L)}if(e=t.sibling,e!==null){e.return=t.return,de=e;break}de=t.return}return A=Ch,Ch=!1,A}function po(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&ic(t,r,o)}i=i.next}while(i!==n)}}function Os(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function oc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function qg(e){var t=e.alternate;t!==null&&(e.alternate=null,qg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tr],delete t[Ao],delete t[ju],delete t[ex],delete t[tx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function em(e){return e.tag===5||e.tag===3||e.tag===4}function Rh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||em(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ac(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ts));else if(n!==4&&(e=e.child,e!==null))for(ac(e,t,r),e=e.sibling;e!==null;)ac(e,t,r),e=e.sibling}function sc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(sc(e,t,r),e=e.sibling;e!==null;)sc(e,t,r),e=e.sibling}var dt=null,ur=!1;function Kr(e,t,r){for(r=r.child;r!==null;)tm(e,t,r),r=r.sibling}function tm(e,t,r){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(Cs,r)}catch{}switch(r.tag){case 5:xt||hi(r,t);case 6:var n=dt,i=ur;dt=null,Kr(e,t,r),dt=n,ur=i,dt!==null&&(ur?(e=dt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):dt.removeChild(r.stateNode));break;case 18:dt!==null&&(ur?(e=dt,r=r.stateNode,e.nodeType===8?Vl(e.parentNode,r):e.nodeType===1&&Vl(e,r),bo(e)):Vl(dt,r.stateNode));break;case 4:n=dt,i=ur,dt=r.stateNode.containerInfo,ur=!0,Kr(e,t,r),dt=n,ur=i;break;case 0:case 11:case 14:case 15:if(!xt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&((o&2)!==0||(o&4)!==0)&&ic(r,t,s),i=i.next}while(i!==n)}Kr(e,t,r);break;case 1:if(!xt&&(hi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(x){Xe(r,t,x)}Kr(e,t,r);break;case 21:Kr(e,t,r);break;case 22:r.mode&1?(xt=(n=xt)||r.memoizedState!==null,Kr(e,t,r),xt=n):Kr(e,t,r);break;default:Kr(e,t,r)}}function bh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new mx),t.forEach(function(n){var i=Lx.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ar(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,s=t,x=s;e:for(;x!==null;){switch(x.tag){case 5:dt=x.stateNode,ur=!1;break e;case 3:dt=x.stateNode.containerInfo,ur=!0;break e;case 4:dt=x.stateNode.containerInfo,ur=!0;break e}x=x.return}if(dt===null)throw Error(ee(160));tm(o,s,i),dt=null,ur=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(I){Xe(i,t,I)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rm(t,e),t=t.sibling}function rm(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ar(t,e),gr(e),n&4){try{po(3,e,e.return),Os(3,e)}catch(_){Xe(e,e.return,_)}try{po(5,e,e.return)}catch(_){Xe(e,e.return,_)}}break;case 1:ar(t,e),gr(e),n&512&&r!==null&&hi(r,r.return);break;case 5:if(ar(t,e),gr(e),n&512&&r!==null&&hi(r,r.return),e.flags&32){var i=e.stateNode;try{So(i,"")}catch(_){Xe(e,e.return,_)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=r!==null?r.memoizedProps:o,x=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{x==="input"&&o.type==="radio"&&o.name!=null&&_v(i,o),Au(x,s);var I=Au(x,o);for(s=0;s<a.length;s+=2){var D=a[s],F=a[s+1];D==="style"?Pv(i,F):D==="dangerouslySetInnerHTML"?bv(i,F):D==="children"?So(i,F):Fc(i,D,F,I)}switch(x){case"input":bu(i,o);break;case"textarea":Cv(i,o);break;case"select":var M=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var B=o.value;B!=null?vi(i,!!o.multiple,B,!1):M!==!!o.multiple&&(o.defaultValue!=null?vi(i,!!o.multiple,o.defaultValue,!0):vi(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ao]=o}catch(_){Xe(e,e.return,_)}}break;case 6:if(ar(t,e),gr(e),n&4){if(e.stateNode===null)throw Error(ee(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(_){Xe(e,e.return,_)}}break;case 3:if(ar(t,e),gr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{bo(t.containerInfo)}catch(_){Xe(e,e.return,_)}break;case 4:ar(t,e),gr(e);break;case 13:ar(t,e),gr(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(vd=qe())),n&4&&bh(e);break;case 22:if(D=r!==null&&r.memoizedState!==null,e.mode&1?(xt=(I=xt)||D,ar(t,e),xt=I):ar(t,e),gr(e),n&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!D&&(e.mode&1)!==0)for(de=e,D=e.child;D!==null;){for(F=de=D;de!==null;){switch(M=de,B=M.child,M.tag){case 0:case 11:case 14:case 15:po(4,M,M.return);break;case 1:hi(M,M.return);var A=M.stateNode;if(typeof A.componentWillUnmount=="function"){n=M,r=M.return;try{t=n,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(_){Xe(n,r,_)}}break;case 5:hi(M,M.return);break;case 22:if(M.memoizedState!==null){Ph(F);continue}}B!==null?(B.return=M,de=B):Ph(F)}D=D.sibling}e:for(D=null,F=e;;){if(F.tag===5){if(D===null){D=F;try{i=F.stateNode,I?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(x=F.stateNode,a=F.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,x.style.display=Lv("display",s))}catch(_){Xe(e,e.return,_)}}}else if(F.tag===6){if(D===null)try{F.stateNode.nodeValue=I?"":F.memoizedProps}catch(_){Xe(e,e.return,_)}}else if((F.tag!==22&&F.tag!==23||F.memoizedState===null||F===e)&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===e)break e;for(;F.sibling===null;){if(F.return===null||F.return===e)break e;D===F&&(D=null),F=F.return}D===F&&(D=null),F.sibling.return=F.return,F=F.sibling}}break;case 19:ar(t,e),gr(e),n&4&&bh(e);break;case 21:break;default:ar(t,e),gr(e)}}function gr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(em(r)){var n=r;break e}r=r.return}throw Error(ee(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(So(i,""),n.flags&=-33);var o=Rh(e);sc(e,o,i);break;case 3:case 4:var s=n.stateNode.containerInfo,x=Rh(e);ac(e,x,s);break;default:throw Error(ee(161))}}catch(a){Xe(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ex(e,t,r){de=e,nm(e)}function nm(e,t,r){for(var n=(e.mode&1)!==0;de!==null;){var i=de,o=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||xa;if(!s){var x=i.alternate,a=x!==null&&x.memoizedState!==null||xt;x=xa;var I=xt;if(xa=s,(xt=a)&&!I)for(de=i;de!==null;)s=de,a=s.child,s.tag===22&&s.memoizedState!==null?Dh(i):a!==null?(a.return=s,de=a):Dh(i);for(;o!==null;)de=o,nm(o),o=o.sibling;de=i,xa=x,xt=I}Lh(e)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,de=o):Lh(e)}}function Lh(e){for(;de!==null;){var t=de;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:xt||Os(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!xt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:sr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&ch(t,o,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ch(t,s,r)}break;case 5:var x=t.stateNode;if(r===null&&t.flags&4){r=x;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var I=t.alternate;if(I!==null){var D=I.memoizedState;if(D!==null){var F=D.dehydrated;F!==null&&bo(F)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}xt||t.flags&512&&oc(t)}catch(M){Xe(t,t.return,M)}}if(t===e){de=null;break}if(r=t.sibling,r!==null){r.return=t.return,de=r;break}de=t.return}}function Ph(e){for(;de!==null;){var t=de;if(t===e){de=null;break}var r=t.sibling;if(r!==null){r.return=t.return,de=r;break}de=t.return}}function Dh(e){for(;de!==null;){var t=de;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Os(4,t)}catch(a){Xe(t,r,a)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(a){Xe(t,i,a)}}var o=t.return;try{oc(t)}catch(a){Xe(t,o,a)}break;case 5:var s=t.return;try{oc(t)}catch(a){Xe(t,s,a)}}}catch(a){Xe(t,t.return,a)}if(t===e){de=null;break}var x=t.sibling;if(x!==null){x.return=t.return,de=x;break}de=t.return}}var xx=Math.ceil,fs=Ur.ReactCurrentDispatcher,hd=Ur.ReactCurrentOwner,qt=Ur.ReactCurrentBatchConfig,Le=0,st=null,rt=null,ht=0,$t=0,pi=pn(0),ot=0,No=null,$n=0,Ms=0,pd=0,vo=null,Dt=null,vd=0,Pi=1/0,Pr=null,hs=!1,lc=null,on=null,Ta=!1,Zr=null,ps=0,go=0,uc=null,Ba=-1,Ua=0;function Rt(){return(Le&6)!==0?qe():Ba!==-1?Ba:Ba=qe()}function an(e){return(e.mode&1)===0?1:(Le&2)!==0&&ht!==0?ht&-ht:nx.transition!==null?(Ua===0&&(Ua=$v()),Ua):(e=ke,e!==0||(e=window.event,e=e===void 0?16:Vv(e.type)),e)}function fr(e,t,r,n){if(50<go)throw go=0,uc=null,Error(ee(185));Go(e,r,n),((Le&2)===0||e!==st)&&(e===st&&((Le&2)===0&&(Ms|=r),ot===4&&Qr(e,ht)),Mt(e,n),r===1&&Le===0&&(t.mode&1)===0&&(Pi=qe()+500,Ds&&vn()))}function Mt(e,t){var r=e.callbackNode;nE(e,t);var n=Ja(e,e===st?ht:0);if(n===0)r!==null&&Bf(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Bf(r),t===1)e.tag===0?rx(Ih.bind(null,e)):fg(Ih.bind(null,e)),ZE(function(){(Le&6)===0&&vn()}),r=null;else{switch(Wv(n)){case 1:r=Wc;break;case 4:r=Bv;break;case 16:r=Qa;break;case 536870912:r=Uv;break;default:r=Qa}r=dm(r,im.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function im(e,t){if(Ba=-1,Ua=0,(Le&6)!==0)throw Error(ee(327));var r=e.callbackNode;if(xi()&&e.callbackNode!==r)return null;var n=Ja(e,e===st?ht:0);if(n===0)return null;if((n&30)!==0||(n&e.expiredLanes)!==0||t)t=vs(e,n);else{t=n;var i=Le;Le|=2;var o=am();(st!==e||ht!==t)&&(Pr=null,Pi=qe()+500,kn(e,t));do try{_x();break}catch(x){om(e,x)}while(1);ed(),fs.current=o,Le=i,rt!==null?t=0:(st=null,ht=0,t=ot)}if(t!==0){if(t===2&&(i=Fu(e),i!==0&&(n=i,t=cc(e,i))),t===1)throw r=No,kn(e,0),Qr(e,n),Mt(e,qe()),r;if(t===6)Qr(e,n);else{if(i=e.current.alternate,(n&30)===0&&!Tx(i)&&(t=vs(e,n),t===2&&(o=Fu(e),o!==0&&(n=o,t=cc(e,o))),t===1))throw r=No,kn(e,0),Qr(e,n),Mt(e,qe()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(ee(345));case 2:Cn(e,Dt,Pr);break;case 3:if(Qr(e,n),(n&130023424)===n&&(t=vd+500-qe(),10<t)){if(Ja(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Rt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hu(Cn.bind(null,e,Dt,Pr),t);break}Cn(e,Dt,Pr);break;case 4:if(Qr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-dr(n);o=1<<s,s=t[s],s>i&&(i=s),n&=~o}if(n=i,n=qe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xx(n/1960))-n,10<n){e.timeoutHandle=Hu(Cn.bind(null,e,Dt,Pr),n);break}Cn(e,Dt,Pr);break;case 5:Cn(e,Dt,Pr);break;default:throw Error(ee(329))}}}return Mt(e,qe()),e.callbackNode===r?im.bind(null,e):null}function cc(e,t){var r=vo;return e.current.memoizedState.isDehydrated&&(kn(e,t).flags|=256),e=vs(e,t),e!==2&&(t=Dt,Dt=r,t!==null&&dc(t)),e}function dc(e){Dt===null?Dt=e:Dt.push.apply(Dt,e)}function Tx(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!hr(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qr(e,t){for(t&=~pd,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-dr(t),n=1<<r;e[r]=-1,t&=~n}}function Ih(e){if((Le&6)!==0)throw Error(ee(327));xi();var t=Ja(e,0);if((t&1)===0)return Mt(e,qe()),null;var r=vs(e,t);if(e.tag!==0&&r===2){var n=Fu(e);n!==0&&(t=n,r=cc(e,n))}if(r===1)throw r=No,kn(e,0),Qr(e,t),Mt(e,qe()),r;if(r===6)throw Error(ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cn(e,Dt,Pr),Mt(e,qe()),null}function gd(e,t){var r=Le;Le|=1;try{return e(t)}finally{Le=r,Le===0&&(Pi=qe()+500,Ds&&vn())}}function Wn(e){Zr!==null&&Zr.tag===0&&(Le&6)===0&&xi();var t=Le;Le|=1;var r=qt.transition,n=ke;try{if(qt.transition=null,ke=1,e)return e()}finally{ke=n,qt.transition=r,Le=t,(Le&6)===0&&vn()}}function md(){$t=pi.current,Ke(pi)}function kn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,JE(r)),rt!==null)for(r=rt.return;r!==null;){var n=r;switch(Jc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&rs();break;case 3:bi(),Ke(At),Ke(Tt),ad();break;case 5:od(n);break;case 4:bi();break;case 13:Ke(Ge);break;case 19:Ke(Ge);break;case 10:td(n.type._context);break;case 22:case 23:md()}r=r.return}if(st=e,rt=e=sn(e.current,null),ht=$t=t,ot=0,No=null,pd=Ms=$n=0,Dt=vo=null,Dn!==null){for(t=0;t<Dn.length;t++)if(r=Dn[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var s=o.next;o.next=i,n.next=s}r.pending=n}Dn=null}return e}function om(e,t){do{var r=rt;try{if(ed(),wa.current=ds,cs){for(var n=Ve.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}cs=!1}if(Un=0,at=it=Ve=null,ho=!1,ko=0,hd.current=null,r===null||r.return===null){ot=1,No=t,rt=null;break}e:{var o=e,s=r.return,x=r,a=t;if(t=ht,x.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var I=a,D=x,F=D.tag;if((D.mode&1)===0&&(F===0||F===11||F===15)){var M=D.alternate;M?(D.updateQueue=M.updateQueue,D.memoizedState=M.memoizedState,D.lanes=M.lanes):(D.updateQueue=null,D.memoizedState=null)}var B=mh(s);if(B!==null){B.flags&=-257,yh(B,s,x,o,t),B.mode&1&&gh(o,I,t),t=B,a=I;var A=t.updateQueue;if(A===null){var _=new Set;_.add(a),t.updateQueue=_}else A.add(a);break e}else{if((t&1)===0){gh(o,I,t),yd();break e}a=Error(ee(426))}}else if(He&&x.mode&1){var w=mh(s);if(w!==null){(w.flags&65536)===0&&(w.flags|=256),yh(w,s,x,o,t),Zc(Li(a,x));break e}}o=a=Li(a,x),ot!==4&&(ot=2),vo===null?vo=[o]:vo.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var h=Kg(o,a,t);uh(o,h);break e;case 1:x=a;var v=o.type,m=o.stateNode;if((o.flags&128)===0&&(typeof v.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(on===null||!on.has(m)))){o.flags|=65536,t&=-t,o.lanes|=t;var L=zg(o,x,t);uh(o,L);break e}}o=o.return}while(o!==null)}lm(r)}catch(P){t=P,rt===r&&r!==null&&(rt=r=r.return);continue}break}while(1)}function am(){var e=fs.current;return fs.current=ds,e===null?ds:e}function yd(){(ot===0||ot===3||ot===2)&&(ot=4),st===null||($n&268435455)===0&&(Ms&268435455)===0||Qr(st,ht)}function vs(e,t){var r=Le;Le|=2;var n=am();(st!==e||ht!==t)&&(Pr=null,kn(e,t));do try{Sx();break}catch(i){om(e,i)}while(1);if(ed(),Le=r,fs.current=n,rt!==null)throw Error(ee(261));return st=null,ht=0,ot}function Sx(){for(;rt!==null;)sm(rt)}function _x(){for(;rt!==null&&!Yy();)sm(rt)}function sm(e){var t=cm(e.alternate,e,$t);e.memoizedProps=e.pendingProps,t===null?lm(e):rt=t,hd.current=null}function lm(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=vx(r,t,$t),r!==null){rt=r;return}}else{if(r=gx(r,t),r!==null){r.flags&=32767,rt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ot=6,rt=null;return}}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);ot===0&&(ot=5)}function Cn(e,t,r){var n=ke,i=qt.transition;try{qt.transition=null,ke=1,Cx(e,t,r,n)}finally{qt.transition=i,ke=n}return null}function Cx(e,t,r,n){do xi();while(Zr!==null);if((Le&6)!==0)throw Error(ee(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ee(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(iE(e,o),e===st&&(rt=st=null,ht=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Ta||(Ta=!0,dm(Qa,function(){return xi(),null})),o=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||o){o=qt.transition,qt.transition=null;var s=ke;ke=1;var x=Le;Le|=4,hd.current=null,yx(e,r),rm(r,e),HE(Ku),Za=!!Wu,Ku=Wu=null,e.current=r,Ex(r),Xy(),Le=x,ke=s,qt.transition=o}else e.current=r;if(Ta&&(Ta=!1,Zr=e,ps=i),o=e.pendingLanes,o===0&&(on=null),Zy(r.stateNode),Mt(e,qe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(hs)throw hs=!1,e=lc,lc=null,e;return(ps&1)!==0&&e.tag!==0&&xi(),o=e.pendingLanes,(o&1)!==0?e===uc?go++:(go=0,uc=e):go=0,vn(),null}function xi(){if(Zr!==null){var e=Wv(ps),t=qt.transition,r=ke;try{if(qt.transition=null,ke=16>e?16:e,Zr===null)var n=!1;else{if(e=Zr,Zr=null,ps=0,(Le&6)!==0)throw Error(ee(331));var i=Le;for(Le|=4,de=e.current;de!==null;){var o=de,s=o.child;if((de.flags&16)!==0){var x=o.deletions;if(x!==null){for(var a=0;a<x.length;a++){var I=x[a];for(de=I;de!==null;){var D=de;switch(D.tag){case 0:case 11:case 15:po(8,D,o)}var F=D.child;if(F!==null)F.return=D,de=F;else for(;de!==null;){D=de;var M=D.sibling,B=D.return;if(qg(D),D===I){de=null;break}if(M!==null){M.return=B,de=M;break}de=B}}}var A=o.alternate;if(A!==null){var _=A.child;if(_!==null){A.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}de=o}}if((o.subtreeFlags&2064)!==0&&s!==null)s.return=o,de=s;else e:for(;de!==null;){if(o=de,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:po(9,o,o.return)}var h=o.sibling;if(h!==null){h.return=o.return,de=h;break e}de=o.return}}var v=e.current;for(de=v;de!==null;){s=de;var m=s.child;if((s.subtreeFlags&2064)!==0&&m!==null)m.return=s,de=m;else e:for(s=v;de!==null;){if(x=de,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:Os(9,x)}}catch(P){Xe(x,x.return,P)}if(x===s){de=null;break e}var L=x.sibling;if(L!==null){L.return=x.return,de=L;break e}de=x.return}}if(Le=i,vn(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(Cs,e)}catch{}n=!0}return n}finally{ke=r,qt.transition=t}}return!1}function Ah(e,t,r){t=Li(r,t),t=Kg(e,t,1),e=nn(e,t,1),t=Rt(),e!==null&&(Go(e,1,t),Mt(e,t))}function Xe(e,t,r){if(e.tag===3)Ah(e,e,r);else for(;t!==null;){if(t.tag===3){Ah(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(on===null||!on.has(n))){e=Li(r,e),e=zg(t,e,1),t=nn(t,e,1),e=Rt(),t!==null&&(Go(t,1,e),Mt(t,e));break}}t=t.return}}function Rx(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Rt(),e.pingedLanes|=e.suspendedLanes&r,st===e&&(ht&r)===r&&(ot===4||ot===3&&(ht&130023424)===ht&&500>qe()-vd?kn(e,0):pd|=r),Mt(e,t)}function um(e,t){t===0&&((e.mode&1)===0?t=1:(t=da,da<<=1,(da&130023424)===0&&(da=4194304)));var r=Rt();e=Nr(e,t),e!==null&&(Go(e,t,r),Mt(e,r))}function bx(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),um(e,r)}function Lx(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ee(314))}n!==null&&n.delete(t),um(e,r)}var cm;cm=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||At.current)It=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return It=!1,px(e,t,r);It=(e.flags&131072)!==0}else It=!1,He&&(t.flags&1048576)!==0&&hg(t,os,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Na(e,t),e=t.pendingProps;var i=_i(t,Tt.current);Ei(t,r),i=ld(null,t,n,e,i,r);var o=ud();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ot(n)?(o=!0,ns(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,nd(t),i.updater=Is,t.stateNode=i,i._reactInternals=t,Ju(t,n,e,r),t=ec(null,t,n,!0,o,r)):(t.tag=0,He&&o&&Qc(t),Ct(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Na(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Dx(n),e=sr(n,e),i){case 0:t=qu(null,t,n,e,r);break e;case 1:t=Th(null,t,n,e,r);break e;case 11:t=Eh(null,t,n,e,r);break e;case 14:t=xh(null,t,n,sr(n.type,e),r);break e}throw Error(ee(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:sr(n,i),qu(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:sr(n,i),Th(e,t,n,i,r);case 3:e:{if(Vg(t),e===null)throw Error(ee(387));n=t.pendingProps,o=t.memoizedState,i=o.element,mg(e,t),ls(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Li(Error(ee(423)),t),t=Sh(e,t,n,r,i);break e}else if(n!==i){i=Li(Error(ee(424)),t),t=Sh(e,t,n,r,i);break e}else for(Wt=rn(t.stateNode.containerInfo.firstChild),Kt=t,He=!0,cr=null,r=Tg(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ci(),n===i){t=Br(e,t,r);break e}Ct(e,t,n,r)}t=t.child}return t;case 5:return Sg(t),e===null&&Yu(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,zu(n,i)?s=null:o!==null&&zu(n,o)&&(t.flags|=32),Gg(e,t),Ct(e,t,s,r),t.child;case 6:return e===null&&Yu(t),null;case 13:return Yg(e,t,r);case 4:return id(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ri(t,null,n,r):Ct(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:sr(n,i),Eh(e,t,n,i,r);case 7:return Ct(e,t,t.pendingProps,r),t.child;case 8:return Ct(e,t,t.pendingProps.children,r),t.child;case 12:return Ct(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,$e(as,n._currentValue),n._currentValue=s,o!==null)if(hr(o.value,s)){if(o.children===i.children&&!At.current){t=Br(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var x=o.dependencies;if(x!==null){s=o.child;for(var a=x.firstContext;a!==null;){if(a.context===n){if(o.tag===1){a=Or(-1,r&-r),a.tag=2;var I=o.updateQueue;if(I!==null){I=I.shared;var D=I.pending;D===null?a.next=a:(a.next=D.next,D.next=a),I.pending=a}}o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Xu(o.return,r,t),x.lanes|=r;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ee(341));s.lanes|=r,x=s.alternate,x!==null&&(x.lanes|=r),Xu(s,r,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ct(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ei(t,r),i=rr(i),n=n(i),t.flags|=1,Ct(e,t,n,r),t.child;case 14:return n=t.type,i=sr(n,t.pendingProps),i=sr(n.type,i),xh(e,t,n,i,r);case 15:return Hg(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:sr(n,i),Na(e,t),t.tag=1,Ot(n)?(e=!0,ns(t)):e=!1,Ei(t,r),Eg(t,n,i),Ju(t,n,i,r),ec(null,t,n,!0,e,r);case 19:return Xg(e,t,r);case 22:return jg(e,t,r)}throw Error(ee(156,t.tag))};function dm(e,t){return Nv(e,t)}function Px(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(e,t,r,n){return new Px(e,t,r,n)}function Ed(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dx(e){if(typeof e=="function")return Ed(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bc)return 11;if(e===Uc)return 14}return 2}function sn(e,t){var r=e.alternate;return r===null?(r=Zt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $a(e,t,r,n,i,o){var s=2;if(n=e,typeof e=="function")Ed(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case ii:return wn(r.children,i,o,t);case Nc:s=8,i|=8;break;case Tu:return e=Zt(12,r,t,i|2),e.elementType=Tu,e.lanes=o,e;case Su:return e=Zt(13,r,t,i),e.elementType=Su,e.lanes=o,e;case _u:return e=Zt(19,r,t,i),e.elementType=_u,e.lanes=o,e;case xv:return ks(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yv:s=10;break e;case Ev:s=9;break e;case Bc:s=11;break e;case Uc:s=14;break e;case Vr:s=16,n=null;break e}throw Error(ee(130,e==null?e:typeof e,""))}return t=Zt(s,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function wn(e,t,r,n){return e=Zt(7,e,n,t),e.lanes=r,e}function ks(e,t,r,n){return e=Zt(22,e,n,t),e.elementType=xv,e.lanes=r,e.stateNode={isHidden:!1},e}function tu(e,t,r){return e=Zt(6,e,null,t),e.lanes=r,e}function ru(e,t,r){return t=Zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ix(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fl(0),this.expirationTimes=Fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fl(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function xd(e,t,r,n,i,o,s,x,a){return e=new Ix(e,t,r,x,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Zt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},nd(o),e}function Ax(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ni,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function fm(e){if(!e)return un;e=e._reactInternals;e:{if(Hn(e)!==e||e.tag!==1)throw Error(ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ee(171))}if(e.tag===1){var r=e.type;if(Ot(r))return dg(e,r,t)}return t}function hm(e,t,r,n,i,o,s,x,a){return e=xd(r,n,!0,e,i,o,s,x,a),e.context=fm(null),r=e.current,n=Rt(),i=an(r),o=Or(n,i),o.callback=t!=null?t:null,nn(r,o,i),e.current.lanes=i,Go(e,i,n),Mt(e,n),e}function ws(e,t,r,n){var i=t.current,o=Rt(),s=an(i);return r=fm(r),t.context===null?t.context=r:t.pendingContext=r,t=Or(o,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=nn(i,t,s),e!==null&&(fr(e,i,s,o),ka(e,i,s)),s}function gs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Oh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Td(e,t){Oh(e,t),(e=e.alternate)&&Oh(e,t)}function Ox(){return null}var pm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sd(e){this._internalRoot=e}Fs.prototype.render=Sd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ee(409));ws(e,t,null,null)};Fs.prototype.unmount=Sd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wn(function(){ws(null,e,null,null)}),t[Fr]=null}};function Fs(e){this._internalRoot=e}Fs.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hv();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Xr.length&&t!==0&&t<Xr[r].priority;r++);Xr.splice(r,0,e),r===0&&Gv(e)}};function _d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ns(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Mh(){}function Mx(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var I=gs(s);o.call(I)}}var s=hm(t,n,e,0,null,!1,!1,"",Mh);return e._reactRootContainer=s,e[Fr]=s.current,Do(e.nodeType===8?e.parentNode:e),Wn(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var x=n;n=function(){var I=gs(a);x.call(I)}}var a=xd(e,0,!1,null,null,!1,!1,"",Mh);return e._reactRootContainer=a,e[Fr]=a.current,Do(e.nodeType===8?e.parentNode:e),Wn(function(){ws(t,a,r,n)}),a}function Bs(e,t,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var x=i;i=function(){var a=gs(s);x.call(a)}}ws(t,s,e,i)}else s=Mx(r,t,e,i,n);return gs(s)}Kv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=eo(t.pendingLanes);r!==0&&(Kc(t,r|1),Mt(t,qe()),(Le&6)===0&&(Pi=qe()+500,vn()))}break;case 13:Wn(function(){var n=Nr(e,1);if(n!==null){var i=Rt();fr(n,e,1,i)}}),Td(e,1)}};zc=function(e){if(e.tag===13){var t=Nr(e,134217728);if(t!==null){var r=Rt();fr(t,e,134217728,r)}Td(e,134217728)}};zv=function(e){if(e.tag===13){var t=an(e),r=Nr(e,t);if(r!==null){var n=Rt();fr(r,e,t,n)}Td(e,t)}};Hv=function(){return ke};jv=function(e,t){var r=ke;try{return ke=e,t()}finally{ke=r}};Mu=function(e,t,r){switch(t){case"input":if(bu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Ps(n);if(!i)throw Error(ee(90));Sv(n),bu(n,i)}}}break;case"textarea":Cv(e,r);break;case"select":t=r.value,t!=null&&vi(e,!!r.multiple,t,!1)}};Av=gd;Ov=Wn;var kx={usingClientEntryPoint:!1,Events:[Yo,li,Ps,Dv,Iv,gd]},ji={findFiberByHostInstance:Pn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},wx={bundleType:ji.bundleType,version:ji.version,rendererPackageName:ji.rendererPackageName,rendererConfig:ji.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wv(e),e===null?null:e.stateNode},findFiberByHostInstance:ji.findFiberByHostInstance||Ox,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sa.isDisabled&&Sa.supportsFiber)try{Cs=Sa.inject(wx),Sr=Sa}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kx;jt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_d(t))throw Error(ee(200));return Ax(e,t,null,r)};jt.createRoot=function(e,t){if(!_d(e))throw Error(ee(299));var r=!1,n="",i=pm;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=xd(e,1,!1,null,null,r,!1,n,i),e[Fr]=t.current,Do(e.nodeType===8?e.parentNode:e),new Sd(t)};jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=wv(t),e=e===null?null:e.stateNode,e};jt.flushSync=function(e){return Wn(e)};jt.hydrate=function(e,t,r){if(!Ns(t))throw Error(ee(200));return Bs(null,e,t,!0,r)};jt.hydrateRoot=function(e,t,r){if(!_d(e))throw Error(ee(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",s=pm;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=hm(t,null,e,1,r!=null?r:null,i,!1,o,s),e[Fr]=t.current,Do(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Fs(t)};jt.render=function(e,t,r){if(!Ns(t))throw Error(ee(200));return Bs(null,e,t,!1,r)};jt.unmountComponentAtNode=function(e){if(!Ns(e))throw Error(ee(40));return e._reactRootContainer?(Wn(function(){Bs(null,null,e,!1,function(){e._reactRootContainer=null,e[Fr]=null})}),!0):!1};jt.unstable_batchedUpdates=gd;jt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ns(r))throw Error(ee(200));if(e==null||e._reactInternals===void 0)throw Error(ee(38));return Bs(e,t,r,!1,n)};jt.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}t(),e.exports=jt})(jo);const _a=Dc(jo.exports);var kh=jo.exports;Eu.createRoot=kh.createRoot,Eu.hydrateRoot=kh.hydrateRoot;function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G.apply(this,arguments)}function vm(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var Fx=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Nx=vm(function(e){return Fx.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function Bx(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Ux(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var $x=function(){function e(r){var n=this;this._insertTag=function(i){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,o),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Ux(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Bx(i);try{o.insertRule(n,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Et="-ms-",ms="-moz-",Ae="-webkit-",gm="comm",Cd="rule",Rd="decl",Wx="@import",mm="@keyframes",Kx=Math.abs,Us=String.fromCharCode,zx=Object.assign;function Hx(e,t){return ft(e,0)^45?(((t<<2^ft(e,0))<<2^ft(e,1))<<2^ft(e,2))<<2^ft(e,3):0}function ym(e){return e.trim()}function jx(e,t){return(e=t.exec(e))?e[0]:e}function Oe(e,t,r){return e.replace(t,r)}function fc(e,t){return e.indexOf(t)}function ft(e,t){return e.charCodeAt(t)|0}function Bo(e,t,r){return e.slice(t,r)}function Er(e){return e.length}function bd(e){return e.length}function Ca(e,t){return t.push(e),e}function Gx(e,t){return e.map(t).join("")}var $s=1,Di=1,Em=0,wt=0,tt=0,ki="";function Ws(e,t,r,n,i,o,s){return{value:e,root:t,parent:r,type:n,props:i,children:o,line:$s,column:Di,length:s,return:""}}function Gi(e,t){return zx(Ws("",null,null,"",null,null,0),e,{length:-e.length},t)}function Vx(){return tt}function Yx(){return tt=wt>0?ft(ki,--wt):0,Di--,tt===10&&(Di=1,$s--),tt}function zt(){return tt=wt<Em?ft(ki,wt++):0,Di++,tt===10&&(Di=1,$s++),tt}function Cr(){return ft(ki,wt)}function Wa(){return wt}function Qo(e,t){return Bo(ki,e,t)}function Uo(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function xm(e){return $s=Di=1,Em=Er(ki=e),wt=0,[]}function Tm(e){return ki="",e}function Ka(e){return ym(Qo(wt-1,hc(e===91?e+2:e===40?e+1:e)))}function Xx(e){for(;(tt=Cr())&&tt<33;)zt();return Uo(e)>2||Uo(tt)>3?"":" "}function Qx(e,t){for(;--t&&zt()&&!(tt<48||tt>102||tt>57&&tt<65||tt>70&&tt<97););return Qo(e,Wa()+(t<6&&Cr()==32&&zt()==32))}function hc(e){for(;zt();)switch(tt){case e:return wt;case 34:case 39:e!==34&&e!==39&&hc(tt);break;case 40:e===41&&hc(e);break;case 92:zt();break}return wt}function Jx(e,t){for(;zt()&&e+tt!==47+10;)if(e+tt===42+42&&Cr()===47)break;return"/*"+Qo(t,wt-1)+"*"+Us(e===47?e:zt())}function Zx(e){for(;!Uo(Cr());)zt();return Qo(e,wt)}function qx(e){return Tm(za("",null,null,null,[""],e=xm(e),0,[0],e))}function za(e,t,r,n,i,o,s,x,a){for(var I=0,D=0,F=s,M=0,B=0,A=0,_=1,w=1,h=1,v=0,m="",L=i,P=o,c=n,l=m;w;)switch(A=v,v=zt()){case 40:if(A!=108&&ft(l,F-1)==58){fc(l+=Oe(Ka(v),"&","&\f"),"&\f")!=-1&&(h=-1);break}case 34:case 39:case 91:l+=Ka(v);break;case 9:case 10:case 13:case 32:l+=Xx(A);break;case 92:l+=Qx(Wa()-1,7);continue;case 47:switch(Cr()){case 42:case 47:Ca(eT(Jx(zt(),Wa()),t,r),a);break;default:l+="/"}break;case 123*_:x[I++]=Er(l)*h;case 125*_:case 59:case 0:switch(v){case 0:case 125:w=0;case 59+D:B>0&&Er(l)-F&&Ca(B>32?Fh(l+";",n,r,F-1):Fh(Oe(l," ","")+";",n,r,F-2),a);break;case 59:l+=";";default:if(Ca(c=wh(l,t,r,I,D,i,x,m,L=[],P=[],F),o),v===123)if(D===0)za(l,t,c,c,L,o,F,x,P);else switch(M===99&&ft(l,3)===110?100:M){case 100:case 109:case 115:za(e,c,c,n&&Ca(wh(e,c,c,0,0,i,x,m,i,L=[],F),P),i,P,F,x,n?L:P);break;default:za(l,c,c,c,[""],P,0,x,P)}}I=D=B=0,_=h=1,m=l="",F=s;break;case 58:F=1+Er(l),B=A;default:if(_<1){if(v==123)--_;else if(v==125&&_++==0&&Yx()==125)continue}switch(l+=Us(v),v*_){case 38:h=D>0?1:(l+="\f",-1);break;case 44:x[I++]=(Er(l)-1)*h,h=1;break;case 64:Cr()===45&&(l+=Ka(zt())),M=Cr(),D=F=Er(m=l+=Zx(Wa())),v++;break;case 45:A===45&&Er(l)==2&&(_=0)}}return o}function wh(e,t,r,n,i,o,s,x,a,I,D){for(var F=i-1,M=i===0?o:[""],B=bd(M),A=0,_=0,w=0;A<n;++A)for(var h=0,v=Bo(e,F+1,F=Kx(_=s[A])),m=e;h<B;++h)(m=ym(_>0?M[h]+" "+v:Oe(v,/&\f/g,M[h])))&&(a[w++]=m);return Ws(e,t,r,i===0?Cd:x,a,I,D)}function eT(e,t,r){return Ws(e,t,r,gm,Us(Vx()),Bo(e,2,-2),0)}function Fh(e,t,r,n){return Ws(e,t,r,Rd,Bo(e,0,n),Bo(e,n+1,-1),n)}function Ti(e,t){for(var r="",n=bd(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function tT(e,t,r,n){switch(e.type){case Wx:case Rd:return e.return=e.return||e.value;case gm:return"";case mm:return e.return=e.value+"{"+Ti(e.children,n)+"}";case Cd:e.value=e.props.join(",")}return Er(r=Ti(e.children,n))?e.return=e.value+"{"+r+"}":""}function rT(e){var t=bd(e);return function(r,n,i,o){for(var s="",x=0;x<t;x++)s+=e[x](r,n,i,o)||"";return s}}function nT(e){return function(t){t.root||(t=t.return)&&e(t)}}var iT=function(t,r,n){for(var i=0,o=0;i=o,o=Cr(),i===38&&o===12&&(r[n]=1),!Uo(o);)zt();return Qo(t,wt)},oT=function(t,r){var n=-1,i=44;do switch(Uo(i)){case 0:i===38&&Cr()===12&&(r[n]=1),t[n]+=iT(wt-1,r,n);break;case 2:t[n]+=Ka(i);break;case 4:if(i===44){t[++n]=Cr()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=Us(i)}while(i=zt());return t},aT=function(t,r){return Tm(oT(xm(t),r))},Nh=new WeakMap,sT=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!Nh.get(n))&&!i){Nh.set(t,!0);for(var o=[],s=aT(r,o),x=n.props,a=0,I=0;a<s.length;a++)for(var D=0;D<x.length;D++,I++)t.props[I]=o[a]?s[a].replace(/&\f/g,x[D]):x[D]+" "+s[a]}}},lT=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function Sm(e,t){switch(Hx(e,t)){case 5103:return Ae+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ae+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ae+e+ms+e+Et+e+e;case 6828:case 4268:return Ae+e+Et+e+e;case 6165:return Ae+e+Et+"flex-"+e+e;case 5187:return Ae+e+Oe(e,/(\w+).+(:[^]+)/,Ae+"box-$1$2"+Et+"flex-$1$2")+e;case 5443:return Ae+e+Et+"flex-item-"+Oe(e,/flex-|-self/,"")+e;case 4675:return Ae+e+Et+"flex-line-pack"+Oe(e,/align-content|flex-|-self/,"")+e;case 5548:return Ae+e+Et+Oe(e,"shrink","negative")+e;case 5292:return Ae+e+Et+Oe(e,"basis","preferred-size")+e;case 6060:return Ae+"box-"+Oe(e,"-grow","")+Ae+e+Et+Oe(e,"grow","positive")+e;case 4554:return Ae+Oe(e,/([^-])(transform)/g,"$1"+Ae+"$2")+e;case 6187:return Oe(Oe(Oe(e,/(zoom-|grab)/,Ae+"$1"),/(image-set)/,Ae+"$1"),e,"")+e;case 5495:case 3959:return Oe(e,/(image-set\([^]*)/,Ae+"$1$`$1");case 4968:return Oe(Oe(e,/(.+:)(flex-)?(.*)/,Ae+"box-pack:$3"+Et+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ae+e+e;case 4095:case 3583:case 4068:case 2532:return Oe(e,/(.+)-inline(.+)/,Ae+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Er(e)-1-t>6)switch(ft(e,t+1)){case 109:if(ft(e,t+4)!==45)break;case 102:return Oe(e,/(.+:)(.+)-([^]+)/,"$1"+Ae+"$2-$3$1"+ms+(ft(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~fc(e,"stretch")?Sm(Oe(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(ft(e,t+1)!==115)break;case 6444:switch(ft(e,Er(e)-3-(~fc(e,"!important")&&10))){case 107:return Oe(e,":",":"+Ae)+e;case 101:return Oe(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ae+(ft(e,14)===45?"inline-":"")+"box$3$1"+Ae+"$2$3$1"+Et+"$2box$3")+e}break;case 5936:switch(ft(e,t+11)){case 114:return Ae+e+Et+Oe(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ae+e+Et+Oe(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ae+e+Et+Oe(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Ae+e+Et+e+e}return e}var uT=function(t,r,n,i){if(t.length>-1&&!t.return)switch(t.type){case Rd:t.return=Sm(t.value,t.length);break;case mm:return Ti([Gi(t,{value:Oe(t.value,"@","@"+Ae)})],i);case Cd:if(t.length)return Gx(t.props,function(o){switch(jx(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ti([Gi(t,{props:[Oe(o,/:(read-\w+)/,":"+ms+"$1")]})],i);case"::placeholder":return Ti([Gi(t,{props:[Oe(o,/:(plac\w+)/,":"+Ae+"input-$1")]}),Gi(t,{props:[Oe(o,/:(plac\w+)/,":"+ms+"$1")]}),Gi(t,{props:[Oe(o,/:(plac\w+)/,Et+"input-$1")]})],i)}return""})}},cT=[uT],dT=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(_){var w=_.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var i=t.stylisPlugins||cT,o={},s,x=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(_){for(var w=_.getAttribute("data-emotion").split(" "),h=1;h<w.length;h++)o[w[h]]=!0;x.push(_)});var a,I=[sT,lT];{var D,F=[tT,nT(function(_){D.insert(_)})],M=rT(I.concat(i,F)),B=function(w){return Ti(qx(w),M)};a=function(w,h,v,m){D=v,B(w?w+"{"+h.styles+"}":h.styles),m&&(A.inserted[h.name]=!0)}}var A={key:r,sheet:new $x({key:r,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:a};return A.sheet.hydrate(x),A},_m={exports:{}},we={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lt=typeof Symbol=="function"&&Symbol.for,Ld=lt?Symbol.for("react.element"):60103,Pd=lt?Symbol.for("react.portal"):60106,Ks=lt?Symbol.for("react.fragment"):60107,zs=lt?Symbol.for("react.strict_mode"):60108,Hs=lt?Symbol.for("react.profiler"):60114,js=lt?Symbol.for("react.provider"):60109,Gs=lt?Symbol.for("react.context"):60110,Dd=lt?Symbol.for("react.async_mode"):60111,Vs=lt?Symbol.for("react.concurrent_mode"):60111,Ys=lt?Symbol.for("react.forward_ref"):60112,Xs=lt?Symbol.for("react.suspense"):60113,fT=lt?Symbol.for("react.suspense_list"):60120,Qs=lt?Symbol.for("react.memo"):60115,Js=lt?Symbol.for("react.lazy"):60116,hT=lt?Symbol.for("react.block"):60121,pT=lt?Symbol.for("react.fundamental"):60117,vT=lt?Symbol.for("react.responder"):60118,gT=lt?Symbol.for("react.scope"):60119;function Vt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ld:switch(e=e.type,e){case Dd:case Vs:case Ks:case Hs:case zs:case Xs:return e;default:switch(e=e&&e.$$typeof,e){case Gs:case Ys:case Js:case Qs:case js:return e;default:return t}}case Pd:return t}}}function Cm(e){return Vt(e)===Vs}we.AsyncMode=Dd;we.ConcurrentMode=Vs;we.ContextConsumer=Gs;we.ContextProvider=js;we.Element=Ld;we.ForwardRef=Ys;we.Fragment=Ks;we.Lazy=Js;we.Memo=Qs;we.Portal=Pd;we.Profiler=Hs;we.StrictMode=zs;we.Suspense=Xs;we.isAsyncMode=function(e){return Cm(e)||Vt(e)===Dd};we.isConcurrentMode=Cm;we.isContextConsumer=function(e){return Vt(e)===Gs};we.isContextProvider=function(e){return Vt(e)===js};we.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ld};we.isForwardRef=function(e){return Vt(e)===Ys};we.isFragment=function(e){return Vt(e)===Ks};we.isLazy=function(e){return Vt(e)===Js};we.isMemo=function(e){return Vt(e)===Qs};we.isPortal=function(e){return Vt(e)===Pd};we.isProfiler=function(e){return Vt(e)===Hs};we.isStrictMode=function(e){return Vt(e)===zs};we.isSuspense=function(e){return Vt(e)===Xs};we.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ks||e===Vs||e===Hs||e===zs||e===Xs||e===fT||typeof e=="object"&&e!==null&&(e.$$typeof===Js||e.$$typeof===Qs||e.$$typeof===js||e.$$typeof===Gs||e.$$typeof===Ys||e.$$typeof===pT||e.$$typeof===vT||e.$$typeof===gT||e.$$typeof===hT)};we.typeOf=Vt;(function(e){e.exports=we})(_m);var Rm=_m.exports,mT={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},yT={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},bm={};bm[Rm.ForwardRef]=mT;bm[Rm.Memo]=yT;var ET=!0;function xT(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):n+=i+" "}),n}var Lm=function(t,r,n){var i=t.key+"-"+r.name;(n===!1||ET===!1)&&t.registered[i]===void 0&&(t.registered[i]=r.styles)},Pm=function(t,r,n){Lm(t,r,n);var i=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var o=r;do t.insert(r===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function TT(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var ST={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},_T=/[A-Z]|^ms/g,CT=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Dm=function(t){return t.charCodeAt(1)===45},Bh=function(t){return t!=null&&typeof t!="boolean"},nu=vm(function(e){return Dm(e)?e:e.replace(_T,"-$&").toLowerCase()}),Uh=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(CT,function(n,i,o){return xr={name:i,styles:o,next:xr},i})}return ST[t]!==1&&!Dm(t)&&typeof r=="number"&&r!==0?r+"px":r};function $o(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return xr={name:r.name,styles:r.styles,next:xr},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)xr={name:n.name,styles:n.styles,next:xr},n=n.next;var i=r.styles+";";return i}return RT(e,t,r)}case"function":{if(e!==void 0){var o=xr,s=r(e);return xr=o,$o(e,t,s)}break}}if(t==null)return r;var x=t[r];return x!==void 0?x:r}function RT(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=$o(e,t,r[i])+";";else for(var o in r){var s=r[o];if(typeof s!="object")t!=null&&t[s]!==void 0?n+=o+"{"+t[s]+"}":Bh(s)&&(n+=nu(o)+":"+Uh(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var x=0;x<s.length;x++)Bh(s[x])&&(n+=nu(o)+":"+Uh(o,s[x])+";");else{var a=$o(e,t,s);switch(o){case"animation":case"animationName":{n+=nu(o)+":"+a+";";break}default:n+=o+"{"+a+"}"}}}return n}var $h=/label:\s*([^\s;\n{]+)\s*(;|$)/g,xr,Id=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";xr=void 0;var s=t[0];s==null||s.raw===void 0?(i=!1,o+=$o(n,r,s)):o+=s[0];for(var x=1;x<t.length;x++)o+=$o(n,r,t[x]),i&&(o+=s[x]);$h.lastIndex=0;for(var a="",I;(I=$h.exec(o))!==null;)a+="-"+I[1];var D=TT(o)+a;return{name:D,styles:o,next:xr}},bT=function(t){return t()},Im=yu["useInsertionEffect"]?yu["useInsertionEffect"]:!1,LT=Im||bT,Wh=Im||H.exports.useLayoutEffect,Am=H.exports.createContext(typeof HTMLElement<"u"?dT({key:"css"}):null);Am.Provider;var Om=function(t){return H.exports.forwardRef(function(r,n){var i=H.exports.useContext(Am);return t(r,i,n)})},Ad=H.exports.createContext({}),PT=Om(function(e,t){var r=e.styles,n=Id([r],void 0,H.exports.useContext(Ad)),i=H.exports.useRef();return Wh(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),x=!1,a=document.querySelector('style[data-emotion="'+o+" "+n.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),a!==null&&(x=!0,a.setAttribute("data-emotion",o),s.hydrate([a])),i.current=[s,x],function(){s.flush()}},[t]),Wh(function(){var o=i.current,s=o[0],x=o[1];if(x){o[1]=!1;return}if(n.next!==void 0&&Pm(t,n.next,!0),s.tags.length){var a=s.tags[s.tags.length-1].nextElementSibling;s.before=a,s.flush()}t.insert("",n,s,!1)},[t,n.name]),null});function Od(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Id(t)}var Jo=function(){var t=Od.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},DT=Nx,IT=function(t){return t!=="theme"},Kh=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?DT:IT},zh=function(t,r,n){var i;if(r){var o=r.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&n&&(i=t.__emotion_forwardProp),i},AT=function(t){var r=t.cache,n=t.serialized,i=t.isStringTag;return Lm(r,n,i),LT(function(){return Pm(r,n,i)}),null},OT=function e(t,r){var n=t.__emotion_real===t,i=n&&t.__emotion_base||t,o,s;r!==void 0&&(o=r.label,s=r.target);var x=zh(t,r,n),a=x||Kh(i),I=!a("as");return function(){var D=arguments,F=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&F.push("label:"+o+";"),D[0]==null||D[0].raw===void 0)F.push.apply(F,D);else{F.push(D[0][0]);for(var M=D.length,B=1;B<M;B++)F.push(D[B],D[0][B])}var A=Om(function(_,w,h){var v=I&&_.as||i,m="",L=[],P=_;if(_.theme==null){P={};for(var c in _)P[c]=_[c];P.theme=H.exports.useContext(Ad)}typeof _.className=="string"?m=xT(w.registered,L,_.className):_.className!=null&&(m=_.className+" ");var l=Id(F.concat(L),w.registered,P);m+=w.key+"-"+l.name,s!==void 0&&(m+=" "+s);var u=I&&x===void 0?Kh(v):a,E={};for(var y in _)I&&y==="as"||u(y)&&(E[y]=_[y]);return E.className=m,E.ref=h,H.exports.createElement(H.exports.Fragment,null,H.exports.createElement(AT,{cache:w,serialized:l,isStringTag:typeof v=="string"}),H.exports.createElement(v,E))});return A.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",A.defaultProps=t.defaultProps,A.__emotion_real=A,A.__emotion_base=i,A.__emotion_styles=F,A.__emotion_forwardProp=x,Object.defineProperty(A,"toString",{value:function(){return"."+s}}),A.withComponent=function(_,w){return e(_,G({},r,w,{shouldForwardProp:zh(A,w,!0)})).apply(void 0,F)},A}},MT=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],pc=OT.bind();MT.forEach(function(e){pc[e]=pc(e)});const kT=pc;var ro={exports:{}},wT="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",FT=wT,NT=FT;function Mm(){}function km(){}km.resetWarningCache=Mm;var BT=function(){function e(n,i,o,s,x,a){if(a!==NT){var I=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw I.name="Invariant Violation",I}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:km,resetWarningCache:Mm};return r.PropTypes=r,r};ro.exports=BT();var Zs={exports:{}},qs={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UT=H.exports,$T=Symbol.for("react.element"),WT=Symbol.for("react.fragment"),KT=Object.prototype.hasOwnProperty,zT=UT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HT={key:!0,ref:!0,__self:!0,__source:!0};function wm(e,t,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)KT.call(t,n)&&!HT.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:$T,type:e,key:o,ref:s,props:i,_owner:zT.current}}qs.Fragment=WT;qs.jsx=wm;qs.jsxs=wm;(function(e){e.exports=qs})(Zs);const jT=Zs.exports.Fragment,Y=Zs.exports.jsx,ye=Zs.exports.jsxs,GT=Object.freeze(Object.defineProperty({__proto__:null,Fragment:jT,jsx:Y,jsxs:ye},Symbol.toStringTag,{value:"Module"}));function VT(e){return e==null||Object.keys(e).length===0}function YT(e){const{styles:t,defaultTheme:r={}}=e;return Y(PT,{styles:typeof t=="function"?i=>t(VT(i)?r:i):t})}/** @license MUI v5.10.8
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Fm(e,t){return kT(e,t)}const XT=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))};function no(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function er(e,t,r={clone:!0}){const n=r.clone?G({},e):e;return no(e)&&no(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(no(t[i])&&i in e&&no(e[i])?n[i]=er(e[i],t[i],r):n[i]=t[i])}),n}function cn(e){let t="https://mui.com/production-error/?code="+e;for(let r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function re(e){if(typeof e!="string")throw new Error(cn(7));return e.charAt(0).toUpperCase()+e.slice(1)}function vc(...e){return e.reduce((t,r)=>r==null?t:function(...i){t.apply(this,i),r.apply(this,i)},()=>{})}function Md(e,t=166){let r;function n(...i){const o=()=>{e.apply(this,i)};clearTimeout(r),r=setTimeout(o,t)}return n.clear=()=>{clearTimeout(r)},n}function QT(e,t){return()=>null}function Ha(e,t){return H.exports.isValidElement(e)&&t.indexOf(e.type.muiName)!==-1}function kt(e){return e&&e.ownerDocument||document}function dn(e){return kt(e).defaultView||window}function JT(e,t){return()=>null}function ys(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const ZT=typeof window<"u"?H.exports.useLayoutEffect:H.exports.useEffect,fn=ZT;let Hh=0;function qT(e){const[t,r]=H.exports.useState(e),n=e||t;return H.exports.useEffect(()=>{t==null&&(Hh+=1,r(`mui-${Hh}`))},[t]),n}const jh=yu["useId"];function el(e){if(jh!==void 0){const t=jh();return e!=null?e:t}return qT(e)}function eS(e,t,r,n,i){return null}function Es({controlled:e,default:t,name:r,state:n="value"}){const{current:i}=H.exports.useRef(e!==void 0),[o,s]=H.exports.useState(t),x=i?e:o,a=H.exports.useCallback(I=>{i||s(I)},[]);return[x,a]}function An(e){const t=H.exports.useRef(e);return fn(()=>{t.current=e}),H.exports.useCallback((...r)=>(0,t.current)(...r),[])}function gt(...e){return H.exports.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{ys(r,t)})},e)}let tl=!0,gc=!1,Gh;const tS={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function rS(e){const{type:t,tagName:r}=e;return!!(r==="INPUT"&&tS[t]&&!e.readOnly||r==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function nS(e){e.metaKey||e.altKey||e.ctrlKey||(tl=!0)}function iu(){tl=!1}function iS(){this.visibilityState==="hidden"&&gc&&(tl=!0)}function oS(e){e.addEventListener("keydown",nS,!0),e.addEventListener("mousedown",iu,!0),e.addEventListener("pointerdown",iu,!0),e.addEventListener("touchstart",iu,!0),e.addEventListener("visibilitychange",iS,!0)}function aS(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return tl||rS(t)}function Nm(){const e=H.exports.useCallback(i=>{i!=null&&oS(i.ownerDocument)},[]),t=H.exports.useRef(!1);function r(){return t.current?(gc=!0,window.clearTimeout(Gh),Gh=window.setTimeout(()=>{gc=!1},100),t.current=!1,!0):!1}function n(i){return aS(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:n,onBlur:r,ref:e}}function Bm(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function Um(e,t){const r=G({},t);return Object.keys(e).forEach(n=>{r[n]===void 0&&(r[n]=e[n])}),r}function _e(e,t,r){const n={};return Object.keys(e).forEach(i=>{n[i]=e[i].reduce((o,s)=>(s&&(o.push(t(s)),r&&r[s]&&o.push(r[s])),o),[]).join(" ")}),n}const Vh=e=>e,sS=()=>{let e=Vh;return{configure(t){e=t},generate(t){return e(t)},reset(){e=Vh}}},lS=sS(),kd=lS,uS={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Te(e,t,r="Mui"){const n=uS[t];return n?`${r}-${n}`:`${kd.generate(e)}-${t}`}function Ee(e,t,r="Mui"){const n={};return t.forEach(i=>{n[i]=Te(e,i,r)}),n}function mo(e,t){return t?er(e,t,{clone:!1}):e}const wd={xs:0,sm:600,md:900,lg:1200,xl:1536},Yh={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${wd[e]}px)`};function gn(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const o=n.breakpoints||Yh;return t.reduce((s,x,a)=>(s[o.up(o.keys[a])]=r(t[a]),s),{})}if(typeof t=="object"){const o=n.breakpoints||Yh;return Object.keys(t).reduce((s,x)=>{if(Object.keys(o.values||wd).indexOf(x)!==-1){const a=o.up(x);s[a]=r(t[x],x)}else{const a=x;s[a]=t[a]}return s},{})}return r(t)}function cS(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((n,i)=>{const o=e.up(i);return n[o]={},n},{}))||{}}function dS(e,t){return e.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},t)}function Fd(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const n=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(n!=null)return n}return t.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,e)}function Xh(e,t,r,n=r){let i;return typeof e=="function"?i=e(r):Array.isArray(e)?i=e[r]||n:i=Fd(e,r)||n,t&&(i=t(i,n)),i}function fe(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:i}=e,o=s=>{if(s[t]==null)return null;const x=s[t],a=s.theme,I=Fd(a,n)||{};return gn(s,x,F=>{let M=Xh(I,i,F);return F===M&&typeof F=="string"&&(M=Xh(I,i,`${t}${F==="default"?"":re(F)}`,F)),r===!1?M:{[r]:M}})};return o.propTypes={},o.filterProps=[t],o}function mn(...e){const t=e.reduce((n,i)=>(i.filterProps.forEach(o=>{n[o]=i}),n),{}),r=n=>Object.keys(n).reduce((i,o)=>t[o]?mo(i,t[o](n)):i,{});return r.propTypes={},r.filterProps=e.reduce((n,i)=>n.concat(i.filterProps),[]),r}function fS(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const hS={m:"margin",p:"padding"},pS={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Qh={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},vS=fS(e=>{if(e.length>2)if(Qh[e])e=Qh[e];else return[e];const[t,r]=e.split(""),n=hS[t],i=pS[r]||"";return Array.isArray(i)?i.map(o=>n+o):[n+i]}),gS=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],mS=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],$m=[...gS,...mS];function Zo(e,t,r,n){var i;const o=(i=Fd(e,t,!1))!=null?i:r;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function Wm(e){return Zo(e,"spacing",8)}function qo(e,t){if(typeof t=="string"||t==null)return t;const r=Math.abs(t),n=e(r);return t>=0?n:typeof n=="number"?-n:`-${n}`}function yS(e,t){return r=>e.reduce((n,i)=>(n[i]=qo(t,r),n),{})}function ES(e,t,r,n){if(t.indexOf(r)===-1)return null;const i=vS(r),o=yS(i,n),s=e[r];return gn(e,s,o)}function xS(e,t){const r=Wm(e.theme);return Object.keys(e).map(n=>ES(e,t,n,r)).reduce(mo,{})}function rl(e){return xS(e,$m)}rl.propTypes={};rl.filterProps=$m;function ea(e){return typeof e!="number"?e:`${e}px solid`}const TS=fe({prop:"border",themeKey:"borders",transform:ea}),SS=fe({prop:"borderTop",themeKey:"borders",transform:ea}),_S=fe({prop:"borderRight",themeKey:"borders",transform:ea}),CS=fe({prop:"borderBottom",themeKey:"borders",transform:ea}),RS=fe({prop:"borderLeft",themeKey:"borders",transform:ea}),bS=fe({prop:"borderColor",themeKey:"palette"}),LS=fe({prop:"borderTopColor",themeKey:"palette"}),PS=fe({prop:"borderRightColor",themeKey:"palette"}),DS=fe({prop:"borderBottomColor",themeKey:"palette"}),IS=fe({prop:"borderLeftColor",themeKey:"palette"}),Nd=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Zo(e.theme,"shape.borderRadius",4),r=n=>({borderRadius:qo(t,n)});return gn(e,e.borderRadius,r)}return null};Nd.propTypes={};Nd.filterProps=["borderRadius"];const AS=mn(TS,SS,_S,CS,RS,bS,LS,PS,DS,IS,Nd),Km=AS,OS=fe({prop:"displayPrint",cssProperty:!1,transform:e=>({"@media print":{display:e}})}),MS=fe({prop:"display"}),kS=fe({prop:"overflow"}),wS=fe({prop:"textOverflow"}),FS=fe({prop:"visibility"}),NS=fe({prop:"whiteSpace"}),zm=mn(OS,MS,kS,wS,FS,NS),BS=fe({prop:"flexBasis"}),US=fe({prop:"flexDirection"}),$S=fe({prop:"flexWrap"}),WS=fe({prop:"justifyContent"}),KS=fe({prop:"alignItems"}),zS=fe({prop:"alignContent"}),HS=fe({prop:"order"}),jS=fe({prop:"flex"}),GS=fe({prop:"flexGrow"}),VS=fe({prop:"flexShrink"}),YS=fe({prop:"alignSelf"}),XS=fe({prop:"justifyItems"}),QS=fe({prop:"justifySelf"}),JS=mn(BS,US,$S,WS,KS,zS,HS,jS,GS,VS,YS,XS,QS),Hm=JS,Bd=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Zo(e.theme,"spacing",8),r=n=>({gap:qo(t,n)});return gn(e,e.gap,r)}return null};Bd.propTypes={};Bd.filterProps=["gap"];const Ud=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Zo(e.theme,"spacing",8),r=n=>({columnGap:qo(t,n)});return gn(e,e.columnGap,r)}return null};Ud.propTypes={};Ud.filterProps=["columnGap"];const $d=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Zo(e.theme,"spacing",8),r=n=>({rowGap:qo(t,n)});return gn(e,e.rowGap,r)}return null};$d.propTypes={};$d.filterProps=["rowGap"];const ZS=fe({prop:"gridColumn"}),qS=fe({prop:"gridRow"}),e1=fe({prop:"gridAutoFlow"}),t1=fe({prop:"gridAutoColumns"}),r1=fe({prop:"gridAutoRows"}),n1=fe({prop:"gridTemplateColumns"}),i1=fe({prop:"gridTemplateRows"}),o1=fe({prop:"gridTemplateAreas"}),a1=fe({prop:"gridArea"}),s1=mn(Bd,Ud,$d,ZS,qS,e1,t1,r1,n1,i1,o1,a1),jm=s1;function Wd(e,t){return t==="grey"?t:e}const l1=fe({prop:"color",themeKey:"palette",transform:Wd}),u1=fe({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Wd}),c1=fe({prop:"backgroundColor",themeKey:"palette",transform:Wd}),d1=mn(l1,u1,c1),Gm=d1,f1=fe({prop:"position"}),h1=fe({prop:"zIndex",themeKey:"zIndex"}),p1=fe({prop:"top"}),v1=fe({prop:"right"}),g1=fe({prop:"bottom"}),m1=fe({prop:"left"}),Vm=mn(f1,h1,p1,v1,g1,m1),y1=fe({prop:"boxShadow",themeKey:"shadows"}),Ym=y1;function yn(e){return e<=1&&e!==0?`${e*100}%`:e}const E1=fe({prop:"width",transform:yn}),Xm=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var n,i,o;return{maxWidth:((n=e.theme)==null||(i=n.breakpoints)==null||(o=i.values)==null?void 0:o[r])||wd[r]||yn(r)}};return gn(e,e.maxWidth,t)}return null};Xm.filterProps=["maxWidth"];const x1=fe({prop:"minWidth",transform:yn}),T1=fe({prop:"height",transform:yn}),S1=fe({prop:"maxHeight",transform:yn}),_1=fe({prop:"minHeight",transform:yn});fe({prop:"size",cssProperty:"width",transform:yn});fe({prop:"size",cssProperty:"height",transform:yn});const C1=fe({prop:"boxSizing"}),R1=mn(E1,Xm,x1,T1,S1,_1,C1),Qm=R1,b1=fe({prop:"fontFamily",themeKey:"typography"}),L1=fe({prop:"fontSize",themeKey:"typography"}),P1=fe({prop:"fontStyle",themeKey:"typography"}),D1=fe({prop:"fontWeight",themeKey:"typography"}),I1=fe({prop:"letterSpacing"}),A1=fe({prop:"textTransform"}),O1=fe({prop:"lineHeight"}),M1=fe({prop:"textAlign"}),k1=fe({prop:"typography",cssProperty:!1,themeKey:"typography"}),w1=mn(k1,b1,L1,P1,D1,I1,O1,M1,A1),Jm=w1,Jh={borders:Km.filterProps,display:zm.filterProps,flexbox:Hm.filterProps,grid:jm.filterProps,positions:Vm.filterProps,palette:Gm.filterProps,shadows:Ym.filterProps,sizing:Qm.filterProps,spacing:rl.filterProps,typography:Jm.filterProps},Zm={borders:Km,display:zm,flexbox:Hm,grid:jm,positions:Vm,palette:Gm,shadows:Ym,sizing:Qm,spacing:rl,typography:Jm},F1=Object.keys(Jh).reduce((e,t)=>(Jh[t].forEach(r=>{e[r]=Zm[t]}),e),{});function N1(...e){const t=e.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(t);return e.every(n=>r.size===Object.keys(n).length)}function B1(e,t){return typeof e=="function"?e(t):e}function U1(e=Zm){const t=Object.keys(e).reduce((i,o)=>(e[o].filterProps.forEach(s=>{i[s]=e[o]}),i),{});function r(i,o,s){const x={[i]:o,theme:s},a=t[i];return a?a(x):{[i]:o}}function n(i){const{sx:o,theme:s={}}=i||{};if(!o)return null;function x(a){let I=a;if(typeof a=="function")I=a(s);else if(typeof a!="object")return a;if(!I)return null;const D=cS(s.breakpoints),F=Object.keys(D);let M=D;return Object.keys(I).forEach(B=>{const A=B1(I[B],s);if(A!=null)if(typeof A=="object")if(t[B])M=mo(M,r(B,A,s));else{const _=gn({theme:s},A,w=>({[B]:w}));N1(_,A)?M[B]=n({sx:A,theme:s}):M=mo(M,_)}else M=mo(M,r(B,A,s))}),dS(F,M)}return Array.isArray(o)?o.map(x):x(o)}return n}const qm=U1();qm.filterProps=["sx"];const e0=qm;function he(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}const $1=["sx"],W1=e=>{const t={systemProps:{},otherProps:{}};return Object.keys(e).forEach(r=>{F1[r]?t.systemProps[r]=e[r]:t.otherProps[r]=e[r]}),t};function t0(e){const{sx:t}=e,r=he(e,$1),{systemProps:n,otherProps:i}=W1(r);let o;return Array.isArray(t)?o=[n,...t]:typeof t=="function"?o=(...s)=>{const x=t(...s);return no(x)?G({},n,x):n}:o=G({},n,t),G({},i,{sx:o})}function r0(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=r0(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function ve(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=r0(e))&&(n&&(n+=" "),n+=t);return n}const K1=["values","unit","step"],z1=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,n)=>r.val-n.val),t.reduce((r,n)=>G({},r,{[n.key]:n.val}),{})};function H1(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=e,i=he(e,K1),o=z1(t),s=Object.keys(o);function x(M){return`@media (min-width:${typeof t[M]=="number"?t[M]:M}${r})`}function a(M){return`@media (max-width:${(typeof t[M]=="number"?t[M]:M)-n/100}${r})`}function I(M,B){const A=s.indexOf(B);return`@media (min-width:${typeof t[M]=="number"?t[M]:M}${r}) and (max-width:${(A!==-1&&typeof t[s[A]]=="number"?t[s[A]]:B)-n/100}${r})`}function D(M){return s.indexOf(M)+1<s.length?I(M,s[s.indexOf(M)+1]):x(M)}function F(M){const B=s.indexOf(M);return B===0?x(s[1]):B===s.length-1?a(s[B]):I(M,s[s.indexOf(M)+1]).replace("@media","@media not all and")}return G({keys:s,values:o,up:x,down:a,between:I,only:D,not:F,unit:r},i)}const j1={borderRadius:4},G1=j1;function V1(e=8){if(e.mui)return e;const t=Wm({spacing:e}),r=(...n)=>(n.length===0?[1]:n).map(o=>{const s=t(o);return typeof s=="number"?`${s}px`:s}).join(" ");return r.mui=!0,r}const Y1=["breakpoints","palette","spacing","shape"];function Kd(e={},...t){const{breakpoints:r={},palette:n={},spacing:i,shape:o={}}=e,s=he(e,Y1),x=H1(r),a=V1(i);let I=er({breakpoints:x,direction:"ltr",components:{},palette:G({mode:"light"},n),spacing:a,shape:G({},G1,o)},s);return I=t.reduce((D,F)=>er(D,F),I),I}const X1=H.exports.createContext(null),n0=X1;function i0(){return H.exports.useContext(n0)}const Q1=typeof Symbol=="function"&&Symbol.for,J1=Q1?Symbol.for("mui.nested"):"__THEME_NESTED__";function Z1(e,t){return typeof t=="function"?t(e):G({},e,t)}function q1(e){const{children:t,theme:r}=e,n=i0(),i=H.exports.useMemo(()=>{const o=n===null?r:Z1(n,r);return o!=null&&(o[J1]=n!==null),o},[r,n]);return Y(n0.Provider,{value:i,children:t})}function e_(e){return Object.keys(e).length===0}function t_(e=null){const t=i0();return!t||e_(t)?e:t}const r_=Kd();function nl(e=r_){return t_(e)}const n_=["className","component"];function i_(e={}){const{defaultTheme:t,defaultClassName:r="MuiBox-root",generateClassName:n,styleFunctionSx:i=e0}=e,o=Fm("div",{shouldForwardProp:x=>x!=="theme"&&x!=="sx"&&x!=="as"})(i);return H.exports.forwardRef(function(a,I){const D=nl(t),F=t0(a),{className:M,component:B="div"}=F,A=he(F,n_);return Y(o,G({as:B,ref:I,className:ve(M,n?n(r):r),theme:D},A))})}const o_=["variant"];function Zh(e){return e.length===0}function o0(e){const{variant:t}=e,r=he(e,o_);let n=t||"";return Object.keys(r).sort().forEach(i=>{i==="color"?n+=Zh(n)?e[i]:re(e[i]):n+=`${Zh(n)?i:re(i)}${re(e[i].toString())}`}),n}const a_=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],s_=["theme"],l_=["theme"];function Vi(e){return Object.keys(e).length===0}function u_(e){return typeof e=="string"&&e.charCodeAt(0)>96}const c_=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,d_=(e,t)=>{let r=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(r=t.components[e].variants);const n={};return r.forEach(i=>{const o=o0(i.props);n[o]=i.style}),n},f_=(e,t,r,n)=>{var i,o;const{ownerState:s={}}=e,x=[],a=r==null||(i=r.components)==null||(o=i[n])==null?void 0:o.variants;return a&&a.forEach(I=>{let D=!0;Object.keys(I.props).forEach(F=>{s[F]!==I.props[F]&&e[F]!==I.props[F]&&(D=!1)}),D&&x.push(t[o0(I.props)])}),x};function yo(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const h_=Kd();function p_(e={}){const{defaultTheme:t=h_,rootShouldForwardProp:r=yo,slotShouldForwardProp:n=yo,styleFunctionSx:i=e0}=e,o=s=>{const x=Vi(s.theme)?t:s.theme;return i(G({},s,{theme:x}))};return o.__mui_systemSx=!0,(s,x={})=>{XT(s,L=>L.filter(P=>!(P!=null&&P.__mui_systemSx)));const{name:a,slot:I,skipVariantsResolver:D,skipSx:F,overridesResolver:M}=x,B=he(x,a_),A=D!==void 0?D:I&&I!=="Root"||!1,_=F||!1;let w,h=yo;I==="Root"?h=r:I?h=n:u_(s)&&(h=void 0);const v=Fm(s,G({shouldForwardProp:h,label:w},B)),m=(L,...P)=>{const c=P?P.map(y=>typeof y=="function"&&y.__emotion_real!==y?d=>{let{theme:f}=d,p=he(d,s_);return y(G({theme:Vi(f)?t:f},p))}:y):[];let l=L;a&&M&&c.push(y=>{const d=Vi(y.theme)?t:y.theme,f=c_(a,d);if(f){const p={};return Object.entries(f).forEach(([R,S])=>{p[R]=typeof S=="function"?S(G({},y,{theme:d})):S}),M(y,p)}return null}),a&&!A&&c.push(y=>{const d=Vi(y.theme)?t:y.theme;return f_(y,d_(a,d),d,a)}),_||c.push(o);const u=c.length-P.length;if(Array.isArray(L)&&u>0){const y=new Array(u).fill("");l=[...L,...y],l.raw=[...L.raw,...y]}else typeof L=="function"&&L.__emotion_real!==L&&(l=y=>{let{theme:d}=y,f=he(y,l_);return L(G({theme:Vi(d)?t:d},f))});return v(l,...c)};return v.withConfig&&(m.withConfig=v.withConfig),m}}function v_(e){const{theme:t,name:r,props:n}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?n:Um(t.components[r].defaultProps,n)}function g_({props:e,name:t,defaultTheme:r}){const n=nl(r);return v_({theme:n,name:t,props:e})}function zd(e,t=0,r=1){return Math.min(Math.max(t,e),r)}function m_(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function Kn(e){if(e.type)return e;if(e.charAt(0)==="#")return Kn(m_(e));const t=e.indexOf("("),r=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error(cn(9,e));let n=e.substring(t+1,e.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(cn(10,i))}else n=n.split(",");return n=n.map(o=>parseFloat(o)),{type:r,values:n,colorSpace:i}}function il(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.indexOf("rgb")!==-1?n=n.map((i,o)=>o<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function y_(e){e=Kn(e);const{values:t}=e,r=t[0],n=t[1]/100,i=t[2]/100,o=n*Math.min(i,1-i),s=(I,D=(I+r/30)%12)=>i-o*Math.max(Math.min(D-3,9-D,1),-1);let x="rgb";const a=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(x+="a",a.push(t[3])),il({type:x,values:a})}function qh(e){e=Kn(e);let t=e.type==="hsl"||e.type==="hsla"?Kn(y_(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function E_(e,t){const r=qh(e),n=qh(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function Be(e,t){return e=Kn(e),t=zd(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,il(e)}function Hd(e,t){if(e=Kn(e),t=zd(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]*=1-t;return il(e)}function jd(e,t){if(e=Kn(e),t=zd(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return il(e)}const x_={};function T_(e){const t=nl();return Y(Ad.Provider,{value:typeof t=="object"?t:x_,children:e.children})}function S_(e){const{children:t,theme:r}=e;return Y(q1,{theme:r,children:Y(T_,{children:t})})}function __(e,t){return G({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const C_={black:"#000",white:"#fff"},Wo=C_,R_={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},b_=R_,L_={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Qn=L_,P_={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Jn=P_,D_={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Yi=D_,I_={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Zn=I_,A_={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},qn=A_,O_={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Rn=O_,M_=["mode","contrastThreshold","tonalOffset"],ep={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Wo.white,default:Wo.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},ou={text:{primary:Wo.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Wo.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function tp(e,t,r,n){const i=n.light||n,o=n.dark||n*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=jd(e.main,i):t==="dark"&&(e.dark=Hd(e.main,o)))}function k_(e="light"){return e==="dark"?{main:Zn[200],light:Zn[50],dark:Zn[400]}:{main:Zn[700],light:Zn[400],dark:Zn[800]}}function w_(e="light"){return e==="dark"?{main:Qn[200],light:Qn[50],dark:Qn[400]}:{main:Qn[500],light:Qn[300],dark:Qn[700]}}function F_(e="light"){return e==="dark"?{main:Jn[500],light:Jn[300],dark:Jn[700]}:{main:Jn[700],light:Jn[400],dark:Jn[800]}}function N_(e="light"){return e==="dark"?{main:qn[400],light:qn[300],dark:qn[700]}:{main:qn[700],light:qn[500],dark:qn[900]}}function B_(e="light"){return e==="dark"?{main:Rn[400],light:Rn[300],dark:Rn[700]}:{main:Rn[800],light:Rn[500],dark:Rn[900]}}function U_(e="light"){return e==="dark"?{main:Yi[400],light:Yi[300],dark:Yi[700]}:{main:"#ed6c02",light:Yi[500],dark:Yi[900]}}function $_(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2}=e,i=he(e,M_),o=e.primary||k_(t),s=e.secondary||w_(t),x=e.error||F_(t),a=e.info||N_(t),I=e.success||B_(t),D=e.warning||U_(t);function F(_){return E_(_,ou.text.primary)>=r?ou.text.primary:ep.text.primary}const M=({color:_,name:w,mainShade:h=500,lightShade:v=300,darkShade:m=700})=>{if(_=G({},_),!_.main&&_[h]&&(_.main=_[h]),!_.hasOwnProperty("main"))throw new Error(cn(11,w?` (${w})`:"",h));if(typeof _.main!="string")throw new Error(cn(12,w?` (${w})`:"",JSON.stringify(_.main)));return tp(_,"light",v,n),tp(_,"dark",m,n),_.contrastText||(_.contrastText=F(_.main)),_},B={dark:ou,light:ep};return er(G({common:G({},Wo),mode:t,primary:M({color:o,name:"primary"}),secondary:M({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:M({color:x,name:"error"}),warning:M({color:D,name:"warning"}),info:M({color:a,name:"info"}),success:M({color:I,name:"success"}),grey:b_,contrastThreshold:r,getContrastText:F,augmentColor:M,tonalOffset:n},B[t]),i)}const W_=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function K_(e){return Math.round(e*1e5)/1e5}const rp={textTransform:"uppercase"},np='"Roboto", "Helvetica", "Arial", sans-serif';function z_(e,t){const r=typeof t=="function"?t(e):t,{fontFamily:n=np,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:x=500,fontWeightBold:a=700,htmlFontSize:I=16,allVariants:D,pxToRem:F}=r,M=he(r,W_),B=i/14,A=F||(h=>`${h/I*B}rem`),_=(h,v,m,L,P)=>G({fontFamily:n,fontWeight:h,fontSize:A(v),lineHeight:m},n===np?{letterSpacing:`${K_(L/v)}em`}:{},P,D),w={h1:_(o,96,1.167,-1.5),h2:_(o,60,1.2,-.5),h3:_(s,48,1.167,0),h4:_(s,34,1.235,.25),h5:_(s,24,1.334,0),h6:_(x,20,1.6,.15),subtitle1:_(s,16,1.75,.15),subtitle2:_(x,14,1.57,.1),body1:_(s,16,1.5,.15),body2:_(s,14,1.43,.15),button:_(x,14,1.75,.4,rp),caption:_(s,12,1.66,.4),overline:_(s,12,2.66,1,rp)};return er(G({htmlFontSize:I,pxToRem:A,fontFamily:n,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:x,fontWeightBold:a},w),M,{clone:!1})}const H_=.2,j_=.14,G_=.12;function ze(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${H_})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${j_})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${G_})`].join(",")}const V_=["none",ze(0,2,1,-1,0,1,1,0,0,1,3,0),ze(0,3,1,-2,0,2,2,0,0,1,5,0),ze(0,3,3,-2,0,3,4,0,0,1,8,0),ze(0,2,4,-1,0,4,5,0,0,1,10,0),ze(0,3,5,-1,0,5,8,0,0,1,14,0),ze(0,3,5,-1,0,6,10,0,0,1,18,0),ze(0,4,5,-2,0,7,10,1,0,2,16,1),ze(0,5,5,-3,0,8,10,1,0,3,14,2),ze(0,5,6,-3,0,9,12,1,0,3,16,2),ze(0,6,6,-3,0,10,14,1,0,4,18,3),ze(0,6,7,-4,0,11,15,1,0,4,20,3),ze(0,7,8,-4,0,12,17,2,0,5,22,4),ze(0,7,8,-4,0,13,19,2,0,5,24,4),ze(0,7,9,-4,0,14,21,2,0,5,26,4),ze(0,8,9,-5,0,15,22,2,0,6,28,5),ze(0,8,10,-5,0,16,24,2,0,6,30,5),ze(0,8,11,-5,0,17,26,2,0,6,32,5),ze(0,9,11,-5,0,18,28,2,0,7,34,6),ze(0,9,12,-6,0,19,29,2,0,7,36,6),ze(0,10,13,-6,0,20,31,3,0,8,38,7),ze(0,10,13,-6,0,21,33,3,0,8,40,7),ze(0,10,14,-6,0,22,35,3,0,8,42,7),ze(0,11,14,-7,0,23,36,3,0,9,44,8),ze(0,11,15,-7,0,24,38,3,0,9,46,8)],Y_=V_,X_=["duration","easing","delay"],Q_={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},J_={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function ip(e){return`${Math.round(e)}ms`}function Z_(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function q_(e){const t=G({},Q_,e.easing),r=G({},J_,e.duration);return G({getAutoHeightDuration:Z_,create:(i=["all"],o={})=>{const{duration:s=r.standard,easing:x=t.easeInOut,delay:a=0}=o;return he(o,X_),(Array.isArray(i)?i:[i]).map(I=>`${I} ${typeof s=="string"?s:ip(s)} ${x} ${typeof a=="string"?a:ip(a)}`).join(",")}},e,{easing:t,duration:r})}const eC={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},tC=eC,rC=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Gd(e={},...t){const{mixins:r={},palette:n={},transitions:i={},typography:o={}}=e,s=he(e,rC);if(e.vars)throw new Error(cn(18));const x=$_(n),a=Kd(e);let I=er(a,{mixins:__(a.breakpoints,r),palette:x,shadows:Y_.slice(),typography:z_(x,o),transitions:q_(i),zIndex:G({},tC)});return I=er(I,s),I=t.reduce((D,F)=>er(D,F),I),I}const nC=Gd(),ol=nC;function al(){return nl(ol)}function be({props:e,name:t}){return g_({props:e,name:t,defaultTheme:ol})}const pr=e=>yo(e)&&e!=="classes",iC=yo,oC=p_({defaultTheme:ol,rootShouldForwardProp:pr}),le=oC;function xs(e){return typeof e=="string"}function aC(e,t,r){return xs(e)?t:G({},t,{ownerState:G({},t.ownerState,r)})}function sC(e,t=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&typeof e[n]=="function"&&!t.includes(n)).forEach(n=>{r[n]=e[n]}),r}function mc(e,t){return typeof e=="function"?e(t):e}function op(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{t[r]=e[r]}),t}function lC(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:o}=e;if(!t){const B=ve(i==null?void 0:i.className,n==null?void 0:n.className,o,r==null?void 0:r.className),A=G({},r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),_=G({},r,i,n);return B.length>0&&(_.className=B),Object.keys(A).length>0&&(_.style=A),{props:_,internalRef:void 0}}const s=sC(G({},i,n)),x=op(n),a=op(i),I=t(s),D=ve(I==null?void 0:I.className,r==null?void 0:r.className,o,i==null?void 0:i.className,n==null?void 0:n.className),F=G({},I==null?void 0:I.style,r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),M=G({},I,r,a,x);return D.length>0&&(M.className=D),Object.keys(F).length>0&&(M.style=F),{props:M,internalRef:I.ref}}const uC=["elementType","externalSlotProps","ownerState"];function ap(e){var t;const{elementType:r,externalSlotProps:n,ownerState:i}=e,o=he(e,uC),s=mc(n,i),{props:x,internalRef:a}=lC(G({},o,{externalSlotProps:s})),I=gt(a,s==null?void 0:s.ref,(t=e.additionalProps)==null?void 0:t.ref);return aC(r,G({},x,{ref:I}),i)}const cC=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function dC(e){const t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function fC(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=n=>e.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=t(`[name="${e.name}"]:checked`);return r||(r=t(`[name="${e.name}"]`)),r!==e}function hC(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||fC(e))}function pC(e){const t=[],r=[];return Array.from(e.querySelectorAll(cC)).forEach((n,i)=>{const o=dC(n);o===-1||!hC(n)||(o===0?t.push(n):r.push({documentOrder:i,tabIndex:o,node:n}))}),r.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(t)}function vC(){return!0}function gC(e){const{children:t,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:o=pC,isEnabled:s=vC,open:x}=e,a=H.exports.useRef(),I=H.exports.useRef(null),D=H.exports.useRef(null),F=H.exports.useRef(null),M=H.exports.useRef(null),B=H.exports.useRef(!1),A=H.exports.useRef(null),_=gt(t.ref,A),w=H.exports.useRef(null);H.exports.useEffect(()=>{!x||!A.current||(B.current=!r)},[r,x]),H.exports.useEffect(()=>{if(!x||!A.current)return;const m=kt(A.current);return A.current.contains(m.activeElement)||(A.current.hasAttribute("tabIndex")||A.current.setAttribute("tabIndex",-1),B.current&&A.current.focus()),()=>{i||(F.current&&F.current.focus&&(a.current=!0,F.current.focus()),F.current=null)}},[x]),H.exports.useEffect(()=>{if(!x||!A.current)return;const m=kt(A.current),L=l=>{const{current:u}=A;if(u!==null){if(!m.hasFocus()||n||!s()||a.current){a.current=!1;return}if(!u.contains(m.activeElement)){if(l&&M.current!==l.target||m.activeElement!==M.current)M.current=null;else if(M.current!==null)return;if(!B.current)return;let d=[];if((m.activeElement===I.current||m.activeElement===D.current)&&(d=o(A.current)),d.length>0){var E,y;const f=Boolean(((E=w.current)==null?void 0:E.shiftKey)&&((y=w.current)==null?void 0:y.key)==="Tab"),p=d[0],R=d[d.length-1];f?R.focus():p.focus()}else u.focus()}}},P=l=>{w.current=l,!(n||!s()||l.key!=="Tab")&&m.activeElement===A.current&&l.shiftKey&&(a.current=!0,D.current.focus())};m.addEventListener("focusin",L),m.addEventListener("keydown",P,!0);const c=setInterval(()=>{m.activeElement.tagName==="BODY"&&L()},50);return()=>{clearInterval(c),m.removeEventListener("focusin",L),m.removeEventListener("keydown",P,!0)}},[r,n,i,s,x,o]);const h=m=>{F.current===null&&(F.current=m.relatedTarget),B.current=!0,M.current=m.target;const L=t.props.onFocus;L&&L(m)},v=m=>{F.current===null&&(F.current=m.relatedTarget),B.current=!0};return ye(H.exports.Fragment,{children:[Y("div",{tabIndex:x?0:-1,onFocus:v,ref:I,"data-testid":"sentinelStart"}),H.exports.cloneElement(t,{ref:_,onFocus:h}),Y("div",{tabIndex:x?0:-1,onFocus:v,ref:D,"data-testid":"sentinelEnd"})]})}function mC(e){return typeof e=="function"?e():e}const yC=H.exports.forwardRef(function(t,r){const{children:n,container:i,disablePortal:o=!1}=t,[s,x]=H.exports.useState(null),a=gt(H.exports.isValidElement(n)?n.ref:null,r);return fn(()=>{o||x(mC(i)||document.body)},[i,o]),fn(()=>{if(s&&!o)return ys(r,s),()=>{ys(r,null)}},[r,s,o]),o?H.exports.isValidElement(n)?H.exports.cloneElement(n,{ref:a}):n:Y(H.exports.Fragment,{children:s&&jo.exports.createPortal(n,s)})}),EC=yC;function xC(e){const t=kt(e);return t.body===e?dn(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Eo(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function sp(e){return parseInt(dn(e).getComputedStyle(e).paddingRight,10)||0}function TC(e){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,n=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return r||n}function lp(e,t,r,n,i){const o=[t,r,...n];[].forEach.call(e.children,s=>{const x=o.indexOf(s)===-1,a=!TC(s);x&&a&&Eo(s,i)})}function au(e,t){let r=-1;return e.some((n,i)=>t(n)?(r=i,!0):!1),r}function SC(e,t){const r=[],n=e.container;if(!t.disableScrollLock){if(xC(n)){const s=Bm(kt(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${sp(n)+s}px`;const x=kt(n).querySelectorAll(".mui-fixed");[].forEach.call(x,a=>{r.push({value:a.style.paddingRight,property:"padding-right",el:a}),a.style.paddingRight=`${sp(a)+s}px`})}let o;if(n.parentNode instanceof DocumentFragment)o=kt(n).body;else{const s=n.parentElement,x=dn(n);o=(s==null?void 0:s.nodeName)==="HTML"&&x.getComputedStyle(s).overflowY==="scroll"?s:n}r.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{r.forEach(({value:o,el:s,property:x})=>{o?s.style.setProperty(x,o):s.style.removeProperty(x)})}}function _C(e){const t=[];return[].forEach.call(e.children,r=>{r.getAttribute("aria-hidden")==="true"&&t.push(r)}),t}class CC{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,r){let n=this.modals.indexOf(t);if(n!==-1)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&Eo(t.modalRef,!1);const i=_C(r);lp(r,t.mount,t.modalRef,i,!0);const o=au(this.containers,s=>s.container===r);return o!==-1?(this.containers[o].modals.push(t),n):(this.containers.push({modals:[t],container:r,restore:null,hiddenSiblings:i}),n)}mount(t,r){const n=au(this.containers,o=>o.modals.indexOf(t)!==-1),i=this.containers[n];i.restore||(i.restore=SC(i,r))}remove(t,r=!0){const n=this.modals.indexOf(t);if(n===-1)return n;const i=au(this.containers,s=>s.modals.indexOf(t)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(n,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&Eo(t.modalRef,r),lp(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&Eo(s.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function RC(e){return Te("MuiModal",e)}Ee("MuiModal",["root","hidden"]);const bC=["children","classes","closeAfterTransition","component","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],LC=e=>{const{open:t,exited:r,classes:n}=e;return _e({root:["root",!t&&r&&"hidden"]},RC,n)};function PC(e){return typeof e=="function"?e():e}function DC(e){return e.children?e.children.props.hasOwnProperty("in"):!1}const IC=new CC,AC=H.exports.forwardRef(function(t,r){var n,i;const{children:o,classes:s,closeAfterTransition:x=!1,component:a,container:I,disableAutoFocus:D=!1,disableEnforceFocus:F=!1,disableEscapeKeyDown:M=!1,disablePortal:B=!1,disableRestoreFocus:A=!1,disableScrollLock:_=!1,hideBackdrop:w=!1,keepMounted:h=!1,manager:v=IC,onBackdropClick:m,onClose:L,onKeyDown:P,open:c,onTransitionEnter:l,onTransitionExited:u,slotProps:E={},slots:y={}}=t,d=he(t,bC),[f,p]=H.exports.useState(!0),R=H.exports.useRef({}),S=H.exports.useRef(null),O=H.exports.useRef(null),C=gt(O,r),b=DC(t),T=(n=t["aria-hidden"])!=null?n:!0,g=()=>kt(S.current),k=()=>(R.current.modalRef=O.current,R.current.mountNode=S.current,R.current),N=()=>{v.mount(k(),{disableScrollLock:_}),O.current.scrollTop=0},U=An(()=>{const ue=PC(I)||g().body;v.add(k(),ue),O.current&&N()}),W=H.exports.useCallback(()=>v.isTopModal(k()),[v]),$=An(ue=>{S.current=ue,ue&&(c&&W()?N():Eo(O.current,T))}),K=H.exports.useCallback(()=>{v.remove(k(),T)},[v,T]);H.exports.useEffect(()=>()=>{K()},[K]),H.exports.useEffect(()=>{c?U():(!b||!x)&&K()},[c,K,b,x,U]);const z=G({},t,{classes:s,closeAfterTransition:x,disableAutoFocus:D,disableEnforceFocus:F,disableEscapeKeyDown:M,disablePortal:B,disableRestoreFocus:A,disableScrollLock:_,exited:f,hideBackdrop:w,keepMounted:h}),j=LC(z),V=()=>{p(!1),l&&l()},X=()=>{p(!0),u&&u(),x&&K()},Q=ue=>{ue.target===ue.currentTarget&&(m&&m(ue),L&&L(ue,"backdropClick"))},J=ue=>{P&&P(ue),!(ue.key!=="Escape"||!W())&&(M||(ue.stopPropagation(),L&&L(ue,"escapeKeyDown")))},te={};o.props.tabIndex===void 0&&(te.tabIndex="-1"),b&&(te.onEnter=vc(V,o.props.onEnter),te.onExited=vc(X,o.props.onExited));const ne=(i=a!=null?a:y.root)!=null?i:"div",se=ap({elementType:ne,externalSlotProps:E.root,externalForwardedProps:d,additionalProps:{ref:C,role:"presentation",onKeyDown:J},className:j.root,ownerState:z}),oe=y.backdrop,pe=ap({elementType:oe,externalSlotProps:E.backdrop,additionalProps:{"aria-hidden":!0,onClick:Q,open:c},className:j.backdrop,ownerState:z});return!h&&!c&&(!b||f)?null:Y(EC,{ref:$,container:I,disablePortal:B,children:ye(ne,G({},se,{children:[!w&&oe?Y(oe,G({},pe)):null,Y(gC,{disableEnforceFocus:F,disableAutoFocus:D,disableRestoreFocus:A,isEnabled:W,open:c,children:H.exports.cloneElement(o,te)})]}))})}),OC=AC,MC=["onChange","maxRows","minRows","style","value"];function Ra(e,t){return parseInt(e[t],10)||0}const kC={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function up(e){return e==null||Object.keys(e).length===0}const wC=H.exports.forwardRef(function(t,r){const{onChange:n,maxRows:i,minRows:o=1,style:s,value:x}=t,a=he(t,MC),{current:I}=H.exports.useRef(x!=null),D=H.exports.useRef(null),F=gt(r,D),M=H.exports.useRef(null),B=H.exports.useRef(0),[A,_]=H.exports.useState({}),w=H.exports.useCallback(()=>{const P=D.current,l=dn(P).getComputedStyle(P);if(l.width==="0px")return{};const u=M.current;u.style.width=l.width,u.value=P.value||t.placeholder||"x",u.value.slice(-1)===`
`&&(u.value+=" ");const E=l["box-sizing"],y=Ra(l,"padding-bottom")+Ra(l,"padding-top"),d=Ra(l,"border-bottom-width")+Ra(l,"border-top-width"),f=u.scrollHeight;u.value="x";const p=u.scrollHeight;let R=f;o&&(R=Math.max(Number(o)*p,R)),i&&(R=Math.min(Number(i)*p,R)),R=Math.max(R,p);const S=R+(E==="border-box"?y+d:0),O=Math.abs(R-f)<=1;return{outerHeightStyle:S,overflow:O}},[i,o,t.placeholder]),h=(P,c)=>{const{outerHeightStyle:l,overflow:u}=c;return B.current<20&&(l>0&&Math.abs((P.outerHeightStyle||0)-l)>1||P.overflow!==u)?(B.current+=1,{overflow:u,outerHeightStyle:l}):P},v=H.exports.useCallback(()=>{const P=w();up(P)||_(c=>h(c,P))},[w]),m=()=>{const P=w();up(P)||jo.exports.flushSync(()=>{_(c=>h(c,P))})};H.exports.useEffect(()=>{const P=Md(()=>{B.current=0,D.current&&m()}),c=dn(D.current);c.addEventListener("resize",P);let l;return typeof ResizeObserver<"u"&&(l=new ResizeObserver(P),l.observe(D.current)),()=>{P.clear(),c.removeEventListener("resize",P),l&&l.disconnect()}}),fn(()=>{v()}),H.exports.useEffect(()=>{B.current=0},[x]);const L=P=>{B.current=0,I||v(),n&&n(P)};return ye(H.exports.Fragment,{children:[Y("textarea",G({value:x,onChange:L,ref:F,rows:o,style:G({height:A.outerHeightStyle,overflow:A.overflow?"hidden":null},s)},a)),Y("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:M,tabIndex:-1,style:G({},kC.shadow,s,{padding:0})})]})}),FC=wC;function NC(e){return Te("MuiPaper",e)}Ee("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const BC=["className","component","elevation","square","variant"],cp=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)},UC=e=>{const{square:t,elevation:r,variant:n,classes:i}=e,o={root:["root",n,!t&&"rounded",n==="elevation"&&`elevation${r}`]};return _e(o,NC,i)},$C=le("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,r.variant==="elevation"&&t[`elevation${r.elevation}`]]}})(({theme:e,ownerState:t})=>{var r;return G({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&G({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Be("#fff",cp(t.elevation))}, ${Be("#fff",cp(t.elevation))})`},e.vars&&{backgroundImage:(r=e.vars.overlays)==null?void 0:r[t.elevation]}))}),WC=H.exports.forwardRef(function(t,r){const n=be({props:t,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:x=!1,variant:a="elevation"}=n,I=he(n,BC),D=G({},n,{component:o,elevation:s,square:x,variant:a}),F=UC(D);return Y($C,G({as:o,ownerState:D,className:ve(F.root,i),ref:r},I))}),ta=WC,KC=Gd(),zC=i_({defaultTheme:KC,defaultClassName:"MuiBox-root",generateClassName:kd.generate}),nt=zC;function a0(e,t){return function(){return e.apply(t,arguments)}}const{toString:s0}=Object.prototype,{getPrototypeOf:Vd}=Object,Yd=(e=>t=>{const r=s0.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),$r=e=>(e=e.toLowerCase(),t=>Yd(t)===e),sl=e=>t=>typeof t===e,{isArray:ra}=Array,yc=sl("undefined");function HC(e){return e!==null&&!yc(e)&&e.constructor!==null&&!yc(e.constructor)&&wi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const l0=$r("ArrayBuffer");function jC(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&l0(e.buffer),t}const GC=sl("string"),wi=sl("function"),u0=sl("number"),c0=e=>e!==null&&typeof e=="object",VC=e=>e===!0||e===!1,ja=e=>{if(Yd(e)!=="object")return!1;const t=Vd(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},YC=$r("Date"),XC=$r("File"),QC=$r("Blob"),JC=$r("FileList"),ZC=e=>c0(e)&&wi(e.pipe),qC=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||s0.call(e)===t||wi(e.toString)&&e.toString()===t)},eR=$r("URLSearchParams"),tR=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ll(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),ra(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const o=r?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let x;for(n=0;n<s;n++)x=o[n],t.call(null,e[x],x,e)}}function Ec(){const e={},t=(r,n)=>{ja(e[n])&&ja(r)?e[n]=Ec(e[n],r):ja(r)?e[n]=Ec({},r):ra(r)?e[n]=r.slice():e[n]=r};for(let r=0,n=arguments.length;r<n;r++)arguments[r]&&ll(arguments[r],t);return e}const rR=(e,t,r,{allOwnKeys:n}={})=>(ll(t,(i,o)=>{r&&wi(i)?e[o]=a0(i,r):e[o]=i},{allOwnKeys:n}),e),nR=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),iR=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},oR=(e,t,r,n)=>{let i,o,s;const x={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],(!n||n(s,e,t))&&!x[s]&&(t[s]=e[s],x[s]=!0);e=r!==!1&&Vd(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},aR=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},sR=e=>{if(!e)return null;if(ra(e))return e;let t=e.length;if(!u0(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},lR=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Vd(Uint8Array)),uR=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},cR=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},dR=$r("HTMLFormElement"),fR=e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),dp=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),hR=$r("RegExp"),d0=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};ll(r,(i,o)=>{t(i,o,e)!==!1&&(n[o]=i)}),Object.defineProperties(e,n)},pR=e=>{d0(e,(t,r)=>{const n=e[r];if(!!wi(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not read-only method '"+r+"'")})}})},vR=(e,t)=>{const r={},n=i=>{i.forEach(o=>{r[o]=!0})};return ra(e)?n(e):n(String(e).split(t)),r},gR=()=>{},mR=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Z={isArray:ra,isArrayBuffer:l0,isBuffer:HC,isFormData:qC,isArrayBufferView:jC,isString:GC,isNumber:u0,isBoolean:VC,isObject:c0,isPlainObject:ja,isUndefined:yc,isDate:YC,isFile:XC,isBlob:QC,isRegExp:hR,isFunction:wi,isStream:ZC,isURLSearchParams:eR,isTypedArray:lR,isFileList:JC,forEach:ll,merge:Ec,extend:rR,trim:tR,stripBOM:nR,inherits:iR,toFlatObject:oR,kindOf:Yd,kindOfTest:$r,endsWith:aR,toArray:sR,forEachEntry:uR,matchAll:cR,isHTMLForm:dR,hasOwnProperty:dp,hasOwnProp:dp,reduceDescriptors:d0,freezeMethods:pR,toObjectSet:vR,toCamelCase:fR,noop:gR,toFiniteNumber:mR};function Ie(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}Z.inherits(Ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const f0=Ie.prototype,h0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{h0[e]={value:e}});Object.defineProperties(Ie,h0);Object.defineProperty(f0,"isAxiosError",{value:!0});Ie.from=(e,t,r,n,i,o)=>{const s=Object.create(f0);return Z.toFlatObject(e,s,function(a){return a!==Error.prototype},x=>x!=="isAxiosError"),Ie.call(s,e.message,t,r,n,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};var yR=typeof self=="object"?self.FormData:window.FormData;function xc(e){return Z.isPlainObject(e)||Z.isArray(e)}function p0(e){return Z.endsWith(e,"[]")?e.slice(0,-2):e}function fp(e,t,r){return e?e.concat(t).map(function(i,o){return i=p0(i),!r&&o?"["+i+"]":i}).join(r?".":""):t}function ER(e){return Z.isArray(e)&&!e.some(xc)}const xR=Z.toFlatObject(Z,{},null,function(t){return/^is[A-Z]/.test(t)});function TR(e){return e&&Z.isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator]}function ul(e,t,r){if(!Z.isObject(e))throw new TypeError("target must be an object");t=t||new(yR||FormData),r=Z.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,w){return!Z.isUndefined(w[_])});const n=r.metaTokens,i=r.visitor||D,o=r.dots,s=r.indexes,a=(r.Blob||typeof Blob<"u"&&Blob)&&TR(t);if(!Z.isFunction(i))throw new TypeError("visitor must be a function");function I(A){if(A===null)return"";if(Z.isDate(A))return A.toISOString();if(!a&&Z.isBlob(A))throw new Ie("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(A)||Z.isTypedArray(A)?a&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function D(A,_,w){let h=A;if(A&&!w&&typeof A=="object"){if(Z.endsWith(_,"{}"))_=n?_:_.slice(0,-2),A=JSON.stringify(A);else if(Z.isArray(A)&&ER(A)||Z.isFileList(A)||Z.endsWith(_,"[]")&&(h=Z.toArray(A)))return _=p0(_),h.forEach(function(m,L){!(Z.isUndefined(m)||m===null)&&t.append(s===!0?fp([_],L,o):s===null?_:_+"[]",I(m))}),!1}return xc(A)?!0:(t.append(fp(w,_,o),I(A)),!1)}const F=[],M=Object.assign(xR,{defaultVisitor:D,convertValue:I,isVisitable:xc});function B(A,_){if(!Z.isUndefined(A)){if(F.indexOf(A)!==-1)throw Error("Circular reference detected in "+_.join("."));F.push(A),Z.forEach(A,function(h,v){(!(Z.isUndefined(h)||h===null)&&i.call(t,h,Z.isString(v)?v.trim():v,_,M))===!0&&B(h,_?_.concat(v):[v])}),F.pop()}}if(!Z.isObject(e))throw new TypeError("data must be an object");return B(e),t}function hp(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Xd(e,t){this._pairs=[],e&&ul(e,this,t)}const v0=Xd.prototype;v0.append=function(t,r){this._pairs.push([t,r])};v0.toString=function(t){const r=t?function(n){return t.call(this,n,hp)}:hp;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function SR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function g0(e,t,r){if(!t)return e;const n=r&&r.encode||SR,i=r&&r.serialize;let o;if(i?o=i(t,r):o=Z.isURLSearchParams(t)?t.toString():new Xd(t,r).toString(n),o){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class pp{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Z.forEach(this.handlers,function(n){n!==null&&t(n)})}}const m0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_R=typeof URLSearchParams<"u"?URLSearchParams:Xd,CR=FormData,RR=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Mr={isBrowser:!0,classes:{URLSearchParams:_R,FormData:CR,Blob},isStandardBrowserEnv:RR,protocols:["http","https","file","blob","url","data"]};function bR(e,t){return ul(e,new Mr.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,o){return Mr.isNode&&Z.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function LR(e){return Z.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function PR(e){const t={},r=Object.keys(e);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],t[o]=e[o];return t}function y0(e){function t(r,n,i,o){let s=r[o++];const x=Number.isFinite(+s),a=o>=r.length;return s=!s&&Z.isArray(i)?i.length:s,a?(Z.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!x):((!i[s]||!Z.isObject(i[s]))&&(i[s]=[]),t(r,n,i[s],o)&&Z.isArray(i[s])&&(i[s]=PR(i[s])),!x)}if(Z.isFormData(e)&&Z.isFunction(e.entries)){const r={};return Z.forEachEntry(e,(n,i)=>{t(LR(n),i,r,0)}),r}return null}function DR(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Ie("Request failed with status code "+r.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const IR=Mr.isStandardBrowserEnv?function(){return{write:function(r,n,i,o,s,x){const a=[];a.push(r+"="+encodeURIComponent(n)),Z.isNumber(i)&&a.push("expires="+new Date(i).toGMTString()),Z.isString(o)&&a.push("path="+o),Z.isString(s)&&a.push("domain="+s),x===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function AR(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function OR(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function E0(e,t){return e&&!AR(t)?OR(e,t):t}const MR=Mr.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(o){let s=o;return t&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(s){const x=Z.isString(s)?i(s):s;return x.protocol===n.protocol&&x.host===n.host}}():function(){return function(){return!0}}();function na(e,t,r){Ie.call(this,e==null?"canceled":e,Ie.ERR_CANCELED,t,r),this.name="CanceledError"}Z.inherits(na,Ie,{__CANCEL__:!0});function kR(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}const wR=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FR=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),r=s.substring(0,i).trim().toLowerCase(),n=s.substring(i+1).trim(),!(!r||t[r]&&wR[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},vp=Symbol("internals"),x0=Symbol("defaults");function io(e){return e&&String(e).trim().toLowerCase()}function Ga(e){return e===!1||e==null?e:Z.isArray(e)?e.map(Ga):String(e)}function NR(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}function gp(e,t,r,n){if(Z.isFunction(n))return n.call(this,t,r);if(!!Z.isString(t)){if(Z.isString(n))return t.indexOf(n)!==-1;if(Z.isRegExp(n))return n.test(t)}}function BR(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function UR(e,t){const r=Z.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,o,s){return this[n].call(this,t,i,o,s)},configurable:!0})})}function Xi(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}function tr(e,t){e&&this.set(e),this[x0]=t||null}Object.assign(tr.prototype,{set:function(e,t,r){const n=this;function i(o,s,x){const a=io(s);if(!a)throw new Error("header name must be a non-empty string");const I=Xi(n,a);I&&x!==!0&&(n[I]===!1||x===!1)||(n[I||s]=Ga(o))}return Z.isPlainObject(e)?Z.forEach(e,(o,s)=>{i(o,s,t)}):i(t,e,r),this},get:function(e,t){if(e=io(e),!e)return;const r=Xi(this,e);if(r){const n=this[r];if(!t)return n;if(t===!0)return NR(n);if(Z.isFunction(t))return t.call(this,n,r);if(Z.isRegExp(t))return t.exec(n);throw new TypeError("parser must be boolean|regexp|function")}},has:function(e,t){if(e=io(e),e){const r=Xi(this,e);return!!(r&&(!t||gp(this,this[r],r,t)))}return!1},delete:function(e,t){const r=this;let n=!1;function i(o){if(o=io(o),o){const s=Xi(r,o);s&&(!t||gp(r,r[s],s,t))&&(delete r[s],n=!0)}}return Z.isArray(e)?e.forEach(i):i(e),n},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(e){const t=this,r={};return Z.forEach(this,(n,i)=>{const o=Xi(r,i);if(o){t[o]=Ga(n),delete t[i];return}const s=e?BR(i):String(i).trim();s!==i&&delete t[i],t[s]=Ga(n),r[s]=!0}),this},toJSON:function(e){const t=Object.create(null);return Z.forEach(Object.assign({},this[x0]||null,this),(r,n)=>{r==null||r===!1||(t[n]=e&&Z.isArray(r)?r.join(", "):r)}),t}});Object.assign(tr,{from:function(e){return Z.isString(e)?new this(FR(e)):e instanceof this?e:new this(e)},accessor:function(e){const r=(this[vp]=this[vp]={accessors:{}}).accessors,n=this.prototype;function i(o){const s=io(o);r[s]||(UR(n,o),r[s]=!0)}return Z.isArray(e)?e.forEach(i):i(e),this}});tr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);Z.freezeMethods(tr.prototype);Z.freezeMethods(tr);function $R(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,o=0,s;return t=t!==void 0?t:1e3,function(a){const I=Date.now(),D=n[o];s||(s=I),r[i]=a,n[i]=I;let F=o,M=0;for(;F!==i;)M+=r[F++],F=F%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),I-s<t)return;const B=D&&I-D;return B?Math.round(M*1e3/B):void 0}}function mp(e,t){let r=0;const n=$R(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,x=o-r,a=n(x),I=o<=s;r=o;const D={loaded:o,total:s,progress:s?o/s:void 0,bytes:x,rate:a||void 0,estimated:a&&s&&I?(s-o)/a:void 0};D[t?"download":"upload"]=!0,e(D)}}function yp(e){return new Promise(function(r,n){let i=e.data;const o=tr.from(e.headers).normalize(),s=e.responseType;let x;function a(){e.cancelToken&&e.cancelToken.unsubscribe(x),e.signal&&e.signal.removeEventListener("abort",x)}Z.isFormData(i)&&Mr.isStandardBrowserEnv&&o.setContentType(!1);let I=new XMLHttpRequest;if(e.auth){const B=e.auth.username||"",A=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(B+":"+A))}const D=E0(e.baseURL,e.url);I.open(e.method.toUpperCase(),g0(D,e.params,e.paramsSerializer),!0),I.timeout=e.timeout;function F(){if(!I)return;const B=tr.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),_={data:!s||s==="text"||s==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:B,config:e,request:I};DR(function(h){r(h),a()},function(h){n(h),a()},_),I=null}if("onloadend"in I?I.onloadend=F:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(F)},I.onabort=function(){!I||(n(new Ie("Request aborted",Ie.ECONNABORTED,e,I)),I=null)},I.onerror=function(){n(new Ie("Network Error",Ie.ERR_NETWORK,e,I)),I=null},I.ontimeout=function(){let A=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const _=e.transitional||m0;e.timeoutErrorMessage&&(A=e.timeoutErrorMessage),n(new Ie(A,_.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,e,I)),I=null},Mr.isStandardBrowserEnv){const B=(e.withCredentials||MR(D))&&e.xsrfCookieName&&IR.read(e.xsrfCookieName);B&&o.set(e.xsrfHeaderName,B)}i===void 0&&o.setContentType(null),"setRequestHeader"in I&&Z.forEach(o.toJSON(),function(A,_){I.setRequestHeader(_,A)}),Z.isUndefined(e.withCredentials)||(I.withCredentials=!!e.withCredentials),s&&s!=="json"&&(I.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&I.addEventListener("progress",mp(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&I.upload&&I.upload.addEventListener("progress",mp(e.onUploadProgress)),(e.cancelToken||e.signal)&&(x=B=>{!I||(n(!B||B.type?new na(null,e,I):B),I.abort(),I=null)},e.cancelToken&&e.cancelToken.subscribe(x),e.signal&&(e.signal.aborted?x():e.signal.addEventListener("abort",x)));const M=kR(D);if(M&&Mr.protocols.indexOf(M)===-1){n(new Ie("Unsupported protocol "+M+":",Ie.ERR_BAD_REQUEST,e));return}I.send(i||null)})}const Ep={http:yp,xhr:yp},xp={getAdapter:e=>{if(Z.isString(e)){const t=Ep[e];if(!e)throw Error(Z.hasOwnProp(e)?`Adapter '${e}' is not available in the build`:`Can not resolve adapter '${e}'`);return t}if(!Z.isFunction(e))throw new TypeError("adapter is not a function");return e},adapters:Ep},WR={"Content-Type":"application/x-www-form-urlencoded"};function KR(){let e;return typeof XMLHttpRequest<"u"?e=xp.getAdapter("xhr"):typeof process<"u"&&Z.kindOf(process)==="process"&&(e=xp.getAdapter("http")),e}function zR(e,t,r){if(Z.isString(e))try{return(t||JSON.parse)(e),Z.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Fi={transitional:m0,adapter:KR(),transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,o=Z.isObject(t);if(o&&Z.isHTMLForm(t)&&(t=new FormData(t)),Z.isFormData(t))return i&&i?JSON.stringify(y0(t)):t;if(Z.isArrayBuffer(t)||Z.isBuffer(t)||Z.isStream(t)||Z.isFile(t)||Z.isBlob(t))return t;if(Z.isArrayBufferView(t))return t.buffer;if(Z.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let x;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return bR(t,this.formSerializer).toString();if((x=Z.isFileList(t))||n.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return ul(x?{"files[]":t}:t,a&&new a,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),zR(t)):t}],transformResponse:[function(t){const r=this.transitional||Fi.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(t&&Z.isString(t)&&(n&&!this.responseType||i)){const s=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(x){if(s)throw x.name==="SyntaxError"?Ie.from(x,Ie.ERR_BAD_RESPONSE,this,null,this.response):x}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mr.classes.FormData,Blob:Mr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Z.forEach(["delete","get","head"],function(t){Fi.headers[t]={}});Z.forEach(["post","put","patch"],function(t){Fi.headers[t]=Z.merge(WR)});function su(e,t){const r=this||Fi,n=t||r,i=tr.from(n.headers);let o=n.data;return Z.forEach(e,function(x){o=x.call(r,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function T0(e){return!!(e&&e.__CANCEL__)}function lu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new na}function Tp(e){return lu(e),e.headers=tr.from(e.headers),e.data=su.call(e,e.transformRequest),(e.adapter||Fi.adapter)(e).then(function(n){return lu(e),n.data=su.call(e,e.transformResponse,n),n.headers=tr.from(n.headers),n},function(n){return T0(n)||(lu(e),n&&n.response&&(n.response.data=su.call(e,e.transformResponse,n.response),n.response.headers=tr.from(n.response.headers))),Promise.reject(n)})}function Ko(e,t){t=t||{};const r={};function n(I,D){return Z.isPlainObject(I)&&Z.isPlainObject(D)?Z.merge(I,D):Z.isPlainObject(D)?Z.merge({},D):Z.isArray(D)?D.slice():D}function i(I){if(Z.isUndefined(t[I])){if(!Z.isUndefined(e[I]))return n(void 0,e[I])}else return n(e[I],t[I])}function o(I){if(!Z.isUndefined(t[I]))return n(void 0,t[I])}function s(I){if(Z.isUndefined(t[I])){if(!Z.isUndefined(e[I]))return n(void 0,e[I])}else return n(void 0,t[I])}function x(I){if(I in t)return n(e[I],t[I]);if(I in e)return n(void 0,e[I])}const a={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:x};return Z.forEach(Object.keys(e).concat(Object.keys(t)),function(D){const F=a[D]||i,M=F(D);Z.isUndefined(M)&&F!==x||(r[D]=M)}),r}const S0="1.1.3",Qd={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Qd[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Sp={};Qd.transitional=function(t,r,n){function i(o,s){return"[Axios v"+S0+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return(o,s,x)=>{if(t===!1)throw new Ie(i(s," has been removed"+(r?" in "+r:"")),Ie.ERR_DEPRECATED);return r&&!Sp[s]&&(Sp[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,s,x):!0}};function HR(e,t,r){if(typeof e!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const o=n[i],s=t[o];if(s){const x=e[o],a=x===void 0||s(x,o,e);if(a!==!0)throw new Ie("option "+o+" must be "+a,Ie.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ie("Unknown option "+o,Ie.ERR_BAD_OPTION)}}const Tc={assertOptions:HR,validators:Qd},zr=Tc.validators;class Fn{constructor(t){this.defaults=t,this.interceptors={request:new pp,response:new pp}}request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ko(this.defaults,r);const{transitional:n,paramsSerializer:i}=r;n!==void 0&&Tc.assertOptions(n,{silentJSONParsing:zr.transitional(zr.boolean),forcedJSONParsing:zr.transitional(zr.boolean),clarifyTimeoutError:zr.transitional(zr.boolean)},!1),i!==void 0&&Tc.assertOptions(i,{encode:zr.function,serialize:zr.function},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();const o=r.headers&&Z.merge(r.headers.common,r.headers[r.method]);o&&Z.forEach(["delete","get","head","post","put","patch","common"],function(A){delete r.headers[A]}),r.headers=new tr(r.headers,o);const s=[];let x=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(r)===!1||(x=x&&A.synchronous,s.unshift(A.fulfilled,A.rejected))});const a=[];this.interceptors.response.forEach(function(A){a.push(A.fulfilled,A.rejected)});let I,D=0,F;if(!x){const B=[Tp.bind(this),void 0];for(B.unshift.apply(B,s),B.push.apply(B,a),F=B.length,I=Promise.resolve(r);D<F;)I=I.then(B[D++],B[D++]);return I}F=s.length;let M=r;for(D=0;D<F;){const B=s[D++],A=s[D++];try{M=B(M)}catch(_){A.call(this,_);break}}try{I=Tp.call(this,M)}catch(B){return Promise.reject(B)}for(D=0,F=a.length;D<F;)I=I.then(a[D++],a[D++]);return I}getUri(t){t=Ko(this.defaults,t);const r=E0(t.baseURL,t.url);return g0(r,t.params,t.paramsSerializer)}}Z.forEach(["delete","get","head","options"],function(t){Fn.prototype[t]=function(r,n){return this.request(Ko(n||{},{method:t,url:r,data:(n||{}).data}))}});Z.forEach(["post","put","patch"],function(t){function r(n){return function(o,s,x){return this.request(Ko(x||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Fn.prototype[t]=r(),Fn.prototype[t+"Form"]=r(!0)});class Jd{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(x=>{n.subscribe(x),o=x}).then(i);return s.cancel=function(){n.unsubscribe(o)},s},t(function(o,s,x){n.reason||(n.reason=new na(o,s,x),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new Jd(function(i){t=i}),cancel:t}}}function jR(e){return function(r){return e.apply(null,r)}}function GR(e){return Z.isObject(e)&&e.isAxiosError===!0}function _0(e){const t=new Fn(e),r=a0(Fn.prototype.request,t);return Z.extend(r,Fn.prototype,t,{allOwnKeys:!0}),Z.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return _0(Ko(e,i))},r}const pt=_0(Fi);pt.Axios=Fn;pt.CanceledError=na;pt.CancelToken=Jd;pt.isCancel=T0;pt.VERSION=S0;pt.toFormData=ul;pt.AxiosError=Ie;pt.Cancel=pt.CanceledError;pt.all=function(t){return Promise.all(t)};pt.spread=jR;pt.isAxiosError=GR;pt.formToJSON=e=>y0(Z.isHTMLForm(e)?new FormData(e):e);const lr={parseOriginalBodyToList:e=>{const t=/#EXTINF:(.*)\n(#EXTVLCOPT:.*\n)*(http[s]*)(.*)/gm;let r=[],n;for(;(n=t.exec(e))!==null;){n.index===t.lastIndex&&t.lastIndex++;let o=[];n.forEach((s,x)=>{o.push(s)}),r.push(o)}let i=[];for(let o=0;o<r.length;o+=1)i.push(lr.parseRowToData(o,"#EXTINF:"+r[o][1],r[o][3]+""+r[o][4]));return i},parseRowToData(e,t,r){return{index:e,url:r,groupTitle:lr.pregValue(t,"group-title"),tvgLogo:lr.pregValue(t,"tvg-logo"),tvgLanguage:lr.parseLanguages(lr.pregValue(t,"tvg-language")),tvgCountry:lr.pregValue(t,"tvg-country"),tvgId:lr.pregValue(t,"tvg-id"),status:0,name:lr.parseName(t),originalData:`${t}
${r}`,checked:!1}},parseName:e=>{const t=e.split(",");return t[t.length-1]},parseLanguages:e=>e!==""?e.split(";"):[],pregValue:(e,t)=>{let r;t==="group-title"?r=/group-title="(.*)"/gm:t==="tvg-logo"?r=/tvg-logo="(.*)"/gm:t==="tvg-language"?r=/tvg-language="(.*)"/gm:t==="tvg-country"?r=/tvg-country="(.*)"/gm:t==="tvg-id"&&(r=/tvg-id="(.*)"/gm);let n,i="";for(;(n=r.exec(e))!==null;)n.index===r.lastIndex&&(r.lastIndex+=1),n.forEach((o,s)=>{s===1&&(i=o)});return i!==""?i.split('" ')[0]:""}},ia=H.exports.createContext(),VR=function({children:e}){const[t,r]=H.exports.useState(0),[n,i]=H.exports.useState(""),[o,s]=H.exports.useState([]),[x,a]=H.exports.useState(0),[I,D]=H.exports.useState(1e3),[F,M]=H.exports.useState(3e3),[B,A]=H.exports.useState(""),[_,w]=H.exports.useState(0);H.exports.useEffect(()=>{s(lr.parseOriginalBodyToList(n))},[n]);const h=()=>{r(1)},v=()=>new Date().getTime(),m=(b,T)=>b.indexOf(T)!=-1,L=b=>new URL(b).hostname,P=b=>{s(T=>T.filter((g,k)=>k!==b))},c=b=>{},l=b=>{if(b.length===0){s(lr.parseOriginalBodyToList(n));return}let T=lr.parseOriginalBodyToList(n),g=[];for(let k=0;k<T.length;k++){let N=!1;for(let U=0;U<b.length;U++)if(m(T[k].name,b[U])&&!N){let W=T[k];W.index=g.length,g.push(W),N=!0}}s(g)},u=b=>{i(b)},E=b=>JSON.parse(JSON.stringify(b)),y=(b,T)=>{s(g=>g.map((k,N)=>N===b?{...k,status:T}:k))},d=b=>{D(b)},f=()=>{let b=`#EXTM3U x-tvg-url="https://iptv-org.github.io/epg/guides/ao/guide.dstv.com.epg.xml,https://iptv-org.github.io/epg/guides/ar/directv.com.ar.epg.xml,https://iptv-org.github.io/epg/guides/ar/mi.tv.epg.xml,https://iptv-org.github.io/epg/guides/bf/canalplus-afrique.com.epg.xml,https://iptv-org.github.io/epg/guides/bi/startimestv.com.epg.xml,https://iptv-org.github.io/epg/guides/bo/comteco.com.bo.epg.xml,https://iptv-org.github.io/epg/guides/br/mi.tv.epg.xml,https://iptv-org.github.io/epg/guides/cn/tv.cctv.com.epg.xml,https://iptv-org.github.io/epg/guides/cz/m.tv.sms.cz.epg.xml,https://iptv-org.github.io/epg/guides/dk/allente.se.epg.xml,https://iptv-org.github.io/epg/guides/fr/chaines-tv.orange.fr.epg.xml,https://iptv-org.github.io/epg/guides/ga/startimestv.com.epg.xml,https://iptv-org.github.io/epg/guides/gr/cosmote.gr.epg.xml,https://iptv-org.github.io/epg/guides/hk-en/nowplayer.now.com.epg.xml,https://iptv-org.github.io/epg/guides/id-en/mncvision.id.epg.xml,https://iptv-org.github.io/epg/guides/it/guidatv.sky.it.epg.xml,https://iptv-org.github.io/epg/guides/my/astro.com.my.epg.xml,https://iptv-org.github.io/epg/guides/ng/dstv.com.epg.xml,https://iptv-org.github.io/epg/guides/nl/delta.nl.epg.xml,https://iptv-org.github.io/epg/guides/tr/digiturk.com.tr.epg.xml,https://iptv-org.github.io/epg/guides/uk/bt.com.epg.xml,https://iptv-org.github.io/epg/guides/us-pluto/i.mjh.nz.epg.xml,https://iptv-org.github.io/epg/guides/us/tvtv.us.epg.xml,https://iptv-org.github.io/epg/guides/za/guide.dstv.com.epg.xml"
`;for(let T=0;T<o.length;T+=1)o[T].checked&&(b+=`${o[T].originalData}
`);A(b)},p=()=>{A(n)},R=b=>{let T=[...o];const g=T.findIndex(k=>k.index==b);T[g].checked=!T[g].checked,s(T)},S=b=>{s(b===1?T=>T.map((g,k)=>({...g,checked:!0})):T=>T.map((g,k)=>({...g,checked:!1})))},O=b=>{let T=[],g=[...o];for(let k=0;k<g.length;k++)o[k].status===b?(g[k].checked=!0,T.push(o[k].index)):g[k].checked=!1;return s(g),T},C=async()=>{if(x===1)return;a(1);let b={},T=E(o),g={};for(let W=0;W<T.length;W++){let $=L(T[W].url);g[$]===void 0&&(g[$]=[]),g[$].push(T[W])}let k=0;for(const W in g)k=k>g[W].length?k:g[W].length;let N=[];for(let W=0;W<k;W++)for(const $ in g)g[$][W]!==void 0&&N.push(g[$][W]);let U=0;for(;N.length!==0;){let W=N.shift(),$=L(W.url);if(b[$]===void 0&&(b[$]=v()),v()-b[$]<I){N.push(W);continue}else try{(await pt.get(W.url,{timeout:F})).status===200?y(W.index,1):y(W.index,2),U++,w(U),b[$]=v()}catch{U++,w(U),y(W.index,2),b[$]=v()}}console.log("finished....."),a(2)};return Y(ia.Provider,{value:{scene:t,originalM3uBody:n,showM3uBody:o,handleMod:x,checkMillisSeconds:I,dialogBody:B,hasCheckedCount:_,httpRequestTimeout:F,onCheckTheseLinkIsAvailable:C,goToDetailScene:h,changeOriginalM3uBody:u,filterM3u:l,changeCheckMillisSeconds:d,deleteShowM3uRow:P,onExportValidM3uData:f,onSelectedRow:R,onSelectedOrNotAll:S,getAvailableOrNotAvailableIndex:O,changeHttpRequestTimeout:c,changeDialogBodyData:p},children:e})};function Ni({props:e,states:t,muiFormControl:r}){return t.reduce((n,i)=>(n[i]=e[i],r&&typeof e[i]>"u"&&(n[i]=r[i]),n),{})}const YR=H.exports.createContext(),Zd=YR;function jn(){return H.exports.useContext(Zd)}function XR(e){return Y(YT,G({},e,{defaultTheme:ol}))}function _p(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function qd(e,t=!1){return e&&(_p(e.value)&&e.value!==""||t&&_p(e.defaultValue)&&e.defaultValue!=="")}function QR(e){return e.startAdornment}function JR(e){return Te("MuiInputBase",e)}const ZR=Ee("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Ii=ZR,qR=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],cl=(e,t)=>{const{ownerState:r}=e;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,r.size==="small"&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t[`color${re(r.color)}`],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},dl=(e,t)=>{const{ownerState:r}=e;return[t.input,r.size==="small"&&t.inputSizeSmall,r.multiline&&t.inputMultiline,r.type==="search"&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},eb=e=>{const{classes:t,color:r,disabled:n,error:i,endAdornment:o,focused:s,formControl:x,fullWidth:a,hiddenLabel:I,multiline:D,readOnly:F,size:M,startAdornment:B,type:A}=e,_={root:["root",`color${re(r)}`,n&&"disabled",i&&"error",a&&"fullWidth",s&&"focused",x&&"formControl",M==="small"&&"sizeSmall",D&&"multiline",B&&"adornedStart",o&&"adornedEnd",I&&"hiddenLabel",F&&"readOnly"],input:["input",n&&"disabled",A==="search"&&"inputTypeSearch",D&&"inputMultiline",M==="small"&&"inputSizeSmall",I&&"inputHiddenLabel",B&&"inputAdornedStart",o&&"inputAdornedEnd",F&&"readOnly"]};return _e(_,JR,t)},fl=le("div",{name:"MuiInputBase",slot:"Root",overridesResolver:cl})(({theme:e,ownerState:t})=>G({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Ii.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&G({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),hl=le("input",{name:"MuiInputBase",slot:"Input",overridesResolver:dl})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light",n=G({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),i={opacity:"0 !important"},o=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return G({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Ii.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${Ii.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),tb=Y(XR,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),rb=H.exports.forwardRef(function(t,r){var n;const i=be({props:t,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:x,className:a,components:I={},componentsProps:D={},defaultValue:F,disabled:M,disableInjectingGlobalStyles:B,endAdornment:A,fullWidth:_=!1,id:w,inputComponent:h="input",inputProps:v={},inputRef:m,maxRows:L,minRows:P,multiline:c=!1,name:l,onBlur:u,onChange:E,onClick:y,onFocus:d,onKeyDown:f,onKeyUp:p,placeholder:R,readOnly:S,renderSuffix:O,rows:C,slotProps:b={},slots:T={},startAdornment:g,type:k="text",value:N}=i,U=he(i,qR),W=v.value!=null?v.value:N,{current:$}=H.exports.useRef(W!=null),K=H.exports.useRef(),z=H.exports.useCallback(q=>{},[]),j=gt(K,m,v.ref,z),[V,X]=H.exports.useState(!1),Q=jn(),J=Ni({props:i,muiFormControl:Q,states:["color","disabled","error","hiddenLabel","size","required","filled"]});J.focused=Q?Q.focused:V,H.exports.useEffect(()=>{!Q&&M&&V&&(X(!1),u&&u())},[Q,M,V,u]);const te=Q&&Q.onFilled,ne=Q&&Q.onEmpty,se=H.exports.useCallback(q=>{qd(q)?te&&te():ne&&ne()},[te,ne]);fn(()=>{$&&se({value:W})},[W,se,$]);const oe=q=>{if(J.disabled){q.stopPropagation();return}d&&d(q),v.onFocus&&v.onFocus(q),Q&&Q.onFocus?Q.onFocus(q):X(!0)},pe=q=>{u&&u(q),v.onBlur&&v.onBlur(q),Q&&Q.onBlur?Q.onBlur(q):X(!1)},ue=(q,...ae)=>{if(!$){const Ce=q.target||K.current;if(Ce==null)throw new Error(cn(1));se({value:Ce.value})}v.onChange&&v.onChange(q,...ae),E&&E(q,...ae)};H.exports.useEffect(()=>{se(K.current)},[]);const ie=q=>{K.current&&q.currentTarget===q.target&&K.current.focus(),y&&y(q)};let ce=h,ge=v;c&&ce==="input"&&(C?ge=G({type:void 0,minRows:C,maxRows:C},ge):ge=G({type:void 0,maxRows:L,minRows:P},ge),ce=FC);const me=q=>{se(q.animationName==="mui-auto-fill-cancel"?K.current:{value:"x"})};H.exports.useEffect(()=>{Q&&Q.setAdornedStart(Boolean(g))},[Q,g]);const xe=G({},i,{color:J.color||"primary",disabled:J.disabled,endAdornment:A,error:J.error,focused:J.focused,formControl:Q,fullWidth:_,hiddenLabel:J.hiddenLabel,multiline:c,size:J.size,startAdornment:g,type:k}),Me=eb(xe),Se=T.root||I.Root||fl,Ue=b.root||D.root||{},Ne=T.input||I.Input||hl;return ge=G({},ge,(n=b.input)!=null?n:D.input),ye(H.exports.Fragment,{children:[!B&&tb,ye(Se,G({},Ue,!xs(Se)&&{ownerState:G({},xe,Ue.ownerState)},{ref:r,onClick:ie},U,{className:ve(Me.root,Ue.className,a),children:[g,Y(Zd.Provider,{value:null,children:Y(Ne,G({ownerState:xe,"aria-invalid":J.error,"aria-describedby":o,autoComplete:s,autoFocus:x,defaultValue:F,disabled:J.disabled,id:w,onAnimationStart:me,name:l,placeholder:R,readOnly:S,required:J.required,rows:C,value:W,onKeyDown:f,onKeyUp:p,type:k},ge,!xs(Ne)&&{as:ce,ownerState:G({},xe,ge.ownerState)},{ref:j,className:ve(Me.input,ge.className),onBlur:pe,onChange:ue,onFocus:oe}))}),A,O?O(G({},J,{startAdornment:g})):null]}))]})}),ef=rb;function nb(e){return Te("MuiInput",e)}const ib=G({},Ii,Ee("MuiInput",["root","underline","input"])),ba=ib,ob=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],ab=e=>{const{classes:t,disableUnderline:r}=e,i=_e({root:["root",!r&&"underline"],input:["input"]},nb,t);return G({},t,i)},sb=le(fl,{shouldForwardProp:e=>pr(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...cl(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),G({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ba.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ba.error}:after`]:{borderBottomColor:(e.vars||e).palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ba.disabled}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${ba.disabled}:before`]:{borderBottomStyle:"dotted"}})}),lb=le(hl,{name:"MuiInput",slot:"Input",overridesResolver:dl})({}),C0=H.exports.forwardRef(function(t,r){var n,i,o,s;const x=be({props:t,name:"MuiInput"}),{disableUnderline:a,components:I={},componentsProps:D,fullWidth:F=!1,inputComponent:M="input",multiline:B=!1,slotProps:A,slots:_={},type:w="text"}=x,h=he(x,ob),v=ab(x),L={root:{ownerState:{disableUnderline:a}}},P=(A!=null?A:D)?er(A!=null?A:D,L):L,c=(n=(i=_.root)!=null?i:I.Root)!=null?n:sb,l=(o=(s=_.input)!=null?s:I.Input)!=null?o:lb;return Y(ef,G({slots:{root:c,input:l},slotProps:P,fullWidth:F,inputComponent:M,multiline:B,ref:r,type:w},h,{classes:v}))});C0.muiName="Input";const R0=C0;function ub(e){return Te("MuiFilledInput",e)}const cb=G({},Ii,Ee("MuiFilledInput",["root","underline","input"])),ei=cb,db=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],fb=e=>{const{classes:t,disableUnderline:r}=e,i=_e({root:["root",!r&&"underline"],input:["input"]},ub,t);return G({},t,i)},hb=le(fl,{shouldForwardProp:e=>pr(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...cl(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var r;const n=e.palette.mode==="light",i=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",x=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return G({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o}},[`&.${ei.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o},[`&.${ei.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:x}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(r=(e.vars||e).palette[t.color||"primary"])==null?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ei.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ei.error}:after`]:{borderBottomColor:(e.vars||e).palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ei.disabled}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${ei.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&G({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),pb=le(hl,{name:"MuiFilledInput",slot:"Input",overridesResolver:dl})(({theme:e,ownerState:t})=>G({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9})),b0=H.exports.forwardRef(function(t,r){var n,i,o,s;const x=be({props:t,name:"MuiFilledInput"}),{components:a={},componentsProps:I,fullWidth:D=!1,inputComponent:F="input",multiline:M=!1,slotProps:B,slots:A={},type:_="text"}=x,w=he(x,db),h=G({},x,{fullWidth:D,inputComponent:F,multiline:M,type:_}),v=fb(x),m={root:{ownerState:h},input:{ownerState:h}},L=(B!=null?B:I)?er(B!=null?B:I,m):m,P=(n=(i=A.root)!=null?i:a.Root)!=null?n:hb,c=(o=(s=A.input)!=null?s:a.Input)!=null?o:pb;return Y(ef,G({slots:{root:P,input:c},componentsProps:L,fullWidth:D,inputComponent:F,multiline:M,ref:r,type:_},w,{classes:v}))});b0.muiName="Input";const L0=b0;var Cp;const vb=["children","classes","className","label","notched"],gb=le("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),mb=le("legend")(({ownerState:e,theme:t})=>G({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&G({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function yb(e){const{className:t,label:r,notched:n}=e,i=he(e,vb),o=r!=null&&r!=="",s=G({},e,{notched:n,withLabel:o});return Y(gb,G({"aria-hidden":!0,className:t,ownerState:s},i,{children:Y(mb,{ownerState:s,children:o?Y("span",{children:r}):Cp||(Cp=Y("span",{className:"notranslate",children:"\u200B"}))})}))}function Eb(e){return Te("MuiOutlinedInput",e)}const xb=G({},Ii,Ee("MuiOutlinedInput",["root","notchedOutline","input"])),Hr=xb,Tb=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Sb=e=>{const{classes:t}=e,n=_e({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Eb,t);return G({},t,n)},_b=le(fl,{shouldForwardProp:e=>pr(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:cl})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return G({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Hr.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Hr.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${Hr.focused} .${Hr.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${Hr.error} .${Hr.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Hr.disabled} .${Hr.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&G({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),Cb=le(yb,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),Rb=le(hl,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:dl})(({theme:e,ownerState:t})=>G({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),P0=H.exports.forwardRef(function(t,r){var n,i,o,s,x;const a=be({props:t,name:"MuiOutlinedInput"}),{components:I={},fullWidth:D=!1,inputComponent:F="input",label:M,multiline:B=!1,notched:A,slots:_={},type:w="text"}=a,h=he(a,Tb),v=Sb(a),m=jn(),L=Ni({props:a,muiFormControl:m,states:["required"]}),P=G({},a,{color:L.color||"primary",disabled:L.disabled,error:L.error,focused:L.focused,formControl:m,fullWidth:D,hiddenLabel:L.hiddenLabel,multiline:B,size:L.size,type:w}),c=(n=(i=_.root)!=null?i:I.Root)!=null?n:_b,l=(o=(s=_.input)!=null?s:I.Input)!=null?o:Rb;return Y(ef,G({slots:{root:c,input:l},renderSuffix:u=>Y(Cb,{ownerState:P,className:v.notchedOutline,label:M!=null&&M!==""&&L.required?x||(x=ye(H.exports.Fragment,{children:[M,"\xA0","*"]})):M,notched:typeof A<"u"?A:Boolean(u.startAdornment||u.filled||u.focused)}),fullWidth:D,inputComponent:F,multiline:B,ref:r,type:w},h,{classes:G({},v,{notchedOutline:null})}))});P0.muiName="Input";const D0=P0;function bb(e){return Te("MuiFormLabel",e)}const Lb=Ee("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),xo=Lb,Pb=["children","className","color","component","disabled","error","filled","focused","required"],Db=e=>{const{classes:t,color:r,focused:n,disabled:i,error:o,filled:s,required:x}=e,a={root:["root",`color${re(r)}`,i&&"disabled",o&&"error",s&&"filled",n&&"focused",x&&"required"],asterisk:["asterisk",o&&"error"]};return _e(a,bb,t)},Ib=le("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>G({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>G({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${xo.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${xo.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${xo.error}`]:{color:(e.vars||e).palette.error.main}})),Ab=le("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${xo.error}`]:{color:(e.vars||e).palette.error.main}})),Ob=H.exports.forwardRef(function(t,r){const n=be({props:t,name:"MuiFormLabel"}),{children:i,className:o,component:s="label"}=n,x=he(n,Pb),a=jn(),I=Ni({props:n,muiFormControl:a,states:["color","required","focused","disabled","error","filled"]}),D=G({},n,{color:I.color||"primary",component:s,disabled:I.disabled,error:I.error,filled:I.filled,focused:I.focused,required:I.required}),F=Db(D);return ye(Ib,G({as:s,ownerState:D,className:ve(F.root,o),ref:r},x,{children:[i,I.required&&ye(Ab,{ownerState:D,"aria-hidden":!0,className:F.asterisk,children:["\u2009","*"]})]}))}),Mb=Ob;function kb(e){return Te("MuiInputLabel",e)}Ee("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const wb=["disableAnimation","margin","shrink","variant","className"],Fb=e=>{const{classes:t,formControl:r,size:n,shrink:i,disableAnimation:o,variant:s,required:x}=e,I=_e({root:["root",r&&"formControl",!o&&"animated",i&&"shrink",n==="small"&&"sizeSmall",s],asterisk:[x&&"asterisk"]},kb,t);return G({},t,I)},Nb=le(Mb,{shouldForwardProp:e=>pr(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${xo.asterisk}`]:t.asterisk},t.root,r.formControl&&t.formControl,r.size==="small"&&t.sizeSmall,r.shrink&&t.shrink,!r.disableAnimation&&t.animated,t[r.variant]]}})(({theme:e,ownerState:t})=>G({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&G({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&G({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&G({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))),Bb=H.exports.forwardRef(function(t,r){const n=be({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,shrink:o,className:s}=n,x=he(n,wb),a=jn();let I=o;typeof I>"u"&&a&&(I=a.filled||a.focused||a.adornedStart);const D=Ni({props:n,muiFormControl:a,states:["size","variant","required"]}),F=G({},n,{disableAnimation:i,formControl:a,shrink:I,size:D.size,variant:D.variant,required:D.required}),M=Fb(F);return Y(Nb,G({"data-shrink":I,ownerState:F,ref:r,className:ve(M.root,s)},x,{classes:M}))}),Sc=Bb;function Ub(e){return Te("MuiFormControl",e)}Ee("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const $b=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Wb=e=>{const{classes:t,margin:r,fullWidth:n}=e,i={root:["root",r!=="none"&&`margin${re(r)}`,n&&"fullWidth"]};return _e(i,Ub,t)},Kb=le("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>G({},t.root,t[`margin${re(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>G({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),zb=H.exports.forwardRef(function(t,r){const n=be({props:t,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:x="div",disabled:a=!1,error:I=!1,focused:D,fullWidth:F=!1,hiddenLabel:M=!1,margin:B="none",required:A=!1,size:_="medium",variant:w="outlined"}=n,h=he(n,$b),v=G({},n,{color:s,component:x,disabled:a,error:I,fullWidth:F,hiddenLabel:M,margin:B,required:A,size:_,variant:w}),m=Wb(v),[L,P]=H.exports.useState(()=>{let p=!1;return i&&H.exports.Children.forEach(i,R=>{if(!Ha(R,["Input","Select"]))return;const S=Ha(R,["Select"])?R.props.input:R;S&&QR(S.props)&&(p=!0)}),p}),[c,l]=H.exports.useState(()=>{let p=!1;return i&&H.exports.Children.forEach(i,R=>{!Ha(R,["Input","Select"])||qd(R.props,!0)&&(p=!0)}),p}),[u,E]=H.exports.useState(!1);a&&u&&E(!1);const y=D!==void 0&&!a?D:u;let d;const f=H.exports.useMemo(()=>({adornedStart:L,setAdornedStart:P,color:s,disabled:a,error:I,filled:c,focused:y,fullWidth:F,hiddenLabel:M,size:_,onBlur:()=>{E(!1)},onEmpty:()=>{l(!1)},onFilled:()=>{l(!0)},onFocus:()=>{E(!0)},registerEffect:d,required:A,variant:w}),[L,s,a,I,c,y,F,M,d,A,_,w]);return Y(Zd.Provider,{value:f,children:Y(Kb,G({as:x,ownerState:v,className:ve(m.root,o),ref:r},h,{children:i}))})}),Qe=zb;function Hb(e){return Te("MuiFormHelperText",e)}const jb=Ee("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),Rp=jb;var bp;const Gb=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Vb=e=>{const{classes:t,contained:r,size:n,disabled:i,error:o,filled:s,focused:x,required:a}=e,I={root:["root",i&&"disabled",o&&"error",n&&`size${re(n)}`,r&&"contained",x&&"focused",s&&"filled",a&&"required"]};return _e(I,Hb,t)},Yb=le("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.size&&t[`size${re(r.size)}`],r.contained&&t.contained,r.filled&&t.filled]}})(({theme:e,ownerState:t})=>G({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Rp.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Rp.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),Xb=H.exports.forwardRef(function(t,r){const n=be({props:t,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p"}=n,x=he(n,Gb),a=jn(),I=Ni({props:n,muiFormControl:a,states:["variant","size","disabled","error","filled","focused","required"]}),D=G({},n,{component:s,contained:I.variant==="filled"||I.variant==="outlined",variant:I.variant,size:I.size,disabled:I.disabled,error:I.error,filled:I.filled,focused:I.focused,required:I.required}),F=Vb(D);return Y(Yb,G({as:s,ownerState:D,className:ve(F.root,o),ref:r},x,{children:i===" "?bp||(bp=Y("span",{className:"notranslate",children:"\u200B"})):i}))}),Qb=Xb;var Jb={exports:{}},Fe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tf=Symbol.for("react.element"),rf=Symbol.for("react.portal"),pl=Symbol.for("react.fragment"),vl=Symbol.for("react.strict_mode"),gl=Symbol.for("react.profiler"),ml=Symbol.for("react.provider"),yl=Symbol.for("react.context"),Zb=Symbol.for("react.server_context"),El=Symbol.for("react.forward_ref"),xl=Symbol.for("react.suspense"),Tl=Symbol.for("react.suspense_list"),Sl=Symbol.for("react.memo"),_l=Symbol.for("react.lazy"),qb=Symbol.for("react.offscreen"),I0;I0=Symbol.for("react.module.reference");function ir(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case tf:switch(e=e.type,e){case pl:case gl:case vl:case xl:case Tl:return e;default:switch(e=e&&e.$$typeof,e){case Zb:case yl:case El:case _l:case Sl:case ml:return e;default:return t}}case rf:return t}}}Fe.ContextConsumer=yl;Fe.ContextProvider=ml;Fe.Element=tf;Fe.ForwardRef=El;Fe.Fragment=pl;Fe.Lazy=_l;Fe.Memo=Sl;Fe.Portal=rf;Fe.Profiler=gl;Fe.StrictMode=vl;Fe.Suspense=xl;Fe.SuspenseList=Tl;Fe.isAsyncMode=function(){return!1};Fe.isConcurrentMode=function(){return!1};Fe.isContextConsumer=function(e){return ir(e)===yl};Fe.isContextProvider=function(e){return ir(e)===ml};Fe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===tf};Fe.isForwardRef=function(e){return ir(e)===El};Fe.isFragment=function(e){return ir(e)===pl};Fe.isLazy=function(e){return ir(e)===_l};Fe.isMemo=function(e){return ir(e)===Sl};Fe.isPortal=function(e){return ir(e)===rf};Fe.isProfiler=function(e){return ir(e)===gl};Fe.isStrictMode=function(e){return ir(e)===vl};Fe.isSuspense=function(e){return ir(e)===xl};Fe.isSuspenseList=function(e){return ir(e)===Tl};Fe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===pl||e===gl||e===vl||e===xl||e===Tl||e===qb||typeof e=="object"&&e!==null&&(e.$$typeof===_l||e.$$typeof===Sl||e.$$typeof===ml||e.$$typeof===yl||e.$$typeof===El||e.$$typeof===I0||e.getModuleId!==void 0)};Fe.typeOf=ir;(function(e){e.exports=Fe})(Jb);const eL=H.exports.createContext({}),_c=eL;function tL(e){return Te("MuiList",e)}Ee("MuiList",["root","padding","dense","subheader"]);const rL=["children","className","component","dense","disablePadding","subheader"],nL=e=>{const{classes:t,disablePadding:r,dense:n,subheader:i}=e;return _e({root:["root",!r&&"padding",n&&"dense",i&&"subheader"]},tL,t)},iL=le("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})(({ownerState:e})=>G({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),oL=H.exports.forwardRef(function(t,r){const n=be({props:t,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:x=!1,disablePadding:a=!1,subheader:I}=n,D=he(n,rL),F=H.exports.useMemo(()=>({dense:x}),[x]),M=G({},n,{component:s,dense:x,disablePadding:a}),B=nL(M);return Y(_c.Provider,{value:F,children:ye(iL,G({as:s,className:ve(B.root,o),ref:r,ownerState:M},D,{children:[I,i]}))})}),aL=oL,sL=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function uu(e,t,r){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r?null:e.firstChild}function Lp(e,t,r){return e===t?r?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r?null:e.lastChild}function A0(e,t){if(t===void 0)return!0;let r=e.innerText;return r===void 0&&(r=e.textContent),r=r.trim().toLowerCase(),r.length===0?!1:t.repeating?r[0]===t.keys[0]:r.indexOf(t.keys.join(""))===0}function Qi(e,t,r,n,i,o){let s=!1,x=i(e,t,t?r:!1);for(;x;){if(x===e.firstChild){if(s)return!1;s=!0}const a=n?!1:x.disabled||x.getAttribute("aria-disabled")==="true";if(!x.hasAttribute("tabindex")||!A0(x,o)||a)x=i(e,x,r);else return x.focus(),!0}return!1}const lL=H.exports.forwardRef(function(t,r){const{actions:n,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:x,disabledItemsFocusable:a=!1,disableListWrap:I=!1,onKeyDown:D,variant:F="selectedMenu"}=t,M=he(t,sL),B=H.exports.useRef(null),A=H.exports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});fn(()=>{i&&B.current.focus()},[i]),H.exports.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(m,L)=>{const P=!B.current.style.width;if(m.clientHeight<B.current.clientHeight&&P){const c=`${Bm(kt(m))}px`;B.current.style[L.direction==="rtl"?"paddingLeft":"paddingRight"]=c,B.current.style.width=`calc(100% + ${c})`}return B.current}}),[]);const _=m=>{const L=B.current,P=m.key,c=kt(L).activeElement;if(P==="ArrowDown")m.preventDefault(),Qi(L,c,I,a,uu);else if(P==="ArrowUp")m.preventDefault(),Qi(L,c,I,a,Lp);else if(P==="Home")m.preventDefault(),Qi(L,null,I,a,uu);else if(P==="End")m.preventDefault(),Qi(L,null,I,a,Lp);else if(P.length===1){const l=A.current,u=P.toLowerCase(),E=performance.now();l.keys.length>0&&(E-l.lastTime>500?(l.keys=[],l.repeating=!0,l.previousKeyMatched=!0):l.repeating&&u!==l.keys[0]&&(l.repeating=!1)),l.lastTime=E,l.keys.push(u);const y=c&&!l.repeating&&A0(c,l);l.previousKeyMatched&&(y||Qi(L,c,!1,a,uu,l))?m.preventDefault():l.previousKeyMatched=!1}D&&D(m)},w=gt(B,r);let h=-1;H.exports.Children.forEach(s,(m,L)=>{!H.exports.isValidElement(m)||m.props.disabled||(F==="selectedMenu"&&m.props.selected||h===-1)&&(h=L)});const v=H.exports.Children.map(s,(m,L)=>{if(L===h){const P={};return o&&(P.autoFocus=!0),m.props.tabIndex===void 0&&F==="selectedMenu"&&(P.tabIndex=0),H.exports.cloneElement(m,P)}return m});return Y(aL,G({role:"menu",ref:w,className:x,onKeyDown:_,tabIndex:i?0:-1},M,{children:v}))}),uL=lL;function Cc(e,t){return Cc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Cc(e,t)}function O0(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Cc(e,t)}const Pp={disabled:!1},Ts=Mn.createContext(null);var cL=function(t){return t.scrollTop},oo="unmounted",bn="exited",Ln="entering",ri="entered",Rc="exiting",Wr=function(e){O0(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var s=i,x=s&&!s.isMounting?n.enter:n.appear,a;return o.appearStatus=null,n.in?x?(a=bn,o.appearStatus=Ln):a=ri:n.unmountOnExit||n.mountOnEnter?a=oo:a=bn,o.state={status:a},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===oo?{status:bn}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Ln&&s!==ri&&(o=Ln):(s===Ln||s===ri)&&(o=Rc)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,o,s,x;return o=s=x=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,x=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:x}},r.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Ln){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:_a.findDOMNode(this);s&&cL(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===bn&&this.setState({status:oo})},r.performEnter=function(i){var o=this,s=this.props.enter,x=this.context?this.context.isMounting:i,a=this.props.nodeRef?[x]:[_a.findDOMNode(this),x],I=a[0],D=a[1],F=this.getTimeouts(),M=x?F.appear:F.enter;if(!i&&!s||Pp.disabled){this.safeSetState({status:ri},function(){o.props.onEntered(I)});return}this.props.onEnter(I,D),this.safeSetState({status:Ln},function(){o.props.onEntering(I,D),o.onTransitionEnd(M,function(){o.safeSetState({status:ri},function(){o.props.onEntered(I,D)})})})},r.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),x=this.props.nodeRef?void 0:_a.findDOMNode(this);if(!o||Pp.disabled){this.safeSetState({status:bn},function(){i.props.onExited(x)});return}this.props.onExit(x),this.safeSetState({status:Rc},function(){i.props.onExiting(x),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:bn},function(){i.props.onExited(x)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},r.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(x){s&&(s=!1,o.nextCallback=null,i(x))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},r.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:_a.findDOMNode(this),x=i==null&&!this.props.addEndListener;if(!s||x){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],I=a[0],D=a[1];this.props.addEndListener(I,D)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===oo)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var x=he(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Y(Ts.Provider,{value:null,children:typeof s=="function"?s(i,x):Mn.cloneElement(Mn.Children.only(s),x)})},t}(Mn.Component);Wr.contextType=Ts;Wr.propTypes={};function ti(){}Wr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ti,onEntering:ti,onEntered:ti,onExit:ti,onExiting:ti,onExited:ti};Wr.UNMOUNTED=oo;Wr.EXITED=bn;Wr.ENTERING=Ln;Wr.ENTERED=ri;Wr.EXITING=Rc;const M0=Wr;function dL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nf(e,t){var r=function(o){return t&&H.exports.isValidElement(o)?t(o):o},n=Object.create(null);return e&&H.exports.Children.map(e,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function fL(e,t){e=e||{},t=t||{};function r(D){return D in t?t[D]:e[D]}var n=Object.create(null),i=[];for(var o in e)o in t?i.length&&(n[o]=i,i=[]):i.push(o);var s,x={};for(var a in t){if(n[a])for(s=0;s<n[a].length;s++){var I=n[a][s];x[n[a][s]]=r(I)}x[a]=r(a)}for(s=0;s<i.length;s++)x[i[s]]=r(i[s]);return x}function On(e,t,r){return r[t]!=null?r[t]:e.props[t]}function hL(e,t){return nf(e.children,function(r){return H.exports.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:On(r,"appear",e),enter:On(r,"enter",e),exit:On(r,"exit",e)})})}function pL(e,t,r){var n=nf(e.children),i=fL(t,n);return Object.keys(i).forEach(function(o){var s=i[o];if(!!H.exports.isValidElement(s)){var x=o in t,a=o in n,I=t[o],D=H.exports.isValidElement(I)&&!I.props.in;a&&(!x||D)?i[o]=H.exports.cloneElement(s,{onExited:r.bind(null,s),in:!0,exit:On(s,"exit",e),enter:On(s,"enter",e)}):!a&&x&&!D?i[o]=H.exports.cloneElement(s,{in:!1}):a&&x&&H.exports.isValidElement(I)&&(i[o]=H.exports.cloneElement(s,{onExited:r.bind(null,s),in:I.props.in,exit:On(s,"exit",e),enter:On(s,"enter",e)}))}}),i}var vL=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},gL={component:"div",childFactory:function(t){return t}},of=function(e){O0(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var s=o.handleExited.bind(dL(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var s=o.children,x=o.handleExited,a=o.firstRender;return{children:a?hL(i,x):pL(i,s,x),firstRender:!1}},r.handleExited=function(i,o){var s=nf(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(x){var a=G({},x.children);return delete a[i.key],{children:a}}))},r.render=function(){var i=this.props,o=i.component,s=i.childFactory,x=he(i,["component","childFactory"]),a=this.state.contextValue,I=vL(this.state.children).map(s);return delete x.appear,delete x.enter,delete x.exit,o===null?Y(Ts.Provider,{value:a,children:I}):Y(Ts.Provider,{value:a,children:Y(o,{...x,children:I})})},t}(Mn.Component);of.propTypes={};of.defaultProps=gL;const mL=of,k0=e=>e.scrollTop;function Ss(e,t){var r,n;const{timeout:i,easing:o,style:s={}}=e;return{duration:(r=s.transitionDuration)!=null?r:typeof i=="number"?i:i[t.mode]||0,easing:(n=s.transitionTimingFunction)!=null?n:typeof o=="object"?o[t.mode]:o,delay:s.transitionDelay}}const yL=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function bc(e){return`scale(${e}, ${e**2})`}const EL={entering:{opacity:1,transform:bc(1)},entered:{opacity:1,transform:"none"}},cu=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),w0=H.exports.forwardRef(function(t,r){const{addEndListener:n,appear:i=!0,children:o,easing:s,in:x,onEnter:a,onEntered:I,onEntering:D,onExit:F,onExited:M,onExiting:B,style:A,timeout:_="auto",TransitionComponent:w=M0}=t,h=he(t,yL),v=H.exports.useRef(),m=H.exports.useRef(),L=al(),P=H.exports.useRef(null),c=gt(P,o.ref,r),l=S=>O=>{if(S){const C=P.current;O===void 0?S(C):S(C,O)}},u=l(D),E=l((S,O)=>{k0(S);const{duration:C,delay:b,easing:T}=Ss({style:A,timeout:_,easing:s},{mode:"enter"});let g;_==="auto"?(g=L.transitions.getAutoHeightDuration(S.clientHeight),m.current=g):g=C,S.style.transition=[L.transitions.create("opacity",{duration:g,delay:b}),L.transitions.create("transform",{duration:cu?g:g*.666,delay:b,easing:T})].join(","),a&&a(S,O)}),y=l(I),d=l(B),f=l(S=>{const{duration:O,delay:C,easing:b}=Ss({style:A,timeout:_,easing:s},{mode:"exit"});let T;_==="auto"?(T=L.transitions.getAutoHeightDuration(S.clientHeight),m.current=T):T=O,S.style.transition=[L.transitions.create("opacity",{duration:T,delay:C}),L.transitions.create("transform",{duration:cu?T:T*.666,delay:cu?C:C||T*.333,easing:b})].join(","),S.style.opacity=0,S.style.transform=bc(.75),F&&F(S)}),p=l(M),R=S=>{_==="auto"&&(v.current=setTimeout(S,m.current||0)),n&&n(P.current,S)};return H.exports.useEffect(()=>()=>{clearTimeout(v.current)},[]),Y(w,G({appear:i,in:x,nodeRef:P,onEnter:E,onEntered:y,onEntering:u,onExit:f,onExited:p,onExiting:d,addEndListener:R,timeout:_==="auto"?null:_},h,{children:(S,O)=>H.exports.cloneElement(o,G({style:G({opacity:0,transform:bc(.75),visibility:S==="exited"&&!x?"hidden":void 0},EL[S],A,o.props.style),ref:c},O))}))});w0.muiSupportAuto=!0;const xL=w0,TL=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],SL={entering:{opacity:1},entered:{opacity:1}},_L=H.exports.forwardRef(function(t,r){const n=al(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:x,easing:a,in:I,onEnter:D,onEntered:F,onEntering:M,onExit:B,onExited:A,onExiting:_,style:w,timeout:h=i,TransitionComponent:v=M0}=t,m=he(t,TL),L=H.exports.useRef(null),P=gt(L,x.ref,r),c=R=>S=>{if(R){const O=L.current;S===void 0?R(O):R(O,S)}},l=c(M),u=c((R,S)=>{k0(R);const O=Ss({style:w,timeout:h,easing:a},{mode:"enter"});R.style.webkitTransition=n.transitions.create("opacity",O),R.style.transition=n.transitions.create("opacity",O),D&&D(R,S)}),E=c(F),y=c(_),d=c(R=>{const S=Ss({style:w,timeout:h,easing:a},{mode:"exit"});R.style.webkitTransition=n.transitions.create("opacity",S),R.style.transition=n.transitions.create("opacity",S),B&&B(R)}),f=c(A);return Y(v,G({appear:s,in:I,nodeRef:L,onEnter:u,onEntered:E,onEntering:l,onExit:d,onExited:f,onExiting:y,addEndListener:R=>{o&&o(L.current,R)},timeout:h},m,{children:(R,S)=>H.exports.cloneElement(x,G({style:G({opacity:0,visibility:R==="exited"&&!I?"hidden":void 0},SL[R],w,x.props.style),ref:P},S))}))}),F0=_L;function CL(e){return Te("MuiBackdrop",e)}Ee("MuiBackdrop",["root","invisible"]);const RL=["children","component","components","componentsProps","className","invisible","open","slotProps","slots","transitionDuration","TransitionComponent"],bL=e=>{const{classes:t,invisible:r}=e;return _e({root:["root",r&&"invisible"]},CL,t)},LL=le("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})(({ownerState:e})=>G({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),PL=H.exports.forwardRef(function(t,r){var n,i,o;const s=be({props:t,name:"MuiBackdrop"}),{children:x,component:a="div",components:I={},componentsProps:D={},className:F,invisible:M=!1,open:B,slotProps:A={},slots:_={},transitionDuration:w,TransitionComponent:h=F0}=s,v=he(s,RL),m=G({},s,{component:a,invisible:M}),L=bL(m),P=(n=A.root)!=null?n:D.root;return Y(h,G({in:B,timeout:w},v,{children:Y(LL,G({"aria-hidden":!0},P,{as:(i=(o=_.root)!=null?o:I.Root)!=null?i:a,className:ve(L.root,F,P==null?void 0:P.className),ownerState:G({},m,P==null?void 0:P.ownerState),classes:L,ref:r,children:x}))}))}),N0=PL,DL=["BackdropComponent","BackdropProps","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","slotProps","slots","theme"],IL=e=>e.classes,AL=le("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})(({theme:e,ownerState:t})=>G({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),OL=le(N0,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),ML=H.exports.forwardRef(function(t,r){var n,i,o,s,x,a;const I=be({name:"MuiModal",props:t}),{BackdropComponent:D=OL,BackdropProps:F,closeAfterTransition:M=!1,children:B,component:A,components:_={},componentsProps:w={},disableAutoFocus:h=!1,disableEnforceFocus:v=!1,disableEscapeKeyDown:m=!1,disablePortal:L=!1,disableRestoreFocus:P=!1,disableScrollLock:c=!1,hideBackdrop:l=!1,keepMounted:u=!1,slotProps:E,slots:y,theme:d}=I,f=he(I,DL),[p,R]=H.exports.useState(!0),S={closeAfterTransition:M,disableAutoFocus:h,disableEnforceFocus:v,disableEscapeKeyDown:m,disablePortal:L,disableRestoreFocus:P,disableScrollLock:c,hideBackdrop:l,keepMounted:u},O=G({},I,S,{exited:p}),C=IL(O),b=(n=(i=y==null?void 0:y.root)!=null?i:_.Root)!=null?n:AL,T=(o=(s=y==null?void 0:y.backdrop)!=null?s:_.Backdrop)!=null?o:D,g=(x=E==null?void 0:E.root)!=null?x:w.root,k=(a=E==null?void 0:E.backdrop)!=null?a:w.backdrop;return Y(OC,G({slots:{root:b,backdrop:T},slotProps:{root:()=>G({},mc(g,O),!xs(b)&&{as:A,theme:d}),backdrop:()=>G({},F,mc(k,O))},onTransitionEnter:()=>R(!1),onTransitionExited:()=>R(!0),ref:r},f,{classes:C},S,{children:B}))}),B0=ML;function kL(e){return Te("MuiPopover",e)}Ee("MuiPopover",["root","paper"]);const wL=["onEntering"],FL=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function Dp(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.height/2:t==="bottom"&&(r=e.height),r}function Ip(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.width/2:t==="right"&&(r=e.width),r}function Ap(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function du(e){return typeof e=="function"?e():e}const NL=e=>{const{classes:t}=e;return _e({root:["root"],paper:["paper"]},kL,t)},BL=le(B0,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),UL=le(ta,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),$L=H.exports.forwardRef(function(t,r){const n=be({props:t,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:x,anchorReference:a="anchorEl",children:I,className:D,container:F,elevation:M=8,marginThreshold:B=16,open:A,PaperProps:_={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:h=xL,transitionDuration:v="auto",TransitionProps:{onEntering:m}={}}=n,L=he(n.TransitionProps,wL),P=he(n,FL),c=H.exports.useRef(),l=gt(c,_.ref),u=G({},n,{anchorOrigin:s,anchorReference:a,elevation:M,marginThreshold:B,PaperProps:_,transformOrigin:w,TransitionComponent:h,transitionDuration:v,TransitionProps:L}),E=NL(u),y=H.exports.useCallback(()=>{if(a==="anchorPosition")return x;const g=du(o),N=(g&&g.nodeType===1?g:kt(c.current).body).getBoundingClientRect();return{top:N.top+Dp(N,s.vertical),left:N.left+Ip(N,s.horizontal)}},[o,s.horizontal,s.vertical,x,a]),d=H.exports.useCallback(g=>({vertical:Dp(g,w.vertical),horizontal:Ip(g,w.horizontal)}),[w.horizontal,w.vertical]),f=H.exports.useCallback(g=>{const k={width:g.offsetWidth,height:g.offsetHeight},N=d(k);if(a==="none")return{top:null,left:null,transformOrigin:Ap(N)};const U=y();let W=U.top-N.vertical,$=U.left-N.horizontal;const K=W+k.height,z=$+k.width,j=dn(du(o)),V=j.innerHeight-B,X=j.innerWidth-B;if(W<B){const Q=W-B;W-=Q,N.vertical+=Q}else if(K>V){const Q=K-V;W-=Q,N.vertical+=Q}if($<B){const Q=$-B;$-=Q,N.horizontal+=Q}else if(z>X){const Q=z-X;$-=Q,N.horizontal+=Q}return{top:`${Math.round(W)}px`,left:`${Math.round($)}px`,transformOrigin:Ap(N)}},[o,a,y,d,B]),[p,R]=H.exports.useState(A),S=H.exports.useCallback(()=>{const g=c.current;if(!g)return;const k=f(g);k.top!==null&&(g.style.top=k.top),k.left!==null&&(g.style.left=k.left),g.style.transformOrigin=k.transformOrigin,R(!0)},[f]),O=(g,k)=>{m&&m(g,k),S()},C=()=>{R(!1)};H.exports.useEffect(()=>{A&&S()}),H.exports.useImperativeHandle(i,()=>A?{updatePosition:()=>{S()}}:null,[A,S]),H.exports.useEffect(()=>{if(!A)return;const g=Md(()=>{S()}),k=dn(o);return k.addEventListener("resize",g),()=>{g.clear(),k.removeEventListener("resize",g)}},[o,A,S]);let b=v;v==="auto"&&!h.muiSupportAuto&&(b=void 0);const T=F||(o?kt(du(o)).body:void 0);return Y(BL,G({BackdropProps:{invisible:!0},className:ve(E.root,D),container:T,open:A,ref:r,ownerState:u},P,{children:Y(h,G({appear:!0,in:A,onEntering:O,onExited:C,timeout:b},L,{children:Y(UL,G({elevation:M},_,{ref:l,className:ve(E.paper,_.className)},p?void 0:{style:G({},_.style,{opacity:0})},{ownerState:u,children:I}))}))}))}),WL=$L;function KL(e){return Te("MuiMenu",e)}Ee("MuiMenu",["root","paper","list"]);const zL=["onEntering"],HL=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],jL={vertical:"top",horizontal:"right"},GL={vertical:"top",horizontal:"left"},VL=e=>{const{classes:t}=e;return _e({root:["root"],paper:["paper"],list:["list"]},KL,t)},YL=le(WL,{shouldForwardProp:e=>pr(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),XL=le(ta,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),QL=le(uL,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),JL=H.exports.forwardRef(function(t,r){const n=be({props:t,name:"MuiMenu"}),{autoFocus:i=!0,children:o,disableAutoFocusItem:s=!1,MenuListProps:x={},onClose:a,open:I,PaperProps:D={},PopoverClasses:F,transitionDuration:M="auto",TransitionProps:{onEntering:B}={},variant:A="selectedMenu"}=n,_=he(n.TransitionProps,zL),w=he(n,HL),h=al(),v=h.direction==="rtl",m=G({},n,{autoFocus:i,disableAutoFocusItem:s,MenuListProps:x,onEntering:B,PaperProps:D,transitionDuration:M,TransitionProps:_,variant:A}),L=VL(m),P=i&&!s&&I,c=H.exports.useRef(null),l=(y,d)=>{c.current&&c.current.adjustStyleForScrollbar(y,h),B&&B(y,d)},u=y=>{y.key==="Tab"&&(y.preventDefault(),a&&a(y,"tabKeyDown"))};let E=-1;return H.exports.Children.map(o,(y,d)=>{!H.exports.isValidElement(y)||y.props.disabled||(A==="selectedMenu"&&y.props.selected||E===-1)&&(E=d)}),Y(YL,G({classes:F,onClose:a,anchorOrigin:{vertical:"bottom",horizontal:v?"right":"left"},transformOrigin:v?jL:GL,PaperProps:G({component:XL},D,{classes:G({},D.classes,{root:L.paper})}),className:L.root,open:I,ref:r,transitionDuration:M,TransitionProps:G({onEntering:l},_),ownerState:m},w,{children:Y(QL,G({onKeyDown:u,actions:c,autoFocus:i&&(E===-1||s),autoFocusItem:P,variant:A},x,{className:ve(L.list,x.className),children:o}))}))}),ZL=JL;function qL(e){return Te("MuiNativeSelect",e)}const eP=Ee("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),af=eP,tP=["className","disabled","IconComponent","inputRef","variant"],rP=e=>{const{classes:t,variant:r,disabled:n,multiple:i,open:o}=e,s={select:["select",r,n&&"disabled",i&&"multiple"],icon:["icon",`icon${re(r)}`,o&&"iconOpen",n&&"disabled"]};return _e(s,qL,t)},U0=({ownerState:e,theme:t})=>G({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":G({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${af.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),nP=le("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:pr,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.select,t[r.variant],{[`&.${af.multiple}`]:t.multiple}]}})(U0),$0=({ownerState:e,theme:t})=>G({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${af.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),iP=le("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${re(r.variant)}`],r.open&&t.iconOpen]}})($0),oP=H.exports.forwardRef(function(t,r){const{className:n,disabled:i,IconComponent:o,inputRef:s,variant:x="standard"}=t,a=he(t,tP),I=G({},t,{disabled:i,variant:x}),D=rP(I);return ye(H.exports.Fragment,{children:[Y(nP,G({ownerState:I,className:ve(D.select,n),disabled:i,ref:s||r},a)),t.multiple?null:Y(iP,{as:o,ownerState:I,className:D.icon})]})}),aP=oP;function sP(e){return Te("MuiSelect",e)}const lP=Ee("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),La=lP;var Op;const uP=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],cP=le("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`&.${La.select}`]:t.select},{[`&.${La.select}`]:t[r.variant]},{[`&.${La.multiple}`]:t.multiple}]}})(U0,{[`&.${La.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),dP=le("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${re(r.variant)}`],r.open&&t.iconOpen]}})($0),fP=le("input",{shouldForwardProp:e=>iC(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Mp(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function hP(e){return e==null||typeof e=="string"&&!e.trim()}const pP=e=>{const{classes:t,variant:r,disabled:n,multiple:i,open:o}=e,s={select:["select",r,n&&"disabled",i&&"multiple"],icon:["icon",`icon${re(r)}`,o&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return _e(s,sP,t)},vP=H.exports.forwardRef(function(t,r){const{"aria-describedby":n,"aria-label":i,autoFocus:o,autoWidth:s,children:x,className:a,defaultOpen:I,defaultValue:D,disabled:F,displayEmpty:M,IconComponent:B,inputRef:A,labelId:_,MenuProps:w={},multiple:h,name:v,onBlur:m,onChange:L,onClose:P,onFocus:c,onOpen:l,open:u,readOnly:E,renderValue:y,SelectDisplayProps:d={},tabIndex:f,value:p,variant:R="standard"}=t,S=he(t,uP),[O,C]=Es({controlled:p,default:D,name:"Select"}),[b,T]=Es({controlled:u,default:I,name:"Select"}),g=H.exports.useRef(null),k=H.exports.useRef(null),[N,U]=H.exports.useState(null),{current:W}=H.exports.useRef(u!=null),[$,K]=H.exports.useState(),z=gt(r,A),j=H.exports.useCallback(q=>{k.current=q,q&&U(q)},[]);H.exports.useImperativeHandle(z,()=>({focus:()=>{k.current.focus()},node:g.current,value:O}),[O]),H.exports.useEffect(()=>{I&&b&&N&&!W&&(K(s?null:N.clientWidth),k.current.focus())},[N,s]),H.exports.useEffect(()=>{o&&k.current.focus()},[o]),H.exports.useEffect(()=>{if(!_)return;const q=kt(k.current).getElementById(_);if(q){const ae=()=>{getSelection().isCollapsed&&k.current.focus()};return q.addEventListener("click",ae),()=>{q.removeEventListener("click",ae)}}},[_]);const V=(q,ae)=>{q?l&&l(ae):P&&P(ae),W||(K(s?null:N.clientWidth),T(q))},X=q=>{q.button===0&&(q.preventDefault(),k.current.focus(),V(!0,q))},Q=q=>{V(!1,q)},J=H.exports.Children.toArray(x),te=q=>{const ae=J.map(Pe=>Pe.props.value).indexOf(q.target.value);if(ae===-1)return;const Ce=J[ae];C(Ce.props.value),L&&L(q,Ce)},ne=q=>ae=>{let Ce;if(!!ae.currentTarget.hasAttribute("tabindex")){if(h){Ce=Array.isArray(O)?O.slice():[];const Pe=O.indexOf(q.props.value);Pe===-1?Ce.push(q.props.value):Ce.splice(Pe,1)}else Ce=q.props.value;if(q.props.onClick&&q.props.onClick(ae),O!==Ce&&(C(Ce),L)){const Pe=ae.nativeEvent||ae,Je=new Pe.constructor(Pe.type,Pe);Object.defineProperty(Je,"target",{writable:!0,value:{value:Ce,name:v}}),L(Je,q)}h||V(!1,ae)}},se=q=>{E||[" ","ArrowUp","ArrowDown","Enter"].indexOf(q.key)!==-1&&(q.preventDefault(),V(!0,q))},oe=N!==null&&b,pe=q=>{!oe&&m&&(Object.defineProperty(q,"target",{writable:!0,value:{value:O,name:v}}),m(q))};delete S["aria-invalid"];let ue,ie;const ce=[];let ge=!1;(qd({value:O})||M)&&(y?ue=y(O):ge=!0);const me=J.map((q,ae,Ce)=>{if(!H.exports.isValidElement(q))return null;let Pe;if(h){if(!Array.isArray(O))throw new Error(cn(2));Pe=O.some(je=>Mp(je,q.props.value)),Pe&&ge&&ce.push(q.props.children)}else Pe=Mp(O,q.props.value),Pe&&ge&&(ie=q.props.children);if(q.props.value===void 0)return H.exports.cloneElement(q,{"aria-readonly":!0,role:"option"});const Je=()=>{if(O)return Pe;const je=Ce.find(St=>St.props.value!==void 0&&St.props.disabled!==!0);return q===je?!0:Pe};return H.exports.cloneElement(q,{"aria-selected":Pe?"true":"false",onClick:ne(q),onKeyUp:je=>{je.key===" "&&je.preventDefault(),q.props.onKeyUp&&q.props.onKeyUp(je)},role:"option",selected:Ce[0].props.value===void 0||Ce[0].props.disabled===!0?Je():Pe,value:void 0,"data-value":q.props.value})});ge&&(h?ce.length===0?ue=null:ue=ce.reduce((q,ae,Ce)=>(q.push(ae),Ce<ce.length-1&&q.push(", "),q),[]):ue=ie);let xe=$;!s&&W&&N&&(xe=N.clientWidth);let Me;typeof f<"u"?Me=f:Me=F?null:0;const Se=d.id||(v?`mui-component-select-${v}`:void 0),Ue=G({},t,{variant:R,value:O,open:oe}),Ne=pP(Ue);return ye(H.exports.Fragment,{children:[Y(cP,G({ref:j,tabIndex:Me,role:"button","aria-disabled":F?"true":void 0,"aria-expanded":oe?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[_,Se].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:se,onMouseDown:F||E?null:X,onBlur:pe,onFocus:c},d,{ownerState:Ue,className:ve(d.className,Ne.select,a),id:Se,children:hP(ue)?Op||(Op=Y("span",{className:"notranslate",children:"\u200B"})):ue})),Y(fP,G({value:Array.isArray(O)?O.join(","):O,name:v,ref:g,"aria-hidden":!0,onChange:te,tabIndex:-1,disabled:F,className:Ne.nativeInput,autoFocus:o,ownerState:Ue},S)),Y(dP,{as:B,className:Ne.icon,ownerState:Ue}),Y(ZL,G({id:`menu-${v||""}`,anchorEl:N,open:oe,onClose:Q,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:G({"aria-labelledby":_,role:"listbox",disableListWrap:!0},w.MenuListProps),PaperProps:G({},w.PaperProps,{style:G({minWidth:xe},w.PaperProps!=null?w.PaperProps.style:null)}),children:me}))]})}),gP=vP;function mP(e){return Te("MuiSvgIcon",e)}Ee("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const yP=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],EP=e=>{const{color:t,fontSize:r,classes:n}=e,i={root:["root",t!=="inherit"&&`color${re(t)}`,`fontSize${re(r)}`]};return _e(i,mP,n)},xP=le("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${re(r.color)}`],t[`fontSize${re(r.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var r,n,i,o,s,x,a,I,D,F,M,B,A,_,w,h,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(r=e.transitions)==null||(n=r.create)==null?void 0:n.call(r,"fill",{duration:(i=e.transitions)==null||(o=i.duration)==null?void 0:o.shorter}),fontSize:{inherit:"inherit",small:((s=e.typography)==null||(x=s.pxToRem)==null?void 0:x.call(s,20))||"1.25rem",medium:((a=e.typography)==null||(I=a.pxToRem)==null?void 0:I.call(a,24))||"1.5rem",large:((D=e.typography)==null||(F=D.pxToRem)==null?void 0:F.call(D,35))||"2.1875rem"}[t.fontSize],color:(M=(B=(e.vars||e).palette)==null||(A=B[t.color])==null?void 0:A.main)!=null?M:{action:(_=(e.vars||e).palette)==null||(w=_.action)==null?void 0:w.active,disabled:(h=(e.vars||e).palette)==null||(v=h.action)==null?void 0:v.disabled,inherit:void 0}[t.color]}}),W0=H.exports.forwardRef(function(t,r){const n=be({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:x="svg",fontSize:a="medium",htmlColor:I,inheritViewBox:D=!1,titleAccess:F,viewBox:M="0 0 24 24"}=n,B=he(n,yP),A=G({},n,{color:s,component:x,fontSize:a,instanceFontSize:t.fontSize,inheritViewBox:D,viewBox:M}),_={};D||(_.viewBox=M);const w=EP(A);return ye(xP,G({as:x,className:ve(w.root,o),focusable:"false",color:I,"aria-hidden":F?void 0:!0,role:F?"img":void 0,ref:r},_,B,{ownerState:A,children:[i,F?Y("title",{children:F}):null]}))});W0.muiName="SvgIcon";const kp=W0;function Gn(e,t){function r(n,i){return Y(kp,G({"data-testid":`${t}Icon`,ref:i},n,{children:e}))}return r.muiName=kp.muiName,H.exports.memo(H.exports.forwardRef(r))}const TP=Gn(Y("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");var wp,Fp;const SP=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],_P=e=>{const{classes:t}=e;return t},sf={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>pr(e)&&e!=="variant",slot:"Root"},CP=le(R0,sf)(""),RP=le(D0,sf)(""),bP=le(L0,sf)(""),K0=H.exports.forwardRef(function(t,r){const n=be({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:o,classes:s={},className:x,defaultOpen:a=!1,displayEmpty:I=!1,IconComponent:D=TP,id:F,input:M,inputProps:B,label:A,labelId:_,MenuProps:w,multiple:h=!1,native:v=!1,onClose:m,onOpen:L,open:P,renderValue:c,SelectDisplayProps:l,variant:u="outlined"}=n,E=he(n,SP),y=v?aP:gP,d=jn(),p=Ni({props:n,muiFormControl:d,states:["variant"]}).variant||u,R=M||{standard:wp||(wp=Y(CP,{})),outlined:Y(RP,{label:A}),filled:Fp||(Fp=Y(bP,{}))}[p],S=G({},n,{variant:p,classes:s}),O=_P(S),C=gt(r,R.ref);return Y(H.exports.Fragment,{children:H.exports.cloneElement(R,G({inputComponent:y,inputProps:G({children:o,IconComponent:D,variant:p,type:void 0,multiple:h},v?{id:F}:{autoWidth:i,defaultOpen:a,displayEmpty:I,labelId:_,MenuProps:w,onClose:m,onOpen:L,open:P,renderValue:c,SelectDisplayProps:G({id:F},l)},B,{classes:B?er(O,B.classes):O},M?M.props.inputProps:{})},h&&v&&p==="outlined"?{notched:!0}:{},{ref:C,className:ve(R.props.className,x)},!M&&{variant:p},E))})});K0.muiName="Select";const Lc=K0;function LP(e){return Te("MuiTextField",e)}Ee("MuiTextField",["root"]);const PP=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],DP={standard:R0,filled:L0,outlined:D0},IP=e=>{const{classes:t}=e;return _e({root:["root"]},LP,t)},AP=le(Qe,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),OP=H.exports.forwardRef(function(t,r){const n=be({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:x,color:a="primary",defaultValue:I,disabled:D=!1,error:F=!1,FormHelperTextProps:M,fullWidth:B=!1,helperText:A,id:_,InputLabelProps:w,inputProps:h,InputProps:v,inputRef:m,label:L,maxRows:P,minRows:c,multiline:l=!1,name:u,onBlur:E,onChange:y,onFocus:d,placeholder:f,required:p=!1,rows:R,select:S=!1,SelectProps:O,type:C,value:b,variant:T="outlined"}=n,g=he(n,PP),k=G({},n,{autoFocus:o,color:a,disabled:D,error:F,fullWidth:B,multiline:l,required:p,select:S,variant:T}),N=IP(k),U={};T==="outlined"&&(w&&typeof w.shrink<"u"&&(U.notched=w.shrink),U.label=L),S&&((!O||!O.native)&&(U.id=void 0),U["aria-describedby"]=void 0);const W=el(_),$=A&&W?`${W}-helper-text`:void 0,K=L&&W?`${W}-label`:void 0,z=DP[T],j=Y(z,G({"aria-describedby":$,autoComplete:i,autoFocus:o,defaultValue:I,fullWidth:B,multiline:l,name:u,rows:R,maxRows:P,minRows:c,type:C,value:b,id:W,inputRef:m,onBlur:E,onChange:y,onFocus:d,placeholder:f,inputProps:h},U,v));return ye(AP,G({className:ve(N.root,x),disabled:D,error:F,fullWidth:B,ref:r,required:p,color:a,variant:T,ownerState:k},g,{children:[L!=null&&L!==""&&Y(Sc,G({htmlFor:W,id:K},w,{children:L})),S?Y(Lc,G({"aria-describedby":$,id:W,labelId:K,value:b,input:j},O,{children:s})):j,A&&Y(Qb,G({id:$},M,{children:A}))]}))}),kr=OP;function MP(e){const{className:t,classes:r,pulsate:n=!1,rippleX:i,rippleY:o,rippleSize:s,in:x,onExited:a,timeout:I}=e,[D,F]=H.exports.useState(!1),M=ve(t,r.ripple,r.rippleVisible,n&&r.ripplePulsate),B={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},A=ve(r.child,D&&r.childLeaving,n&&r.childPulsate);return!x&&!D&&F(!0),H.exports.useEffect(()=>{if(!x&&a!=null){const _=setTimeout(a,I);return()=>{clearTimeout(_)}}},[a,x,I]),Y("span",{className:M,style:B,children:Y("span",{className:A})})}const kP=Ee("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Xt=kP,wP=["center","classes","className"];let Cl=e=>e,Np,Bp,Up,$p;const Pc=550,FP=80,NP=Jo(Np||(Np=Cl`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),BP=Jo(Bp||(Bp=Cl`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),UP=Jo(Up||(Up=Cl`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),$P=le("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),WP=le(MP,{name:"MuiTouchRipple",slot:"Ripple"})($p||($p=Cl`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Xt.rippleVisible,NP,Pc,({theme:e})=>e.transitions.easing.easeInOut,Xt.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,Xt.child,Xt.childLeaving,BP,Pc,({theme:e})=>e.transitions.easing.easeInOut,Xt.childPulsate,UP,({theme:e})=>e.transitions.easing.easeInOut),KP=H.exports.forwardRef(function(t,r){const n=be({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=n,x=he(n,wP),[a,I]=H.exports.useState([]),D=H.exports.useRef(0),F=H.exports.useRef(null);H.exports.useEffect(()=>{F.current&&(F.current(),F.current=null)},[a]);const M=H.exports.useRef(!1),B=H.exports.useRef(null),A=H.exports.useRef(null),_=H.exports.useRef(null);H.exports.useEffect(()=>()=>{clearTimeout(B.current)},[]);const w=H.exports.useCallback(L=>{const{pulsate:P,rippleX:c,rippleY:l,rippleSize:u,cb:E}=L;I(y=>[...y,Y(WP,{classes:{ripple:ve(o.ripple,Xt.ripple),rippleVisible:ve(o.rippleVisible,Xt.rippleVisible),ripplePulsate:ve(o.ripplePulsate,Xt.ripplePulsate),child:ve(o.child,Xt.child),childLeaving:ve(o.childLeaving,Xt.childLeaving),childPulsate:ve(o.childPulsate,Xt.childPulsate)},timeout:Pc,pulsate:P,rippleX:c,rippleY:l,rippleSize:u},D.current)]),D.current+=1,F.current=E},[o]),h=H.exports.useCallback((L={},P={},c=()=>{})=>{const{pulsate:l=!1,center:u=i||P.pulsate,fakeElement:E=!1}=P;if((L==null?void 0:L.type)==="mousedown"&&M.current){M.current=!1;return}(L==null?void 0:L.type)==="touchstart"&&(M.current=!0);const y=E?null:_.current,d=y?y.getBoundingClientRect():{width:0,height:0,left:0,top:0};let f,p,R;if(u||L===void 0||L.clientX===0&&L.clientY===0||!L.clientX&&!L.touches)f=Math.round(d.width/2),p=Math.round(d.height/2);else{const{clientX:S,clientY:O}=L.touches&&L.touches.length>0?L.touches[0]:L;f=Math.round(S-d.left),p=Math.round(O-d.top)}if(u)R=Math.sqrt((2*d.width**2+d.height**2)/3),R%2===0&&(R+=1);else{const S=Math.max(Math.abs((y?y.clientWidth:0)-f),f)*2+2,O=Math.max(Math.abs((y?y.clientHeight:0)-p),p)*2+2;R=Math.sqrt(S**2+O**2)}L!=null&&L.touches?A.current===null&&(A.current=()=>{w({pulsate:l,rippleX:f,rippleY:p,rippleSize:R,cb:c})},B.current=setTimeout(()=>{A.current&&(A.current(),A.current=null)},FP)):w({pulsate:l,rippleX:f,rippleY:p,rippleSize:R,cb:c})},[i,w]),v=H.exports.useCallback(()=>{h({},{pulsate:!0})},[h]),m=H.exports.useCallback((L,P)=>{if(clearTimeout(B.current),(L==null?void 0:L.type)==="touchend"&&A.current){A.current(),A.current=null,B.current=setTimeout(()=>{m(L,P)});return}A.current=null,I(c=>c.length>0?c.slice(1):c),F.current=P},[]);return H.exports.useImperativeHandle(r,()=>({pulsate:v,start:h,stop:m}),[v,h,m]),Y($P,G({className:ve(Xt.root,o.root,s),ref:_},x,{children:Y(mL,{component:null,exit:!0,children:a})}))}),zP=KP;function HP(e){return Te("MuiButtonBase",e)}const jP=Ee("MuiButtonBase",["root","disabled","focusVisible"]),GP=jP,VP=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],YP=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:i}=e,s=_e({root:["root",t&&"disabled",r&&"focusVisible"]},HP,i);return r&&n&&(s.root+=` ${n}`),s},XP=le("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${GP.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),QP=H.exports.forwardRef(function(t,r){const n=be({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:x,component:a="button",disabled:I=!1,disableRipple:D=!1,disableTouchRipple:F=!1,focusRipple:M=!1,LinkComponent:B="a",onBlur:A,onClick:_,onContextMenu:w,onDragLeave:h,onFocus:v,onFocusVisible:m,onKeyDown:L,onKeyUp:P,onMouseDown:c,onMouseLeave:l,onMouseUp:u,onTouchEnd:E,onTouchMove:y,onTouchStart:d,tabIndex:f=0,TouchRippleProps:p,touchRippleRef:R,type:S}=n,O=he(n,VP),C=H.exports.useRef(null),b=H.exports.useRef(null),T=gt(b,R),{isFocusVisibleRef:g,onFocus:k,onBlur:N,ref:U}=Nm(),[W,$]=H.exports.useState(!1);I&&W&&$(!1),H.exports.useImperativeHandle(i,()=>({focusVisible:()=>{$(!0),C.current.focus()}}),[]);const[K,z]=H.exports.useState(!1);H.exports.useEffect(()=>{z(!0)},[]);const j=K&&!D&&!I;H.exports.useEffect(()=>{W&&M&&!D&&K&&b.current.pulsate()},[D,M,W,K]);function V(ae,Ce,Pe=F){return An(Je=>(Ce&&Ce(Je),!Pe&&b.current&&b.current[ae](Je),!0))}const X=V("start",c),Q=V("stop",w),J=V("stop",h),te=V("stop",u),ne=V("stop",ae=>{W&&ae.preventDefault(),l&&l(ae)}),se=V("start",d),oe=V("stop",E),pe=V("stop",y),ue=V("stop",ae=>{N(ae),g.current===!1&&$(!1),A&&A(ae)},!1),ie=An(ae=>{C.current||(C.current=ae.currentTarget),k(ae),g.current===!0&&($(!0),m&&m(ae)),v&&v(ae)}),ce=()=>{const ae=C.current;return a&&a!=="button"&&!(ae.tagName==="A"&&ae.href)},ge=H.exports.useRef(!1),me=An(ae=>{M&&!ge.current&&W&&b.current&&ae.key===" "&&(ge.current=!0,b.current.stop(ae,()=>{b.current.start(ae)})),ae.target===ae.currentTarget&&ce()&&ae.key===" "&&ae.preventDefault(),L&&L(ae),ae.target===ae.currentTarget&&ce()&&ae.key==="Enter"&&!I&&(ae.preventDefault(),_&&_(ae))}),xe=An(ae=>{M&&ae.key===" "&&b.current&&W&&!ae.defaultPrevented&&(ge.current=!1,b.current.stop(ae,()=>{b.current.pulsate(ae)})),P&&P(ae),_&&ae.target===ae.currentTarget&&ce()&&ae.key===" "&&!ae.defaultPrevented&&_(ae)});let Me=a;Me==="button"&&(O.href||O.to)&&(Me=B);const Se={};Me==="button"?(Se.type=S===void 0?"button":S,Se.disabled=I):(!O.href&&!O.to&&(Se.role="button"),I&&(Se["aria-disabled"]=I));const Ue=gt(r,U,C),Ne=G({},n,{centerRipple:o,component:a,disabled:I,disableRipple:D,disableTouchRipple:F,focusRipple:M,tabIndex:f,focusVisible:W}),q=YP(Ne);return ye(XP,G({as:Me,className:ve(q.root,x),ownerState:Ne,onBlur:ue,onClick:_,onContextMenu:Q,onFocus:ie,onKeyDown:me,onKeyUp:xe,onMouseDown:X,onMouseLeave:ne,onMouseUp:te,onDragLeave:J,onTouchEnd:oe,onTouchMove:pe,onTouchStart:se,ref:Ue,tabIndex:I?-1:f,type:S},Se,O,{children:[s,j?Y(zP,G({ref:T,center:o},p)):null]}))}),zo=QP,JP=Ee("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Wp=JP,ZP=Ee("MuiListItemIcon",["root","alignItemsFlexStart"]),Kp=ZP;function qP(e){return Te("MuiTypography",e)}Ee("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const eD=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],tD=e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:i,variant:o,classes:s}=e,x={root:["root",o,e.align!=="inherit"&&`align${re(t)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return _e(x,qP,s)},rD=le("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${re(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>G({margin:0},t.variant&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),zp={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},nD={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},iD=e=>nD[e]||e,oD=H.exports.forwardRef(function(t,r){const n=be({props:t,name:"MuiTypography"}),i=iD(n.color),o=t0(G({},n,{color:i})),{align:s="inherit",className:x,component:a,gutterBottom:I=!1,noWrap:D=!1,paragraph:F=!1,variant:M="body1",variantMapping:B=zp}=o,A=he(o,eD),_=G({},o,{align:s,color:i,className:x,component:a,gutterBottom:I,noWrap:D,paragraph:F,variant:M,variantMapping:B}),w=a||(F?"p":B[M]||zp[M])||"span",h=tD(_);return Y(rD,G({as:w,ref:r,ownerState:_,className:ve(h.root,x)},A))}),aD=oD,sD=Ee("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Hp=sD;function lD(e){return Te("MuiMenuItem",e)}const uD=Ee("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Ji=uD,cD=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],dD=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]},fD=e=>{const{disabled:t,dense:r,divider:n,disableGutters:i,selected:o,classes:s}=e,a=_e({root:["root",r&&"dense",t&&"disabled",!i&&"gutters",n&&"divider",o&&"selected"]},lD,s);return G({},s,a)},hD=le(zo,{shouldForwardProp:e=>pr(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:dD})(({theme:e,ownerState:t})=>G({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ji.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Be(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Ji.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Be(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Ji.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Be(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Be(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Ji.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Ji.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${Wp.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${Wp.inset}`]:{marginLeft:52},[`& .${Hp.root}`]:{marginTop:0,marginBottom:0},[`& .${Hp.inset}`]:{paddingLeft:36},[`& .${Kp.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&G({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${Kp.root} svg`]:{fontSize:"1.25rem"}}))),pD=H.exports.forwardRef(function(t,r){const n=be({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:x=!1,disableGutters:a=!1,focusVisibleClassName:I,role:D="menuitem",tabIndex:F,className:M}=n,B=he(n,cD),A=H.exports.useContext(_c),_=H.exports.useMemo(()=>({dense:s||A.dense||!1,disableGutters:a}),[A.dense,s,a]),w=H.exports.useRef(null);fn(()=>{i&&w.current&&w.current.focus()},[i]);const h=G({},n,{dense:_.dense,divider:x,disableGutters:a}),v=fD(n),m=gt(w,r);let L;return n.disabled||(L=F!==void 0?F:-1),Y(_c.Provider,{value:_,children:Y(hD,G({ref:m,role:D,tabIndex:L,component:o,focusVisibleClassName:ve(v.focusVisible,I),className:ve(v.root,M)},B,{ownerState:h,classes:v}))})}),jp=pD,vD={configure:e=>{console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join(`
`)),kd.configure(e)}},gD=Object.freeze(Object.defineProperty({__proto__:null,unstable_ClassNameGenerator:vD,capitalize:re,createChainedFunction:vc,createSvgIcon:Gn,debounce:Md,deprecatedPropType:QT,isMuiElement:Ha,ownerDocument:kt,ownerWindow:dn,requirePropFactory:JT,setRef:ys,unstable_useEnhancedEffect:fn,unstable_useId:el,unsupportedProp:eS,useControlled:Es,useEventCallback:An,useForkRef:gt,useIsFocusVisible:Nm},Symbol.toStringTag,{value:"Module"}));function mD(e){return Te("MuiButton",e)}const yD=Ee("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Pa=yD,ED=H.exports.createContext({}),xD=ED,TD=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],SD=e=>{const{color:t,disableElevation:r,fullWidth:n,size:i,variant:o,classes:s}=e,x={root:["root",o,`${o}${re(t)}`,`size${re(i)}`,`${o}Size${re(i)}`,t==="inherit"&&"colorInherit",r&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${re(i)}`],endIcon:["endIcon",`iconSize${re(i)}`]},a=_e(x,mD,s);return G({},s,a)},z0=e=>G({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),_D=le(zo,{shouldForwardProp:e=>pr(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${re(r.color)}`],t[`size${re(r.size)}`],t[`${r.variant}Size${re(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var r,n;return G({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":G({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Be(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Be(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Be(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:(e.vars||e).palette.grey.A100,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":G({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${Pa.focusVisible}`]:G({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${Pa.disabled}`]:G({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="outlined"&&t.color==="secondary"&&{border:`1px solid ${(e.vars||e).palette.action.disabled}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${Be(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(r=(n=e.palette).getContrastText)==null?void 0:r.call(n,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Pa.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Pa.disabled}`]:{boxShadow:"none"}}),CD=le("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,t[`iconSize${re(r.size)}`]]}})(({ownerState:e})=>G({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},z0(e))),RD=le("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,t[`iconSize${re(r.size)}`]]}})(({ownerState:e})=>G({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},z0(e))),bD=H.exports.forwardRef(function(t,r){const n=H.exports.useContext(xD),i=Um(n,t),o=be({props:i,name:"MuiButton"}),{children:s,color:x="primary",component:a="button",className:I,disabled:D=!1,disableElevation:F=!1,disableFocusRipple:M=!1,endIcon:B,focusVisibleClassName:A,fullWidth:_=!1,size:w="medium",startIcon:h,type:v,variant:m="text"}=o,L=he(o,TD),P=G({},o,{color:x,component:a,disabled:D,disableElevation:F,disableFocusRipple:M,fullWidth:_,size:w,type:v,variant:m}),c=SD(P),l=h&&Y(CD,{className:c.startIcon,ownerState:P,children:h}),u=B&&Y(RD,{className:c.endIcon,ownerState:P,children:B});return ye(_D,G({ownerState:P,className:ve(n.className,c.root,I),component:a,disabled:D,focusRipple:!M,focusVisibleClassName:ve(c.focusVisible,A),ref:r,type:v},L,{classes:c,children:[l,s,u]}))}),_s=bD;function LD(e){return Te("MuiCircularProgress",e)}Ee("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const PD=["className","color","disableShrink","size","style","thickness","value","variant"];let Rl=e=>e,Gp,Vp,Yp,Xp;const jr=44,DD=Jo(Gp||(Gp=Rl`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),ID=Jo(Vp||(Vp=Rl`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),AD=e=>{const{classes:t,variant:r,color:n,disableShrink:i}=e,o={root:["root",r,`color${re(n)}`],svg:["svg"],circle:["circle",`circle${re(r)}`,i&&"circleDisableShrink"]};return _e(o,LD,t)},OD=le("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`color${re(r.color)}`]]}})(({ownerState:e,theme:t})=>G({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&Od(Yp||(Yp=Rl`
      animation: ${0} 1.4s linear infinite;
    `),DD)),MD=le("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),kD=le("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.circle,t[`circle${re(r.variant)}`],r.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>G({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&Od(Xp||(Xp=Rl`
      animation: ${0} 1.4s ease-in-out infinite;
    `),ID)),wD=H.exports.forwardRef(function(t,r){const n=be({props:t,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:x=40,style:a,thickness:I=3.6,value:D=0,variant:F="indeterminate"}=n,M=he(n,PD),B=G({},n,{color:o,disableShrink:s,size:x,thickness:I,value:D,variant:F}),A=AD(B),_={},w={},h={};if(F==="determinate"){const v=2*Math.PI*((jr-I)/2);_.strokeDasharray=v.toFixed(3),h["aria-valuenow"]=Math.round(D),_.strokeDashoffset=`${((100-D)/100*v).toFixed(3)}px`,w.transform="rotate(-90deg)"}return Y(OD,G({className:ve(A.root,i),style:G({width:x,height:x},w,a),ownerState:B,ref:r,role:"progressbar"},h,M,{children:Y(MD,{className:A.svg,ownerState:B,viewBox:`${jr/2} ${jr/2} ${jr} ${jr}`,children:Y(kD,{className:A.circle,style:_,ownerState:B,cx:jr,cy:jr,r:(jr-I)/2,fill:"none",strokeWidth:I})})}))}),FD=wD;function ND(e){return Te("MuiLoadingButton",e)}const BD=Ee("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),Lr=BD,UD=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],$D=e=>{const{loading:t,loadingPosition:r,classes:n}=e,i={root:["root",t&&"loading"],startIcon:[t&&`startIconLoading${re(r)}`],endIcon:[t&&`endIconLoading${re(r)}`],loadingIndicator:["loadingIndicator",t&&`loadingIndicator${re(r)}`]},o=_e(i,ND,n);return G({},n,o)},WD=e=>e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"&&e!=="classes",KD=le(_s,{shouldForwardProp:e=>WD(e)||e==="classes",name:"MuiLoadingButton",slot:"Root",overridesResolver:(e,t)=>[t.root,t.startIconLoadingStart&&{[`& .${Lr.startIconLoadingStart}`]:t.startIconLoadingStart},t.endIconLoadingEnd&&{[`& .${Lr.endIconLoadingEnd}`]:t.endIconLoadingEnd}]})(({ownerState:e,theme:t})=>G({[`& .${Lr.startIconLoadingStart}, & .${Lr.endIconLoadingEnd}`]:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},e.loadingPosition==="center"&&{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${Lr.loading}`]:{color:"transparent"}},e.loadingPosition==="start"&&e.fullWidth&&{[`& .${Lr.startIconLoadingStart}, & .${Lr.endIconLoadingEnd}`]:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0,marginRight:-8}},e.loadingPosition==="end"&&e.fullWidth&&{[`& .${Lr.startIconLoadingStart}, & .${Lr.endIconLoadingEnd}`]:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0,marginLeft:-8}})),zD=le("div",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.loadingIndicator,t[`loadingIndicator${re(r.loadingPosition)}`]]}})(({theme:e,ownerState:t})=>G({position:"absolute",visibility:"visible",display:"flex"},t.loadingPosition==="start"&&(t.variant==="outlined"||t.variant==="contained")&&{left:t.size==="small"?10:14},t.loadingPosition==="start"&&t.variant==="text"&&{left:6},t.loadingPosition==="center"&&{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled},t.loadingPosition==="end"&&(t.variant==="outlined"||t.variant==="contained")&&{right:t.size==="small"?10:14},t.loadingPosition==="end"&&t.variant==="text"&&{right:6},t.loadingPosition==="start"&&t.fullWidth&&{position:"relative",left:-10},t.loadingPosition==="end"&&t.fullWidth&&{position:"relative",right:-10})),HD=H.exports.forwardRef(function(t,r){const n=be({props:t,name:"MuiLoadingButton"}),{children:i,disabled:o=!1,id:s,loading:x=!1,loadingIndicator:a,loadingPosition:I="center",variant:D="text"}=n,F=he(n,UD),M=el(s),B=a!=null?a:Y(FD,{"aria-labelledby":M,color:"inherit",size:16}),A=G({},n,{disabled:o,loading:x,loadingIndicator:B,loadingPosition:I,variant:D}),_=$D(A),w=x?Y(zD,{className:_.loadingIndicator,ownerState:A,children:B}):null;return ye(KD,G({disabled:o||x,id:M,ref:r},F,{variant:D,classes:_,ownerState:A,children:[A.loadingPosition==="end"?i:w,A.loadingPosition==="end"?w:i]}))}),yr=HD;var lf={},Pt={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Pt);var fu={};const jD=av(gD);var Qp;function Ft(){return Qp||(Qp=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=jD}(fu)),fu}const Nt=av(GT);var GD=Pt.exports;Object.defineProperty(lf,"__esModule",{value:!0});var H0=lf.default=void 0,VD=GD(Ft()),YD=Nt,XD=(0,VD.default)((0,YD.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");H0=lf.default=XD;const QD=[{mod:1,name:"\u6211\u6709m3u\u8BA2\u9605\u6E90\u94FE\u63A5"},{mod:2,name:"\u6211\u6709m3u\u8BA2\u9605\u6E90\u5185\u5BB9"},{mod:3,name:"\u516C\u5171\u8BA2\u9605\u6E90"}],JD="https://static.zmis.me/web/iptv/china.json",ao=600,hu={marginBottom:"10px",width:ao+"px",display:"flex",justifyContent:"flex-end"};function ZD(){const e=H.exports.useContext(ia),[t,r]=H.exports.useState([]),[n,i]=H.exports.useState(1),[o,s]=H.exports.useState(""),[x,a]=H.exports.useState([]),[I,D]=H.exports.useState(""),[F,M]=H.exports.useState(!1),B=m=>{i(m.target.value),m.target.value===3&&A()},A=async()=>{let m=await pt.get(JD);m.status===200&&r(m.data)},_=m=>{s(m.target.value)},w=m=>{a(m.target.value)},h=m=>{D(m.target.value)},v=async m=>{if(M(!0),n===3){let L=await pt.get(x);s(L.data),e.changeOriginalM3uBody(L.data)}else if(n===2)e.changeOriginalM3uBody(o);else if(n===1){let L=await pt.get(I);s(L.data),e.changeOriginalM3uBody(L.data)}e.goToDetailScene()};return ye(nt,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"80vh"},children:[Y("h1",{children:"IPTV Checker"}),ye(Qe,{sx:hu,children:[Y(Sc,{id:"demo-simple-select-label",children:"\u8BF7\u9009\u62E9\u6A21\u5F0F"}),Y(Lc,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:n,label:"\u8BF7\u9009\u62E9\u6A21\u5F0F",onChange:B,children:QD.map((m,L)=>Y(jp,{value:m.mod,children:m.name},L))})]}),ye(nt,{sx:hu,children:[n===3?ye(Qe,{sx:{width:ao},children:[Y(Sc,{id:"demo-simple-select-label",sx:{width:ao+10},children:"country"}),Y(Lc,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:x,label:"country",onChange:w,children:t.map((m,L)=>Y(jp,{value:m.url,children:m.country},L))})]}):"",n===2?Y(Qe,{sx:{width:ao},variant:"standard",children:Y(kr,{multiline:!0,id:"standard-multiline-static",rows:4,value:o,onChange:_})}):"",n===1?Y(Qe,{sx:{width:ao},variant:"standard",children:Y(kr,{multiline:!0,id:"standard-multiline-static",rows:4,value:I,onChange:h})}):""]}),Y(nt,{sx:hu,children:Y(yr,{size:"small",onClick:v,loading:F,variant:"contained",startIcon:Y(H0,{}),children:"\u786E\u5B9A"})})]})}const qD=Gn(Y("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function eI(e){return Te("MuiChip",e)}const tI=Ee("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),De=tI,rI=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"],nI=e=>{const{classes:t,disabled:r,size:n,color:i,iconColor:o,onDelete:s,clickable:x,variant:a}=e,I={root:["root",a,r&&"disabled",`size${re(n)}`,`color${re(i)}`,x&&"clickable",x&&`clickableColor${re(i)}`,s&&"deletable",s&&`deletableColor${re(i)}`,`${a}${re(i)}`],label:["label",`label${re(n)}`],avatar:["avatar",`avatar${re(n)}`,`avatarColor${re(i)}`],icon:["icon",`icon${re(n)}`,`iconColor${re(o)}`],deleteIcon:["deleteIcon",`deleteIcon${re(n)}`,`deleteIconColor${re(i)}`,`deleteIcon${re(a)}Color${re(i)}`]};return _e(I,eI,t)},iI=le("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{color:n,iconColor:i,clickable:o,onDelete:s,size:x,variant:a}=r;return[{[`& .${De.avatar}`]:t.avatar},{[`& .${De.avatar}`]:t[`avatar${re(x)}`]},{[`& .${De.avatar}`]:t[`avatarColor${re(n)}`]},{[`& .${De.icon}`]:t.icon},{[`& .${De.icon}`]:t[`icon${re(x)}`]},{[`& .${De.icon}`]:t[`iconColor${re(i)}`]},{[`& .${De.deleteIcon}`]:t.deleteIcon},{[`& .${De.deleteIcon}`]:t[`deleteIcon${re(x)}`]},{[`& .${De.deleteIcon}`]:t[`deleteIconColor${re(n)}`]},{[`& .${De.deleteIcon}`]:t[`deleteIcon${re(a)}Color${re(n)}`]},t.root,t[`size${re(x)}`],t[`color${re(n)}`],o&&t.clickable,o&&n!=="default"&&t[`clickableColor${re(n)})`],s&&t.deletable,s&&n!=="default"&&t[`deletableColor${re(n)}`],t[a],t[`${a}${re(n)}`]]}})(({theme:e,ownerState:t})=>{const r=Be(e.palette.text.primary,.26),n=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return G({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${De.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${De.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:n,fontSize:e.typography.pxToRem(12)},[`& .${De.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${De.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${De.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${De.icon}`]:G({marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&G({color:e.vars?e.vars.palette.Chip.defaultIconColor:n},t.color!=="default"&&{color:"inherit"})),[`& .${De.deleteIcon}`]:G({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:r,fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:Be(r,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:Be(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${De.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity+e.vars.palette.action.focusOpacity}))`:Be(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${De.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>G({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity+e.vars.palette.action.hoverOpacity}))`:Be(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${De.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity+e.vars.palette.action.focusOpacity}))`:Be(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${De.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>G({},t.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${De.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${De.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${De.avatar}`]:{marginLeft:4},[`& .${De.avatarSmall}`]:{marginLeft:2},[`& .${De.icon}`]:{marginLeft:4},[`& .${De.iconSmall}`]:{marginLeft:2},[`& .${De.deleteIcon}`]:{marginRight:5},[`& .${De.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:Be(e.palette[t.color].main,.7)}`,[`&.${De.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Be(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${De.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:Be(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${De.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:Be(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),oI=le("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:r}=e,{size:n}=r;return[t.label,t[`label${re(n)}`]]}})(({ownerState:e})=>G({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.size==="small"&&{paddingLeft:8,paddingRight:8}));function Jp(e){return e.key==="Backspace"||e.key==="Delete"}const aI=H.exports.forwardRef(function(t,r){const n=be({props:t,name:"MuiChip"}),{avatar:i,className:o,clickable:s,color:x="default",component:a,deleteIcon:I,disabled:D=!1,icon:F,label:M,onClick:B,onDelete:A,onKeyDown:_,onKeyUp:w,size:h="medium",variant:v="filled"}=n,m=he(n,rI),L=H.exports.useRef(null),P=gt(L,r),c=C=>{C.stopPropagation(),A&&A(C)},l=C=>{C.currentTarget===C.target&&Jp(C)&&C.preventDefault(),_&&_(C)},u=C=>{C.currentTarget===C.target&&(A&&Jp(C)?A(C):C.key==="Escape"&&L.current&&L.current.blur()),w&&w(C)},E=s!==!1&&B?!0:s,y=E||A?zo:a||"div",d=G({},n,{component:y,disabled:D,size:h,color:x,iconColor:H.exports.isValidElement(F)&&F.props.color||x,onDelete:!!A,clickable:E,variant:v}),f=nI(d),p=y===zo?G({component:a||"div",focusVisibleClassName:f.focusVisible},A&&{disableRipple:!0}):{};let R=null;A&&(R=I&&H.exports.isValidElement(I)?H.exports.cloneElement(I,{className:ve(I.props.className,f.deleteIcon),onClick:c}):Y(qD,{className:ve(f.deleteIcon),onClick:c}));let S=null;i&&H.exports.isValidElement(i)&&(S=H.exports.cloneElement(i,{className:ve(f.avatar,i.props.className)}));let O=null;return F&&H.exports.isValidElement(F)&&(O=H.exports.cloneElement(F,{className:ve(f.icon,F.props.className)})),ye(iI,G({as:y,className:ve(f.root,o),disabled:E&&D?!0:void 0,onClick:B,onKeyDown:l,onKeyUp:u,ref:P,ownerState:d},p,m,{children:[S||O,Y(oI,{className:ve(f.label),ownerState:d,children:M}),R]}))}),sI=aI,lI=H.exports.createContext(),j0=lI;function uI(e){return Te("MuiTable",e)}Ee("MuiTable",["root","stickyHeader"]);const cI=["className","component","padding","size","stickyHeader"],dI=e=>{const{classes:t,stickyHeader:r}=e;return _e({root:["root",r&&"stickyHeader"]},uI,t)},fI=le("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>G({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":G({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),Zp="table",hI=H.exports.forwardRef(function(t,r){const n=be({props:t,name:"MuiTable"}),{className:i,component:o=Zp,padding:s="normal",size:x="medium",stickyHeader:a=!1}=n,I=he(n,cI),D=G({},n,{component:o,padding:s,size:x,stickyHeader:a}),F=dI(D),M=H.exports.useMemo(()=>({padding:s,size:x,stickyHeader:a}),[s,x,a]);return Y(j0.Provider,{value:M,children:Y(fI,G({as:o,role:o===Zp?null:"table",ref:r,className:ve(F.root,i),ownerState:D},I))})}),pI=hI,vI=H.exports.createContext(),bl=vI;function gI(e){return Te("MuiTableBody",e)}Ee("MuiTableBody",["root"]);const mI=["className","component"],yI=e=>{const{classes:t}=e;return _e({root:["root"]},gI,t)},EI=le("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),xI={variant:"body"},qp="tbody",TI=H.exports.forwardRef(function(t,r){const n=be({props:t,name:"MuiTableBody"}),{className:i,component:o=qp}=n,s=he(n,mI),x=G({},n,{component:o}),a=yI(x);return Y(bl.Provider,{value:xI,children:Y(EI,G({className:ve(a.root,i),as:o,ref:r,role:o===qp?null:"rowgroup",ownerState:x},s))})}),SI=TI;function _I(e){return Te("MuiTableCell",e)}const CI=Ee("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),RI=CI,bI=["align","className","component","padding","scope","size","sortDirection","variant"],LI=e=>{const{classes:t,variant:r,align:n,padding:i,size:o,stickyHeader:s}=e,x={root:["root",r,s&&"stickyHeader",n!=="inherit"&&`align${re(n)}`,i!=="normal"&&`padding${re(i)}`,`size${re(o)}`]};return _e(x,_I,t)},PI=le("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${re(r.size)}`],r.padding!=="normal"&&t[`padding${re(r.padding)}`],r.align!=="inherit"&&t[`align${re(r.align)}`],r.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>G({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?jd(Be(e.palette.divider,1),.88):Hd(Be(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${RI.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),DI=H.exports.forwardRef(function(t,r){const n=be({props:t,name:"MuiTableCell"}),{align:i="inherit",className:o,component:s,padding:x,scope:a,size:I,sortDirection:D,variant:F}=n,M=he(n,bI),B=H.exports.useContext(j0),A=H.exports.useContext(bl),_=A&&A.variant==="head";let w;s?w=s:w=_?"th":"td";let h=a;!h&&_&&(h="col");const v=F||A&&A.variant,m=G({},n,{align:i,component:w,padding:x||(B&&B.padding?B.padding:"normal"),size:I||(B&&B.size?B.size:"medium"),sortDirection:D,stickyHeader:v==="head"&&B&&B.stickyHeader,variant:v}),L=LI(m);let P=null;return D&&(P=D==="asc"?"ascending":"descending"),Y(PI,G({as:w,ref:r,className:ve(L.root,o),"aria-sort":P,scope:h,ownerState:m},M))}),Gr=DI;function II(e){return Te("MuiTableContainer",e)}Ee("MuiTableContainer",["root"]);const AI=["className","component"],OI=e=>{const{classes:t}=e;return _e({root:["root"]},II,t)},MI=le("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),kI=H.exports.forwardRef(function(t,r){const n=be({props:t,name:"MuiTableContainer"}),{className:i,component:o="div"}=n,s=he(n,AI),x=G({},n,{component:o}),a=OI(x);return Y(MI,G({ref:r,as:o,className:ve(a.root,i),ownerState:x},s))}),wI=kI;function FI(e){return Te("MuiTableHead",e)}Ee("MuiTableHead",["root"]);const NI=["className","component"],BI=e=>{const{classes:t}=e;return _e({root:["root"]},FI,t)},UI=le("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),$I={variant:"head"},ev="thead",WI=H.exports.forwardRef(function(t,r){const n=be({props:t,name:"MuiTableHead"}),{className:i,component:o=ev}=n,s=he(n,NI),x=G({},n,{component:o}),a=BI(x);return Y(bl.Provider,{value:$I,children:Y(UI,G({as:o,className:ve(a.root,i),ref:r,role:o===ev?null:"rowgroup",ownerState:x},s))})}),KI=WI;function zI(e){return Te("MuiTableRow",e)}const HI=Ee("MuiTableRow",["root","selected","hover","head","footer"]),tv=HI,jI=["className","component","hover","selected"],GI=e=>{const{classes:t,selected:r,hover:n,head:i,footer:o}=e;return _e({root:["root",r&&"selected",n&&"hover",i&&"head",o&&"footer"]},zI,t)},VI=le("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.head&&t.head,r.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${tv.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${tv.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Be(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Be(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),rv="tr",YI=H.exports.forwardRef(function(t,r){const n=be({props:t,name:"MuiTableRow"}),{className:i,component:o=rv,hover:s=!1,selected:x=!1}=n,a=he(n,jI),I=H.exports.useContext(bl),D=G({},n,{component:o,hover:s,selected:x,head:I&&I.variant==="head",footer:I&&I.variant==="footer"}),F=GI(D);return Y(VI,G({as:o,ref:r,className:ve(F.root,i),role:o===rv?null:"row",ownerState:D},a))}),nv=YI,XI=Gn(Y("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function QI(e){return Te("MuiAvatar",e)}Ee("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const JI=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],ZI=e=>{const{classes:t,variant:r,colorDefault:n}=e;return _e({root:["root",r,n&&"colorDefault"],img:["img"],fallback:["fallback"]},QI,t)},qI=le("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],r.colorDefault&&t.colorDefault]}})(({theme:e,ownerState:t})=>G({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.variant==="square"&&{borderRadius:0},t.colorDefault&&G({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[600]}))),eA=le("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),tA=le(XI,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});function rA({crossOrigin:e,referrerPolicy:t,src:r,srcSet:n}){const[i,o]=H.exports.useState(!1);return H.exports.useEffect(()=>{if(!r&&!n)return;o(!1);let s=!0;const x=new Image;return x.onload=()=>{!s||o("loaded")},x.onerror=()=>{!s||o("error")},x.crossOrigin=e,x.referrerPolicy=t,x.src=r,n&&(x.srcset=n),()=>{s=!1}},[e,t,r,n]),i}const nA=H.exports.forwardRef(function(t,r){const n=be({props:t,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:x="div",imgProps:a,sizes:I,src:D,srcSet:F,variant:M="circular"}=n,B=he(n,JI);let A=null;const _=rA(G({},a,{src:D,srcSet:F})),w=D||F,h=w&&_!=="error",v=G({},n,{colorDefault:!h,component:x,variant:M}),m=ZI(v);return h?A=Y(eA,G({alt:i,src:D,srcSet:F,sizes:I,ownerState:v,className:m.img},a)):o!=null?A=o:w&&i?A=i[0]:A=Y(tA,{className:m.fallback}),Y(qI,G({as:x,ownerState:v,className:ve(m.root,s),ref:r},B,{children:A}))}),pu=nA;var uf={},iA=Pt.exports;Object.defineProperty(uf,"__esModule",{value:!0});var G0=uf.default=void 0,oA=iA(Ft()),aA=Nt,sA=(0,oA.default)((0,aA.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");G0=uf.default=sA;var cf={},lA=Pt.exports;Object.defineProperty(cf,"__esModule",{value:!0});var V0=cf.default=void 0,uA=lA(Ft()),cA=Nt,dA=(0,uA.default)((0,cA.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");V0=cf.default=dA;var df={},fA=Pt.exports;Object.defineProperty(df,"__esModule",{value:!0});var Y0=df.default=void 0,hA=fA(Ft()),pA=Nt,vA=(0,hA.default)((0,pA.jsx)("path",{fillRule:"evenodd",d:"M4 11h16v2H4z"}),"HorizontalRule");Y0=df.default=vA;const gA={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},mA=gA;function yA(e){return Te("PrivateSwitchBase",e)}Ee("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const EA=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],xA=e=>{const{classes:t,checked:r,disabled:n,edge:i}=e,o={root:["root",r&&"checked",n&&"disabled",i&&`edge${re(i)}`],input:["input"]};return _e(o,yA,t)},TA=le(zo)(({ownerState:e})=>G({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),SA=le("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),_A=H.exports.forwardRef(function(t,r){const{autoFocus:n,checked:i,checkedIcon:o,className:s,defaultChecked:x,disabled:a,disableFocusRipple:I=!1,edge:D=!1,icon:F,id:M,inputProps:B,inputRef:A,name:_,onBlur:w,onChange:h,onFocus:v,readOnly:m,required:L,tabIndex:P,type:c,value:l}=t,u=he(t,EA),[E,y]=Es({controlled:i,default:Boolean(x),name:"SwitchBase",state:"checked"}),d=jn(),f=T=>{v&&v(T),d&&d.onFocus&&d.onFocus(T)},p=T=>{w&&w(T),d&&d.onBlur&&d.onBlur(T)},R=T=>{if(T.nativeEvent.defaultPrevented)return;const g=T.target.checked;y(g),h&&h(T,g)};let S=a;d&&typeof S>"u"&&(S=d.disabled);const O=c==="checkbox"||c==="radio",C=G({},t,{checked:E,disabled:S,disableFocusRipple:I,edge:D}),b=xA(C);return ye(TA,G({component:"span",className:ve(b.root,s),centerRipple:!0,focusRipple:!I,disabled:S,tabIndex:null,role:void 0,onFocus:f,onBlur:p,ownerState:C,ref:r},u,{children:[Y(SA,G({autoFocus:n,checked:i,defaultChecked:x,className:b.input,disabled:S,id:O&&M,name:_,onChange:R,readOnly:m,ref:A,required:L,ownerState:C,tabIndex:P,type:c},c==="checkbox"&&l===void 0?{}:{value:l},B)),E?o:F]}))}),X0=_A;function CA(e){return Te("MuiSwitch",e)}const RA=Ee("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),_t=RA,bA=["className","color","edge","size","sx"],LA=e=>{const{classes:t,edge:r,size:n,color:i,checked:o,disabled:s}=e,x={root:["root",r&&`edge${re(r)}`,`size${re(n)}`],switchBase:["switchBase",`color${re(i)}`,o&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},a=_e(x,CA,t);return G({},t,a)},PA=le("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.edge&&t[`edge${re(r.edge)}`],t[`size${re(r.size)}`]]}})(({ownerState:e})=>G({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},e.edge==="start"&&{marginLeft:-8},e.edge==="end"&&{marginRight:-8},e.size==="small"&&{width:40,height:24,padding:7,[`& .${_t.thumb}`]:{width:16,height:16},[`& .${_t.switchBase}`]:{padding:4,[`&.${_t.checked}`]:{transform:"translateX(16px)"}}})),DA=le(X0,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.switchBase,{[`& .${_t.input}`]:t.input},r.color!=="default"&&t[`color${re(r.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${_t.checked}`]:{transform:"translateX(20px)"},[`&.${_t.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${_t.checked} + .${_t.track}`]:{opacity:.5},[`&.${_t.disabled} + .${_t.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${_t.input}`]:{left:"-100%",width:"300%"}}),({theme:e,ownerState:t})=>G({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Be(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${_t.checked}`]:{color:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Be(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${_t.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t.color}DisabledColor`]:`${e.palette.mode==="light"?jd(e.palette[t.color].main,.62):Hd(e.palette[t.color].main,.55)}`}},[`&.${_t.checked} + .${_t.track}`]:{backgroundColor:(e.vars||e).palette[t.color].main}})),IA=le("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),AA=le("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),OA=H.exports.forwardRef(function(t,r){const n=be({props:t,name:"MuiSwitch"}),{className:i,color:o="primary",edge:s=!1,size:x="medium",sx:a}=n,I=he(n,bA),D=G({},n,{color:o,edge:s,size:x}),F=LA(D),M=Y(AA,{className:F.thumb,ownerState:D});return ye(PA,{className:ve(F.root,i),sx:a,ownerState:D,children:[Y(DA,G({type:"checkbox",icon:M,checkedIcon:M,ref:r,ownerState:D},I,{classes:G({},F,{root:F.switchBase})})),Y(IA,{className:F.track,ownerState:D})]})}),MA=OA,kA=Gn(Y("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),wA=Gn(Y("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),FA=Gn(Y("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function NA(e){return Te("MuiCheckbox",e)}const BA=Ee("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),vu=BA,UA=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],$A=e=>{const{classes:t,indeterminate:r,color:n}=e,i={root:["root",r&&"indeterminate",`color${re(n)}`]},o=_e(i,NA,t);return G({},t,o)},WA=le(X0,{shouldForwardProp:e=>pr(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.indeterminate&&t.indeterminate,r.color!=="default"&&t[`color${re(r.color)}`]]}})(({theme:e,ownerState:t})=>G({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Be(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${vu.checked}, &.${vu.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${vu.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),KA=Y(wA,{}),zA=Y(kA,{}),HA=Y(FA,{}),jA=H.exports.forwardRef(function(t,r){var n,i;const o=be({props:t,name:"MuiCheckbox"}),{checkedIcon:s=KA,color:x="primary",icon:a=zA,indeterminate:I=!1,indeterminateIcon:D=HA,inputProps:F,size:M="medium",className:B}=o,A=he(o,UA),_=I?D:a,w=I?D:s,h=G({},o,{color:x,indeterminate:I,size:M}),v=$A(h);return Y(WA,G({type:"checkbox",inputProps:G({"data-indeterminate":I},F),icon:H.exports.cloneElement(_,{fontSize:(n=_.props.fontSize)!=null?n:M}),checkedIcon:H.exports.cloneElement(w,{fontSize:(i=w.props.fontSize)!=null?i:M}),ownerState:h,ref:r,className:ve(v.root,B)},A,{classes:v}))}),iv=jA;function GA(e){return Te("MuiDialogTitle",e)}Ee("MuiDialogTitle",["root"]);const VA=H.exports.createContext({}),Q0=VA,YA=["className","id"],XA=e=>{const{classes:t}=e;return _e({root:["root"]},GA,t)},QA=le(aD,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),JA=H.exports.forwardRef(function(t,r){const n=be({props:t,name:"MuiDialogTitle"}),{className:i,id:o}=n,s=he(n,YA),x=n,a=XA(x),{titleId:I=o}=H.exports.useContext(Q0);return Y(QA,G({component:"h2",className:ve(a.root,i),ownerState:x,ref:r,variant:"h6",id:I},s))}),ZA=JA;function qA(e){return Te("MuiDialog",e)}const eO=Ee("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),gu=eO,tO=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],rO=le(N0,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),nO=e=>{const{classes:t,scroll:r,maxWidth:n,fullWidth:i,fullScreen:o}=e,s={root:["root"],container:["container",`scroll${re(r)}`],paper:["paper",`paperScroll${re(r)}`,`paperWidth${re(String(n))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return _e(s,qA,t)},iO=le(B0,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),oO=le("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.container,t[`scroll${re(r.scroll)}`]]}})(({ownerState:e})=>G({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),aO=le(ta,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.paper,t[`scrollPaper${re(r.scroll)}`],t[`paperWidth${re(String(r.maxWidth))}`],r.fullWidth&&t.paperFullWidth,r.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>G({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`${e.breakpoints.values.xs}${e.breakpoints.unit}`,[`&.${gu.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${gu.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${gu.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),sO=H.exports.forwardRef(function(t,r){const n=be({props:t,name:"MuiDialog"}),i=al(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":x,BackdropComponent:a,BackdropProps:I,children:D,className:F,disableEscapeKeyDown:M=!1,fullScreen:B=!1,fullWidth:A=!1,maxWidth:_="sm",onBackdropClick:w,onClose:h,open:v,PaperComponent:m=ta,PaperProps:L={},scroll:P="paper",TransitionComponent:c=F0,transitionDuration:l=o,TransitionProps:u}=n,E=he(n,tO),y=G({},n,{disableEscapeKeyDown:M,fullScreen:B,fullWidth:A,maxWidth:_,scroll:P}),d=nO(y),f=H.exports.useRef(),p=C=>{f.current=C.target===C.currentTarget},R=C=>{!f.current||(f.current=null,w&&w(C),h&&h(C,"backdropClick"))},S=el(x),O=H.exports.useMemo(()=>({titleId:S}),[S]);return Y(iO,G({className:ve(d.root,F),closeAfterTransition:!0,components:{Backdrop:rO},componentsProps:{backdrop:G({transitionDuration:l,as:a},I)},disableEscapeKeyDown:M,onClose:h,open:v,ref:r,onClick:R,ownerState:y},E,{children:Y(c,G({appear:!0,in:v,timeout:l,role:"presentation"},u,{children:Y(oO,{className:ve(d.container),onMouseDown:p,ownerState:y,children:Y(aO,G({as:m,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":S},L,{className:ve(d.paper,L.className),ownerState:y,children:Y(Q0.Provider,{value:O,children:D})}))})}))}))}),lO=sO;var ff={},uO=Pt.exports;Object.defineProperty(ff,"__esModule",{value:!0});var J0=ff.default=void 0,cO=uO(Ft()),dO=Nt,fO=(0,cO.default)((0,dO.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");J0=ff.default=fO;var hf={},hO=Pt.exports;Object.defineProperty(hf,"__esModule",{value:!0});var Z0=hf.default=void 0,pO=hO(Ft()),vO=Nt,gO=(0,pO.default)((0,vO.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked");Z0=hf.default=gO;var pf={},mO=Pt.exports;Object.defineProperty(pf,"__esModule",{value:!0});var q0=pf.default=void 0,yO=mO(Ft()),EO=Nt,xO=(0,yO.default)((0,EO.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline");q0=pf.default=xO;var vf={},TO=Pt.exports;Object.defineProperty(vf,"__esModule",{value:!0});var ey=vf.default=void 0,SO=TO(Ft()),_O=Nt,CO=(0,SO.default)((0,_O.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline");ey=vf.default=CO;var gf={},RO=Pt.exports;Object.defineProperty(gf,"__esModule",{value:!0});var ty=gf.default=void 0,bO=RO(Ft()),LO=Nt,PO=(0,bO.default)((0,LO.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}),"GetApp");ty=gf.default=PO;var mf={},DO=Pt.exports;Object.defineProperty(mf,"__esModule",{value:!0});var ry=mf.default=void 0,IO=DO(Ft()),AO=Nt,OO=(0,IO.default)((0,AO.jsx)("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"ExitToApp");ry=mf.default=OO;var yf={},MO=Pt.exports;Object.defineProperty(yf,"__esModule",{value:!0});var ny=yf.default=void 0,kO=MO(Ft()),wO=Nt,FO=(0,kO.default)((0,wO.jsx)("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"AddCircleOutline");ny=yf.default=FO;var Ef={},NO=Pt.exports;Object.defineProperty(Ef,"__esModule",{value:!0});var iy=Ef.default=void 0,BO=NO(Ft()),UO=Nt,$O=(0,BO.default)((0,UO.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");iy=Ef.default=$O;var xf={},WO=Pt.exports;Object.defineProperty(xf,"__esModule",{value:!0});var oy=xf.default=void 0,KO=WO(Ft()),zO=Nt,HO=(0,KO.default)((0,zO.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");oy=xf.default=HO;const ov=152,jO={fontSize:"11px",color:"#7d7a7a",marginBottom:"4px"};function ay(e){const t=H.exports.useContext(ia),{onClose:r,open:n,body:i,mod:o}=e,[s,x]=H.exports.useState(""),[a,I]=H.exports.useState(!1);H.exports.useEffect(()=>{o===1?x("\u60A8\u6240\u9009\u62E9\u7684m3u\u4FE1\u606F"):o===2?x("\u539F\u59CBm3u\u4FE1\u606F"):o===3&&x("\u8BBE\u7F6E")},[o]);const D=()=>{r()},F=_=>{t.changeCheckMillisSeconds(parseInt(_.target.value,10))},M=_=>{t.changeHttpRequestTimeout(parseInt(_.target.value,10))},B=_=>{I(_.target.checked)},A=()=>{var _=document.createElement("a"),w=new Blob([i]),h=window.URL.createObjectURL(w);_.href=h,_.download="iptv-checker-"+new Date().getTime()+".m3u",_.click()};return ye(lO,{onClose:D,open:n,children:[Y(ZA,{children:s}),o===3?ye(nt,{sx:{display:"flex",flexDirection:"column",padding:"20px"},children:[Y(Qe,{sx:{width:180,marginRight:"5px",marginBottom:"10px"},children:Y(kr,{size:"small",value:t.checkMillisSeconds,onChange:F,label:"\u4E0B\u4E00\u6B21\u8BF7\u6C42\u95F4\u9694\u65F6\u95F4\uFF08\u6BEB\u79D2\uFF09"})}),ye(Qe,{sx:{width:200,marginRight:"5px",display:"flex",flexDirection:"row",marginBottom:"20px"},children:["\u4E0D\u663E\u793Aurl",Y(MA,{size:"small",checked:a,onChange:B,inputProps:{"aria-label":"controlled"}}),"\u663E\u793Aurl"]}),Y(Qe,{sx:{width:180,marginRight:"5px",marginBottom:"10px"},children:Y(kr,{size:"small",value:t.httpRequestTimeout,onChange:M,label:"\u8BF7\u6C42\u8D85\u65F6\u65F6\u95F4\uFF08\u6BEB\u79D2\uFF09"})})]}):"",o===1||o===2?Y(Qe,{sx:{width:550,margin:"10px"},children:Y(kr,{multiline:!0,sx:{fontSize:"11px"},label:s,size:"small",id:"standard-multiline-static",rows:4,value:i})}):"",o===1?Y(Qe,{sx:{width:550,margin:"10px"},children:Y(yr,{size:"small",onClick:A,variant:"contained",startIcon:Y(ty,{}),children:"\u4E0B\u8F7D"})}):""]})}ay.propTypes={onClose:ro.exports.func.isRequired,open:ro.exports.bool.isRequired,body:ro.exports.string.isRequired,mod:ro.exports.number.isRequired};const GO=le("li")(({theme:e})=>({margin:e.spacing(.5),listStyle:"none",display:"initial"}));function VO(){const e=H.exports.useContext(ia),[t,r]=H.exports.useState(""),[n,i]=H.exports.useState([]),[o,s]=H.exports.useState([]),[x,a]=H.exports.useState(!1),[I,D]=H.exports.useState(1),F=E=>{a(!1)},M=E=>()=>{i(y=>y.filter((d,f)=>f!==E))},B=()=>{let E=e.getAvailableOrNotAvailableIndex(1);s(E)},A=()=>{let E=e.getAvailableOrNotAvailableIndex(2);s(E)},_=E=>{r(E.target.value)},w=()=>{if(t==="")return;let E=!1;for(let y=0;y<n.length;y++)n[y]===t&&(E=!0);E||i([...n,t]),r("")},h=()=>{e.filterM3u(n)},v=()=>{e.onCheckTheseLinkIsAvailable()},m=E=>{e.deleteShowM3uRow(E)},L=()=>{e.onExportValidM3uData(),D(1),a(!0)},P=()=>{e.changeDialogBodyData(),D(2),a(!0)},c=()=>{let E=1;o.length>0&&(E=0);let y=[];if(E===1)for(let d=0;d<e.showM3uBody.length;d++)y.push(e.showM3uBody[d].index);e.onSelectedOrNotAll(E),s(y)},l=()=>{D(3),a(!0)},u=E=>{e.onSelectedRow(E);let y=1;for(let d=0;d<o.length;d++)o[d]===E&&(y=0);s(y===1?d=>[...d,E]:d=>d.filter(f=>f!==E))};return ye(nt,{children:[ye(nt,{sx:{position:"fixed",backgroundColor:"#fff",width:"100%",height:ov+"px",borderBottom:"1px solid #eee",top:0,left:0,zIndex:999,padding:"8px"},children:[ye(nt,{sx:{display:"flex",justifyContent:"space-between"},children:[ye(nt,{sx:{maxWidth:"500px"},children:[Y(nt,{sx:jO,children:"\u641C\u7D22"}),ye(nt,{sx:{marginBottom:"5px",display:"flex",alignItems:"center"},children:[Y(Qe,{sx:{marginRight:"5px"},children:Y(kr,{size:"small",value:t,onChange:_,label:"\u7B5B\u9009\u559C\u7231\u7684\u7535\u89C6\u540D\u79F0"})}),Y(Qe,{sx:{marginRight:"5px"},children:Y(yr,{size:"small",onClick:w,variant:"outlined",startIcon:Y(ny,{}),children:"\u6DFB\u52A0"})}),Y(Qe,{sx:{marginRight:"5px"},children:Y(yr,{size:"small",onClick:h,variant:"contained",color:"success",startIcon:Y(iy,{}),children:"\u641C\u7D22"})})]}),Y(nt,{children:n.map((E,y)=>Y(GO,{children:Y(sI,{label:E,size:"small",onDelete:M(y)})},y))})]}),Y(nt,{sx:{paddingRight:"20px"},children:Y(Qe,{sx:{marginRight:"5px"},children:Y(yr,{size:"small",onClick:l,variant:"outlined",startIcon:Y(oy,{}),children:"\u8BBE\u7F6E"})})})]}),ye(nt,{sx:{marginTop:"5px"},children:[Y(Qe,{sx:{marginRight:"5px"},children:Y(_s,{startIcon:Y(J0,{}),size:"small",onClick:P,variant:"outlined",children:"\u663E\u793A\u539F\u59CBm3u\u4FE1\u606F"})}),e.handleMod===0?Y(Qe,{sx:{marginRight:"5px"},children:Y(yr,{size:"small",onClick:v,variant:"outlined",startIcon:Y(Z0,{}),children:"\u68C0\u67E5\u76F4\u64AD\u6E90\u94FE\u63A5\u662F\u5426\u6709\u6548"})}):"",e.handleMod===1?ye(nt,{children:["\u68C0\u67E5\u8FDB\u5EA6\uFF1A",e.hasCheckedCount,"/",e.showM3uBody.length]}):"",e.handleMod===2?Y(Qe,{sx:{marginRight:"5px"},children:Y(yr,{size:"small",onClick:B,variant:"contained",startIcon:Y(q0,{}),children:"\u83B7\u53D6\u6709\u6548\u94FE\u63A5"})}):"",e.handleMod===2?Y(Qe,{sx:{marginRight:"5px"},children:Y(yr,{size:"small",onClick:A,variant:"outlined",startIcon:Y(ey,{}),children:"\u83B7\u53D6\u65E0\u6548\u94FE\u63A5"})}):"",e.handleMod===2||o.length>0?Y(Qe,{sx:{marginRight:"5px"},children:Y(yr,{size:"small",onClick:L,variant:"contained",startIcon:Y(ry,{}),children:"\u5BFC\u51FA\u9009\u4E2D\u7684\u94FE\u63A5"})}):""]})]}),Y(ay,{open:x,onClose:F,body:e.dialogBody,mod:I}),Y(wI,{component:ta,sx:{marginTop:ov+10+"px"},children:ye(pI,{sx:{maxWidth:650},"aria-label":"a dense table",children:[Y(KI,{children:ye(nv,{children:[Y(Gr,{padding:"checkbox",children:Y(iv,{color:"primary",checked:o.length>0&&o.length===e.showM3uBody.length,onClick:c,indeterminate:o.length>0&&o.length!==e.showM3uBody.length,inputProps:{"aria-labelledby":-1}})}),Y(Gr,{children:"\u64CD\u4F5C"}),Y(Gr,{align:"left",children:"Status"}),Y(Gr,{align:"left",children:"Name"})]})}),Y(SI,{children:e.showM3uBody.map((E,y)=>ye(nv,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Y(Gr,{padding:"checkbox",children:Y(iv,{color:"primary",checked:E.checked,onClick:()=>u(y),inputProps:{"aria-labelledby":E.index}})}),Y(Gr,{component:"th",scope:"row",children:e.handleMod!==1?Y(_s,{onClick:()=>m(y),children:"\u5220\u9664"}):""}),ye(Gr,{align:"left",children:[E.status===0?Y(pu,{sx:{width:24,height:24},children:Y(Y0,{})}):"",E.status===1?Y(pu,{sx:{bgcolor:Rn[500],width:24,height:24},children:Y(G0,{})}):"",E.status===2?Y(pu,{sx:{bgcolor:mA[500],width:24,height:24},children:Y(V0,{})}):""]}),ye(Gr,{align:"left",children:[Y("div",{children:E.name}),showUrl?Y("div",{children:E.url}):""]})]},y))})]})})]})}var sy={exports:{}};(function(e,t){typeof window<"u"&&function(n,i){e.exports=i()}(yy,()=>(()=>{var r={"./src/config.ts":(s,x,a)=>{a.r(x),a.d(x,{enableStreamingMode:()=>O,hlsDefaultConfig:()=>p,mergeConfig:()=>S});var I=a("./src/controller/abr-controller.ts"),D=a("./src/controller/audio-stream-controller.ts"),F=a("./src/controller/audio-track-controller.ts"),M=a("./src/controller/subtitle-stream-controller.ts"),B=a("./src/controller/subtitle-track-controller.ts"),A=a("./src/controller/buffer-controller.ts"),_=a("./src/controller/timeline-controller.ts"),w=a("./src/controller/cap-level-controller.ts"),h=a("./src/controller/fps-controller.ts"),v=a("./src/controller/eme-controller.ts"),m=a("./src/controller/cmcd-controller.ts"),L=a("./src/utils/xhr-loader.ts"),P=a("./src/utils/fetch-loader.ts"),c=a("./src/utils/cues.ts"),l=a("./src/utils/mediakeys-helper.ts"),u=a("./src/utils/logger.ts");function E(){return E=Object.assign?Object.assign.bind():function(C){for(var b=1;b<arguments.length;b++){var T=arguments[b];for(var g in T)Object.prototype.hasOwnProperty.call(T,g)&&(C[g]=T[g])}return C},E.apply(this,arguments)}function y(C,b){var T=Object.keys(C);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(C);b&&(g=g.filter(function(k){return Object.getOwnPropertyDescriptor(C,k).enumerable})),T.push.apply(T,g)}return T}function d(C){for(var b=1;b<arguments.length;b++){var T=arguments[b]!=null?arguments[b]:{};b%2?y(Object(T),!0).forEach(function(g){f(C,g,T[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(T)):y(Object(T)).forEach(function(g){Object.defineProperty(C,g,Object.getOwnPropertyDescriptor(T,g))})}return C}function f(C,b,T){return b in C?Object.defineProperty(C,b,{value:T,enumerable:!0,configurable:!0,writable:!0}):C[b]=T,C}var p=d(d({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:60*1e3*1e3,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:L.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:I.default,bufferController:A.default,capLevelController:w.default,fpsController:h.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:l.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0},R()),{},{subtitleStreamController:M.SubtitleStreamController,subtitleTrackController:B.default,timelineController:_.TimelineController,audioStreamController:D.default,audioTrackController:F.default,emeController:v.default,cmcdController:m.default});function R(){return{cueHandler:c.default,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function S(C,b){if((b.liveSyncDurationCount||b.liveMaxLatencyDurationCount)&&(b.liveSyncDuration||b.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(b.liveMaxLatencyDurationCount!==void 0&&(b.liveSyncDurationCount===void 0||b.liveMaxLatencyDurationCount<=b.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(b.liveMaxLatencyDuration!==void 0&&(b.liveSyncDuration===void 0||b.liveMaxLatencyDuration<=b.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return E({},C,b)}function O(C){var b=C.loader;if(b!==P.default&&b!==L.default)u.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),C.progressive=!1;else{var T=(0,P.fetchSupported)();T&&(C.loader=P.default,C.progressive=!0,C.enableSoftwareAES=!0,u.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}}},"./src/controller/abr-controller.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>v});var I=a("./src/polyfills/number.ts"),D=a("./src/utils/ewma-bandwidth-estimator.ts"),F=a("./src/events.ts"),M=a("./src/errors.ts"),B=a("./src/types/loader.ts"),A=a("./src/utils/logger.ts");function _(m,L){for(var P=0;P<L.length;P++){var c=L[P];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(m,c.key,c)}}function w(m,L,P){return L&&_(m.prototype,L),P&&_(m,P),Object.defineProperty(m,"prototype",{writable:!1}),m}var h=function(){function m(P){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=P;var c=P.config;this.bwEstimator=new D.default(c.abrEwmaSlowVoD,c.abrEwmaFastVoD,c.abrEwmaDefaultEstimate),this.registerListeners()}var L=m.prototype;return L.registerListeners=function(){var c=this.hls;c.on(F.Events.FRAG_LOADING,this.onFragLoading,this),c.on(F.Events.FRAG_LOADED,this.onFragLoaded,this),c.on(F.Events.FRAG_BUFFERED,this.onFragBuffered,this),c.on(F.Events.LEVEL_LOADED,this.onLevelLoaded,this),c.on(F.Events.ERROR,this.onError,this)},L.unregisterListeners=function(){var c=this.hls;c.off(F.Events.FRAG_LOADING,this.onFragLoading,this),c.off(F.Events.FRAG_LOADED,this.onFragLoaded,this),c.off(F.Events.FRAG_BUFFERED,this.onFragBuffered,this),c.off(F.Events.LEVEL_LOADED,this.onLevelLoaded,this),c.off(F.Events.ERROR,this.onError,this)},L.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},L.onFragLoading=function(c,l){var u=l.frag;if(u.type===B.PlaylistLevelType.MAIN&&!this.timer){var E;this.fragCurrent=u,this.partCurrent=(E=l.part)!=null?E:null,this.timer=self.setInterval(this.onCheck,100)}},L.onLevelLoaded=function(c,l){var u=this.hls.config;l.details.live?this.bwEstimator.update(u.abrEwmaSlowLive,u.abrEwmaFastLive):this.bwEstimator.update(u.abrEwmaSlowVoD,u.abrEwmaFastVoD)},L._abandonRulesCheck=function(){var c=this.fragCurrent,l=this.partCurrent,u=this.hls,E=u.autoLevelEnabled;u.config;var y=u.media;if(!(!c||!y)){var d=l?l.stats:c.stats,f=l?l.duration:c.duration;if(d.aborted||d.loaded&&d.loaded===d.total||c.level===0){this.clearTimer(),this._nextAutoLevel=-1;return}if(!(!E||y.paused||!y.playbackRate||!y.readyState)){var p=u.mainForwardBufferInfo;if(p!==null){var R=performance.now()-d.loading.start,S=Math.abs(y.playbackRate);if(!(R<=500*f/S)){var O=d.loaded&&d.loading.first,C=this.bwEstimator.getEstimate(),b=u.levels,T=u.minAutoLevel,g=b[c.level],k=d.total||Math.max(d.loaded,Math.round(f*g.maxBitrate/8)),N=O?d.loaded*1e3/R:0,U=N?(k-d.loaded)/N:k*8/C,W=p.len/S;if(!(U<=W)){var $=Number.POSITIVE_INFINITY,K;for(K=c.level-1;K>T;K--){var z=b[K].maxBitrate;if($=N?f*z/(8*.8*N):f*z/C,$<W)break}$>=U||(A.logger.warn("Fragment "+c.sn+(l?" part "+l.index:"")+" of level "+c.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+K+`
      Current BW estimate: `+((0,I.isFiniteNumber)(C)?(C/1024).toFixed(3):"Unknown")+` Kb/s
      Estimated load time for current fragment: `+U.toFixed(3)+` s
      Estimated load time for the next fragment: `+$.toFixed(3)+` s
      Time to underbuffer: `+W.toFixed(3)+" s"),u.nextLoadLevel=K,O&&this.bwEstimator.sample(R,d.loaded),this.clearTimer(),c.loader&&(this.fragCurrent=this.partCurrent=null,c.loader.abort()),u.trigger(F.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:c,part:l,stats:d}))}}}}}},L.onFragLoaded=function(c,l){var u=l.frag,E=l.part;if(u.type===B.PlaylistLevelType.MAIN&&(0,I.isFiniteNumber)(u.sn)){var y=E?E.stats:u.stats,d=E?E.duration:u.duration;if(this.clearTimer(),this.lastLoadedFragLevel=u.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var f=this.hls.levels[u.level],p=(f.loaded?f.loaded.bytes:0)+y.loaded,R=(f.loaded?f.loaded.duration:0)+d;f.loaded={bytes:p,duration:R},f.realBitrate=Math.round(8*p/R)}if(u.bitrateTest){var S={stats:y,frag:u,part:E,id:u.type};this.onFragBuffered(F.Events.FRAG_BUFFERED,S)}}},L.onFragBuffered=function(c,l){var u=l.frag,E=l.part,y=E?E.stats:u.stats;if(!y.aborted&&!(u.type!==B.PlaylistLevelType.MAIN||u.sn==="initSegment")){var d=y.parsing.end-y.loading.start;this.bwEstimator.sample(d,y.loaded),y.bwEstimate=this.bwEstimator.getEstimate(),u.bitrateTest?this.bitrateTestDelay=d/1e3:this.bitrateTestDelay=0}},L.onError=function(c,l){switch(l.details){case M.ErrorDetails.FRAG_LOAD_ERROR:case M.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer();break}},L.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},L.getNextABRAutoLevel=function(){var c=this.fragCurrent,l=this.partCurrent,u=this.hls,E=u.maxAutoLevel,y=u.config,d=u.minAutoLevel,f=u.media,p=l?l.duration:c?c.duration:0;f&&f.currentTime;var R=f&&f.playbackRate!==0?Math.abs(f.playbackRate):1,S=this.bwEstimator?this.bwEstimator.getEstimate():y.abrEwmaDefaultEstimate,O=u.mainForwardBufferInfo,C=(O?O.len:0)/R,b=this.findBestLevel(S,d,E,C,y.abrBandWidthFactor,y.abrBandWidthUpFactor);if(b>=0)return b;A.logger.trace((C?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var T=p?Math.min(p,y.maxStarvationDelay):y.maxStarvationDelay,g=y.abrBandWidthFactor,k=y.abrBandWidthUpFactor;if(!C){var N=this.bitrateTestDelay;if(N){var U=p?Math.min(p,y.maxLoadingDelay):y.maxLoadingDelay;T=U-N,A.logger.trace("bitrate test took "+Math.round(1e3*N)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*T)+" ms"),g=k=1}}return b=this.findBestLevel(S,d,E,C+T,g,k),Math.max(b,0)},L.findBestLevel=function(c,l,u,E,y,d){for(var f,p=this.fragCurrent,R=this.partCurrent,S=this.lastLoadedFragLevel,O=this.hls.levels,C=O[S],b=!!(C!=null&&(f=C.details)!==null&&f!==void 0&&f.live),T=C==null?void 0:C.codecSet,g=R?R.duration:p?p.duration:0,k=u;k>=l;k--){var N=O[k];if(!(!N||T&&N.codecSet!==T)){var U=N.details,W=(R?U==null?void 0:U.partTarget:U==null?void 0:U.averagetargetduration)||g,$=void 0;k<=S?$=y*c:$=d*c;var K=O[k].maxBitrate,z=K*W/$;if(A.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+k+"/"+Math.round($)+"/"+K+"/"+W+"/"+E+"/"+z),$>K&&(z===0||!(0,I.isFiniteNumber)(z)||b&&!this.bitrateTestDelay||z<E))return k}}return-1},w(m,[{key:"nextAutoLevel",get:function(){var c=this._nextAutoLevel,l=this.bwEstimator;if(c!==-1&&!l.canEstimate())return c;var u=this.getNextABRAutoLevel();return c!==-1&&this.hls.levels[u].loadError?c:(c!==-1&&(u=Math.min(c,u)),u)},set:function(c){this._nextAutoLevel=c}}]),m}();const v=h},"./src/controller/audio-stream-controller.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>f});var I=a("./src/polyfills/number.ts"),D=a("./src/controller/base-stream-controller.ts"),F=a("./src/events.ts"),M=a("./src/utils/buffer-helper.ts"),B=a("./src/controller/fragment-tracker.ts"),A=a("./src/types/level.ts"),_=a("./src/types/loader.ts"),w=a("./src/loader/fragment.ts"),h=a("./src/demux/chunk-cache.ts"),v=a("./src/demux/transmuxer-interface.ts"),m=a("./src/types/transmuxer.ts"),L=a("./src/controller/fragment-finders.ts"),P=a("./src/utils/discontinuities.ts"),c=a("./src/errors.ts");function l(){return l=Object.assign?Object.assign.bind():function(p){for(var R=1;R<arguments.length;R++){var S=arguments[R];for(var O in S)Object.prototype.hasOwnProperty.call(S,O)&&(p[O]=S[O])}return p},l.apply(this,arguments)}function u(p,R){p.prototype=Object.create(R.prototype),p.prototype.constructor=p,E(p,R)}function E(p,R){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,C){return O.__proto__=C,O},E(p,R)}var y=100,d=function(p){u(R,p);function R(O,C){var b;return b=p.call(this,O,C,"[audio-stream-controller]")||this,b.videoBuffer=null,b.videoTrackCC=-1,b.waitingVideoCC=-1,b.audioSwitch=!1,b.trackId=-1,b.waitingData=null,b.mainDetails=null,b.bufferFlushed=!1,b.cachedTrackLoadedData=null,b._registerListeners(),b}var S=R.prototype;return S.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},S._registerListeners=function(){var C=this.hls;C.on(F.Events.MEDIA_ATTACHED,this.onMediaAttached,this),C.on(F.Events.MEDIA_DETACHING,this.onMediaDetaching,this),C.on(F.Events.MANIFEST_LOADING,this.onManifestLoading,this),C.on(F.Events.LEVEL_LOADED,this.onLevelLoaded,this),C.on(F.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),C.on(F.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),C.on(F.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),C.on(F.Events.ERROR,this.onError,this),C.on(F.Events.BUFFER_RESET,this.onBufferReset,this),C.on(F.Events.BUFFER_CREATED,this.onBufferCreated,this),C.on(F.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),C.on(F.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),C.on(F.Events.FRAG_BUFFERED,this.onFragBuffered,this)},S._unregisterListeners=function(){var C=this.hls;C.off(F.Events.MEDIA_ATTACHED,this.onMediaAttached,this),C.off(F.Events.MEDIA_DETACHING,this.onMediaDetaching,this),C.off(F.Events.MANIFEST_LOADING,this.onManifestLoading,this),C.off(F.Events.LEVEL_LOADED,this.onLevelLoaded,this),C.off(F.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),C.off(F.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),C.off(F.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),C.off(F.Events.ERROR,this.onError,this),C.off(F.Events.BUFFER_RESET,this.onBufferReset,this),C.off(F.Events.BUFFER_CREATED,this.onBufferCreated,this),C.off(F.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),C.off(F.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),C.off(F.Events.FRAG_BUFFERED,this.onFragBuffered,this)},S.onInitPtsFound=function(C,b){var T=b.frag,g=b.id,k=b.initPTS;if(g==="main"){var N=T.cc;this.initPTS[T.cc]=k,this.log("InitPTS for cc: "+N+" found from main: "+k),this.videoTrackCC=N,this.state===D.State.WAITING_INIT_PTS&&this.tick()}},S.startLoad=function(C){if(!this.levels){this.startPosition=C,this.state=D.State.STOPPED;return}var b=this.lastCurrentTime;this.stopLoad(),this.setInterval(y),this.fragLoadError=0,b>0&&C===-1?(this.log("Override startPosition with lastCurrentTime @"+b.toFixed(3)),C=b,this.state=D.State.IDLE):(this.loadedmetadata=!1,this.state=D.State.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=C,this.tick()},S.doTick=function(){switch(this.state){case D.State.IDLE:this.doTickIdle();break;case D.State.WAITING_TRACK:{var C,b=this.levels,T=this.trackId,g=b==null||(C=b[T])===null||C===void 0?void 0:C.details;if(g){if(this.waitForCdnTuneIn(g))break;this.state=D.State.WAITING_INIT_PTS}break}case D.State.FRAG_LOADING_WAITING_RETRY:{var k,N=performance.now(),U=this.retryDate;(!U||N>=U||(k=this.media)!==null&&k!==void 0&&k.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state=D.State.IDLE);break}case D.State.WAITING_INIT_PTS:{var W=this.waitingData;if(W){var $=W.frag,K=W.part,z=W.cache,j=W.complete;if(this.initPTS[$.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=D.State.FRAG_LOADING;var V=z.flush(),X={frag:$,part:K,payload:V,networkDetails:null};this._handleFragmentLoadProgress(X),j&&p.prototype._handleFragmentLoadComplete.call(this,X)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log("Waiting fragment cc ("+$.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var Q=this.getLoadPosition(),J=M.BufferHelper.bufferInfo(this.mediaBuffer,Q,this.config.maxBufferHole),te=(0,L.fragmentWithinToleranceTest)(J.end,this.config.maxFragLookUpTolerance,$);te<0&&(this.log("Waiting fragment cc ("+$.cc+") @ "+$.start+" cancelled because another fragment at "+J.end+" is needed"),this.clearWaitingFragment())}}else this.state=D.State.IDLE}}this.onTickEnd()},S.clearWaitingFragment=function(){var C=this.waitingData;C&&(this.fragmentTracker.removeFragment(C.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=D.State.IDLE)},S.resetLoadingState=function(){this.clearWaitingFragment(),p.prototype.resetLoadingState.call(this)},S.onTickEnd=function(){var C=this.media;if(!(!C||!C.readyState)){var b=this.mediaBuffer?this.mediaBuffer:C,T=b.buffered;!this.loadedmetadata&&T.length&&(this.loadedmetadata=!0),this.lastCurrentTime=C.currentTime}},S.doTickIdle=function(){var C,b,T=this.hls,g=this.levels,k=this.media,N=this.trackId,U=T.config;if(!(!g||!g[N])&&!(!k&&(this.startFragRequested||!U.startFragPrefetch))){var W=g[N],$=W.details;if(!$||$.live&&this.levelLastLoaded!==N||this.waitForCdnTuneIn($)){this.state=D.State.WAITING_TRACK;return}var K=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&K&&(this.bufferFlushed=!1,this.afterBufferFlushed(K,w.ElementaryStreamTypes.AUDIO,_.PlaylistLevelType.AUDIO));var z=this.getFwdBufferInfo(K,_.PlaylistLevelType.AUDIO);if(z!==null){var j=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,_.PlaylistLevelType.MAIN),V=z.len,X=this.getMaxBufferLength(j==null?void 0:j.len),Q=this.audioSwitch;if(!(V>=X&&!Q)){if(!Q&&this._streamEnded(z,$)){T.trigger(F.Events.BUFFER_EOS,{type:"audio"}),this.state=D.State.ENDED;return}var J=$.fragments,te=J[0].start,ne=z.end;if(Q&&k){var se=this.getLoadPosition();ne=se,$.PTSKnown&&se<te&&(z.end>te||z.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),k.currentTime=te+.05)}if(!(j&&ne>j.end+$.targetduration)&&!((!j||!j.len)&&z.len)){var oe=this.getNextFragment(ne,$);if(!oe){this.bufferFlushed=!0;return}((C=oe.decryptdata)===null||C===void 0?void 0:C.keyFormat)==="identity"&&!((b=oe.decryptdata)!==null&&b!==void 0&&b.key)?this.loadKey(oe,$):this.loadFragment(oe,$,ne)}}}}},S.getMaxBufferLength=function(C){var b=p.prototype.getMaxBufferLength.call(this);return C?Math.max(b,C):b},S.onMediaDetaching=function(){this.videoBuffer=null,p.prototype.onMediaDetaching.call(this)},S.onAudioTracksUpdated=function(C,b){var T=b.audioTracks;this.resetTransmuxer(),this.levels=T.map(function(g){return new A.Level(g)})},S.onAudioTrackSwitching=function(C,b){var T=!!b.url;this.trackId=b.id;var g=this.fragCurrent;g!=null&&g.loader&&g.loader.abort(),this.fragCurrent=null,this.clearWaitingFragment(),T?this.setInterval(y):this.resetTransmuxer(),T?(this.audioSwitch=!0,this.state=D.State.IDLE):this.state=D.State.STOPPED,this.tick()},S.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},S.onLevelLoaded=function(C,b){this.mainDetails=b.details,this.cachedTrackLoadedData!==null&&(this.hls.trigger(F.Events.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)},S.onAudioTrackLoaded=function(C,b){var T;if(this.mainDetails==null){this.cachedTrackLoadedData=b;return}var g=this.levels,k=b.details,N=b.id;if(!g){this.warn("Audio tracks were reset while loading level "+N);return}this.log("Track "+N+" loaded ["+k.startSN+","+k.endSN+"],duration:"+k.totalduration);var U=g[N],W=0;if(k.live||(T=U.details)!==null&&T!==void 0&&T.live){var $=this.mainDetails;if(k.fragments[0]||(k.deltaUpdateFailed=!0),k.deltaUpdateFailed||!$)return;!U.details&&k.hasProgramDateTime&&$.hasProgramDateTime?((0,P.alignMediaPlaylistByPDT)(k,$),W=k.fragments[0].start):W=this.alignPlaylists(k,U.details)}U.details=k,this.levelLastLoaded=N,!this.startFragRequested&&(this.mainDetails||!k.live)&&this.setStartPosition(U.details,W),this.state===D.State.WAITING_TRACK&&!this.waitForCdnTuneIn(k)&&(this.state=D.State.IDLE),this.tick()},S._handleFragmentLoadProgress=function(C){var b,T=C.frag,g=C.part,k=C.payload,N=this.config,U=this.trackId,W=this.levels;if(!W){this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+T.sn+" of level "+T.level+" will not be buffered");return}var $=W[U];console.assert($,"Audio track is defined on fragment load progress");var K=$.details;console.assert(K,"Audio track details are defined on fragment load progress");var z=N.defaultAudioCodec||$.audioCodec||"mp4a.40.2",j=this.transmuxer;j||(j=this.transmuxer=new v.default(this.hls,_.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var V=this.initPTS[T.cc],X=(b=T.initSegment)===null||b===void 0?void 0:b.data;if(V!==void 0){var Q=!1,J=g?g.index:-1,te=J!==-1,ne=new m.ChunkMetadata(T.level,T.sn,T.stats.chunkCount,k.byteLength,J,te);j.push(k,X,z,"",T,g,K.totalduration,Q,ne,V)}else{this.log("Unknown video PTS for cc "+T.cc+", waiting for video PTS before demuxing audio frag "+T.sn+" of ["+K.startSN+" ,"+K.endSN+"],track "+U);var se=this.waitingData=this.waitingData||{frag:T,part:g,cache:new h.default,complete:!1},oe=se.cache;oe.push(new Uint8Array(k)),this.waitingVideoCC=this.videoTrackCC,this.state=D.State.WAITING_INIT_PTS}},S._handleFragmentLoadComplete=function(C){if(this.waitingData){this.waitingData.complete=!0;return}p.prototype._handleFragmentLoadComplete.call(this,C)},S.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},S.onBufferCreated=function(C,b){var T=b.tracks.audio;T&&(this.mediaBuffer=T.buffer||null),b.tracks.video&&(this.videoBuffer=b.tracks.video.buffer||null)},S.onFragBuffered=function(C,b){var T=b.frag,g=b.part;if(T.type===_.PlaylistLevelType.AUDIO){if(this.fragContextChanged(T)){this.warn("Fragment "+T.sn+(g?" p: "+g.index:"")+" of level "+T.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch);return}T.sn!=="initSegment"&&(this.fragPrevious=T,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(F.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(T,g)}},S.onError=function(C,b){switch(b.details){case c.ErrorDetails.FRAG_LOAD_ERROR:case c.ErrorDetails.FRAG_LOAD_TIMEOUT:case c.ErrorDetails.KEY_LOAD_ERROR:case c.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(_.PlaylistLevelType.AUDIO,b);break;case c.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case c.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==D.State.ERROR&&this.state!==D.State.STOPPED&&(this.state=b.fatal?D.State.ERROR:D.State.IDLE,this.warn(b.details+" while loading frag, switching to "+this.state+" state"));break;case c.ErrorDetails.BUFFER_FULL_ERROR:if(b.parent==="audio"&&(this.state===D.State.PARSING||this.state===D.State.PARSED)){var T=!0,g=this.getFwdBufferInfo(this.mediaBuffer,_.PlaylistLevelType.AUDIO);g&&g.len>.5&&(T=!this.reduceMaxBufferLength(g.len)),T&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,p.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState()}break}},S.onBufferFlushed=function(C,b){var T=b.type;T===w.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0)},S._handleTransmuxComplete=function(C){var b,T="audio",g=this.hls,k=C.remuxResult,N=C.chunkMeta,U=this.getCurrentContext(N);if(!U){this.warn("The loading context changed while buffering fragment "+N.sn+" of level "+N.level+". This chunk will not be buffered."),this.resetStartWhenNotLoaded(N.level);return}var W=U.frag,$=U.part,K=U.level.details,z=k.audio,j=k.text,V=k.id3,X=k.initSegment;if(!(this.fragContextChanged(W)||!K)){if(this.state=D.State.PARSING,this.audioSwitch&&z&&this.completeAudioSwitch(),X!=null&&X.tracks&&(this._bufferInitSegment(X.tracks,W,N),g.trigger(F.Events.FRAG_PARSING_INIT_SEGMENT,{frag:W,id:T,tracks:X.tracks})),z){var Q=z.startPTS,J=z.endPTS,te=z.startDTS,ne=z.endDTS;$&&($.elementaryStreams[w.ElementaryStreamTypes.AUDIO]={startPTS:Q,endPTS:J,startDTS:te,endDTS:ne}),W.setElementaryStreamInfo(w.ElementaryStreamTypes.AUDIO,Q,J,te,ne),this.bufferFragmentData(z,W,$,N)}if(V!=null&&(b=V.samples)!==null&&b!==void 0&&b.length){var se=l({id:T,frag:W,details:K},V);g.trigger(F.Events.FRAG_PARSING_METADATA,se)}if(j){var oe=l({id:T,frag:W,details:K},j);g.trigger(F.Events.FRAG_PARSING_USERDATA,oe)}}},S._bufferInitSegment=function(C,b,T){if(this.state===D.State.PARSING){C.video&&delete C.video;var g=C.audio;if(!!g){g.levelCodec=g.codec,g.id="audio",this.log("Init audio buffer, container:"+g.container+", codecs[parsed]=["+g.codec+"]"),this.hls.trigger(F.Events.BUFFER_CODECS,C);var k=g.initSegment;if(k!=null&&k.byteLength){var N={type:"audio",frag:b,part:null,chunkMeta:T,parent:b.type,data:k};this.hls.trigger(F.Events.BUFFER_APPENDING,N)}this.tick()}}},S.loadFragment=function(C,b,T){var g=this.fragmentTracker.getState(C);this.fragCurrent=C,(this.audioSwitch||g===B.FragmentState.NOT_LOADED||g===B.FragmentState.PARTIAL)&&(C.sn==="initSegment"?this._loadInitSegment(C):b.live&&!(0,I.isFiniteNumber)(this.initPTS[C.cc])?(this.log("Waiting for video PTS in continuity counter "+C.cc+" of live stream before loading audio fragment "+C.sn+" of level "+this.trackId),this.state=D.State.WAITING_INIT_PTS):(this.startFragRequested=!0,p.prototype.loadFragment.call(this,C,b,T)))},S.completeAudioSwitch=function(){var C=this.hls,b=this.media,T=this.trackId;b&&(this.log("Switching audio track : flushing all audio"),p.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,C.trigger(F.Events.AUDIO_TRACK_SWITCHED,{id:T})},R}(D.default);const f=d},"./src/controller/audio-track-controller.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>v});var I=a("./src/events.ts"),D=a("./src/errors.ts"),F=a("./src/controller/base-playlist-controller.ts"),M=a("./src/types/loader.ts");function B(m,L){for(var P=0;P<L.length;P++){var c=L[P];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(m,c.key,c)}}function A(m,L,P){return L&&B(m.prototype,L),P&&B(m,P),Object.defineProperty(m,"prototype",{writable:!1}),m}function _(m,L){m.prototype=Object.create(L.prototype),m.prototype.constructor=m,w(m,L)}function w(m,L){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,l){return c.__proto__=l,c},w(m,L)}var h=function(m){_(L,m);function L(c){var l;return l=m.call(this,c,"[audio-track-controller]")||this,l.tracks=[],l.groupId=null,l.tracksInGroup=[],l.trackId=-1,l.trackName="",l.selectDefaultTrack=!0,l.registerListeners(),l}var P=L.prototype;return P.registerListeners=function(){var l=this.hls;l.on(I.Events.MANIFEST_LOADING,this.onManifestLoading,this),l.on(I.Events.MANIFEST_PARSED,this.onManifestParsed,this),l.on(I.Events.LEVEL_LOADING,this.onLevelLoading,this),l.on(I.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),l.on(I.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),l.on(I.Events.ERROR,this.onError,this)},P.unregisterListeners=function(){var l=this.hls;l.off(I.Events.MANIFEST_LOADING,this.onManifestLoading,this),l.off(I.Events.MANIFEST_PARSED,this.onManifestParsed,this),l.off(I.Events.LEVEL_LOADING,this.onLevelLoading,this),l.off(I.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),l.off(I.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),l.off(I.Events.ERROR,this.onError,this)},P.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,m.prototype.destroy.call(this)},P.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},P.onManifestParsed=function(l,u){this.tracks=u.audioTracks||[]},P.onAudioTrackLoaded=function(l,u){var E=u.id,y=u.details,d=this.tracksInGroup[E];if(!d){this.warn("Invalid audio track id "+E);return}var f=d.details;d.details=u.details,this.log("audioTrack "+E+" loaded ["+y.startSN+"-"+y.endSN+"]"),E===this.trackId&&(this.retryCount=0,this.playlistLoaded(E,u,f))},P.onLevelLoading=function(l,u){this.switchLevel(u.level)},P.onLevelSwitching=function(l,u){this.switchLevel(u.level)},P.switchLevel=function(l){var u=this.hls.levels[l];if(!!(u!=null&&u.audioGroupIds)){var E=u.audioGroupIds[u.urlId];if(this.groupId!==E){this.groupId=E;var y=this.tracks.filter(function(f){return!E||f.groupId===E});this.selectDefaultTrack&&!y.some(function(f){return f.default})&&(this.selectDefaultTrack=!1),this.tracksInGroup=y;var d={audioTracks:y};this.log("Updating audio tracks, "+y.length+' track(s) found in "'+E+'" group-id'),this.hls.trigger(I.Events.AUDIO_TRACKS_UPDATED,d),this.selectInitialTrack()}}},P.onError=function(l,u){m.prototype.onError.call(this,l,u),!(u.fatal||!u.context)&&u.context.type===M.PlaylistContextType.AUDIO_TRACK&&u.context.id===this.trackId&&u.context.groupId===this.groupId&&this.retryLoadingOrFail(u)},P.setAudioTrack=function(l){var u=this.tracksInGroup;if(l<0||l>=u.length){this.warn("Invalid id passed to audio-track controller");return}this.clearTimer();var E=u[this.trackId];this.log("Now switching to audio-track index "+l);var y=u[l],d=y.id,f=y.groupId,p=f===void 0?"":f,R=y.name,S=y.type,O=y.url;if(this.trackId=l,this.trackName=R,this.selectDefaultTrack=!1,this.hls.trigger(I.Events.AUDIO_TRACK_SWITCHING,{id:d,groupId:p,name:R,type:S,url:O}),!(y.details&&!y.details.live)){var C=this.switchParams(y.url,E==null?void 0:E.details);this.loadPlaylist(C)}},P.selectInitialTrack=function(){var l=this.tracksInGroup;console.assert(l.length,"Initial audio track should be selected when tracks are known");var u=this.trackName,E=this.findTrackId(u)||this.findTrackId();E!==-1?this.setAudioTrack(E):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(I.Events.ERROR,{type:D.ErrorTypes.MEDIA_ERROR,details:D.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},P.findTrackId=function(l){for(var u=this.tracksInGroup,E=0;E<u.length;E++){var y=u[E];if((!this.selectDefaultTrack||y.default)&&(!l||l===y.name))return y.id}return-1},P.loadPlaylist=function(l){var u=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(u)){var E=u.id,y=u.groupId,d=u.url;if(l)try{d=l.addDirectives(d)}catch(f){this.warn("Could not construct new URL with HLS Delivery Directives: "+f)}this.log("loading audio-track playlist for id: "+E),this.clearTimer(),this.hls.trigger(I.Events.AUDIO_TRACK_LOADING,{url:d,id:E,groupId:y,deliveryDirectives:l||null})}},A(L,[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(l){this.selectDefaultTrack=!1,this.setAudioTrack(l)}}]),L}(F.default);const v=h},"./src/controller/base-playlist-controller.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>A});var I=a("./src/polyfills/number.ts"),D=a("./src/types/level.ts"),F=a("./src/controller/level-helper.ts"),M=a("./src/utils/logger.ts"),B=a("./src/errors.ts"),A=function(){function _(h,v){this.hls=void 0,this.timer=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=M.logger.log.bind(M.logger,v+":"),this.warn=M.logger.warn.bind(M.logger,v+":"),this.hls=h}var w=_.prototype;return w.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},w.onError=function(v,m){m.fatal&&m.type===B.ErrorTypes.NETWORK_ERROR&&this.clearTimer()},w.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},w.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.loadPlaylist()},w.stopLoad=function(){this.canLoad=!1,this.clearTimer()},w.switchParams=function(v,m){var L=m==null?void 0:m.renditionReports;if(L)for(var P=0;P<L.length;P++){var c=L[P],l=""+c.URI;if(l===v.slice(-l.length)){var u=parseInt(c["LAST-MSN"]),E=parseInt(c["LAST-PART"]);if(m&&this.hls.config.lowLatencyMode){var y=Math.min(m.age-m.partTarget,m.targetduration);E!==void 0&&y>m.partTarget&&(E+=1)}if((0,I.isFiniteNumber)(u))return new D.HlsUrlParameters(u,(0,I.isFiniteNumber)(E)?E:void 0,D.HlsSkip.No)}}},w.loadPlaylist=function(v){},w.shouldLoadTrack=function(v){return this.canLoad&&v&&!!v.url&&(!v.details||v.details.live)},w.playlistLoaded=function(v,m,L){var P=this,c=m.details,l=m.stats,u=l.loading.end?Math.max(0,self.performance.now()-l.loading.end):0;if(c.advancedDateTime=Date.now()-u,c.live||L!=null&&L.live){if(c.reloaded(L),L&&this.log("live playlist "+v+" "+(c.advanced?"REFRESHED "+c.lastPartSn+"-"+c.lastPartIndex:"MISSED")),L&&c.fragments.length>0&&(0,F.mergeDetails)(L,c),!this.canLoad||!c.live)return;var E,y=void 0,d=void 0;if(c.canBlockReload&&c.endSN&&c.advanced){var f=this.hls.config.lowLatencyMode,p=c.lastPartSn,R=c.endSN,S=c.lastPartIndex,O=S!==-1,C=p===R,b=f?0:S;O?(y=C?R+1:p,d=C?b:S+1):y=R+1;var T=c.age,g=T+c.ageHeader,k=Math.min(g-c.partTarget,c.targetduration*1.5);if(k>0){if(L&&k>L.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+L.tuneInGoal+" to: "+k+" with playlist age: "+c.age),k=0;else{var N=Math.floor(k/c.targetduration);if(y+=N,d!==void 0){var U=Math.round(k%c.targetduration/c.partTarget);d+=U}this.log("CDN Tune-in age: "+c.ageHeader+"s last advanced "+T.toFixed(2)+"s goal: "+k+" skip sn "+N+" to part "+d)}c.tuneInGoal=k}if(E=this.getDeliveryDirectives(c,m.deliveryDirectives,y,d),f||!C){this.loadPlaylist(E);return}}else E=this.getDeliveryDirectives(c,m.deliveryDirectives,y,d);var W=(0,F.computeReloadInterval)(c,l);y!==void 0&&c.canBlockReload&&(W-=c.partTarget||1),this.log("reload live playlist "+v+" in "+Math.round(W)+" ms"),this.timer=self.setTimeout(function(){return P.loadPlaylist(E)},W)}else this.clearTimer()},w.getDeliveryDirectives=function(v,m,L,P){var c=(0,D.getSkipValue)(v,L);return m!=null&&m.skip&&v.deltaUpdateFailed&&(L=m.msn,P=m.part,c=D.HlsSkip.No),new D.HlsUrlParameters(L,P,c)},w.retryLoadingOrFail=function(v){var m=this,L=this.hls.config,P=this.retryCount<L.levelLoadingMaxRetry;if(P){var c;if(this.retryCount++,v.details.indexOf("LoadTimeOut")>-1&&(c=v.context)!==null&&c!==void 0&&c.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+v.details+'"'),this.loadPlaylist();else{var l=Math.min(Math.pow(2,this.retryCount)*L.levelLoadingRetryDelay,L.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout(function(){return m.loadPlaylist()},l),this.warn("retry playlist loading #"+this.retryCount+" in "+l+' ms after "'+v.details+'"')}}else this.warn('cannot recover from error "'+v.details+'"'),this.clearTimer(),v.fatal=!0;return P},_}()},"./src/controller/base-stream-controller.ts":(s,x,a)=>{a.r(x),a.d(x,{State:()=>R,default:()=>S});var I=a("./src/polyfills/number.ts"),D=a("./src/task-loop.ts"),F=a("./src/controller/fragment-tracker.ts"),M=a("./src/utils/buffer-helper.ts"),B=a("./src/utils/logger.ts"),A=a("./src/events.ts"),_=a("./src/errors.ts"),w=a("./src/types/transmuxer.ts"),h=a("./src/utils/mp4-tools.ts"),v=a("./src/utils/discontinuities.ts"),m=a("./src/controller/fragment-finders.ts"),L=a("./src/controller/level-helper.ts"),P=a("./src/loader/fragment-loader.ts"),c=a("./src/crypt/decrypter.ts"),l=a("./src/utils/time-ranges.ts"),u=a("./src/types/loader.ts");function E(O,C){for(var b=0;b<C.length;b++){var T=C[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,T.key,T)}}function y(O,C,b){return C&&E(O.prototype,C),b&&E(O,b),Object.defineProperty(O,"prototype",{writable:!1}),O}function d(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function f(O,C){O.prototype=Object.create(C.prototype),O.prototype.constructor=O,p(O,C)}function p(O,C){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,g){return T.__proto__=g,T},p(O,C)}var R={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},S=function(O){f(C,O);function C(T,g,k){var N;return N=O.call(this)||this,N.hls=void 0,N.fragPrevious=null,N.fragCurrent=null,N.fragmentTracker=void 0,N.transmuxer=null,N._state=R.STOPPED,N.media=null,N.mediaBuffer=null,N.config=void 0,N.bitrateTest=!1,N.lastCurrentTime=0,N.nextLoadPosition=0,N.startPosition=0,N.loadedmetadata=!1,N.fragLoadError=0,N.retryDate=0,N.levels=null,N.fragmentLoader=void 0,N.levelLastLoaded=null,N.startFragRequested=!1,N.decrypter=void 0,N.initPTS=[],N.onvseeking=null,N.onvended=null,N.logPrefix="",N.log=void 0,N.warn=void 0,N.logPrefix=k,N.log=B.logger.log.bind(B.logger,k+":"),N.warn=B.logger.warn.bind(B.logger,k+":"),N.hls=T,N.fragmentLoader=new P.default(T.config),N.fragmentTracker=g,N.config=T.config,N.decrypter=new c.default(T,T.config),T.on(A.Events.KEY_LOADED,N.onKeyLoaded,d(N)),T.on(A.Events.LEVEL_SWITCHING,N.onLevelSwitching,d(N)),N}var b=C.prototype;return b.doTick=function(){this.onTickEnd()},b.onTickEnd=function(){},b.startLoad=function(g){},b.stopLoad=function(){this.fragmentLoader.abort();var g=this.fragCurrent;g&&this.fragmentTracker.removeFragment(g),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=R.STOPPED},b._streamEnded=function(g,k){var N=this.fragCurrent,U=this.fragmentTracker;if(!k.live&&N&&this.media&&N.sn>=k.endSN&&!g.nextStart){var W=k.partList;if(W!=null&&W.length){var $=W[W.length-1],K=M.BufferHelper.isBuffered(this.media,$.start+$.duration/2);return K}var z=U.getState(N);return z===F.FragmentState.PARTIAL||z===F.FragmentState.OK}return!1},b.onMediaAttached=function(g,k){var N=this.media=this.mediaBuffer=k.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),N.addEventListener("seeking",this.onvseeking),N.addEventListener("ended",this.onvended);var U=this.config;this.levels&&U.autoStartLoad&&this.state===R.STOPPED&&this.startLoad(U.startPosition)},b.onMediaDetaching=function(){var g=this.media;g!=null&&g.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),g&&this.onvseeking&&this.onvended&&(g.removeEventListener("seeking",this.onvseeking),g.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},b.onMediaSeeking=function(){var g=this.config,k=this.fragCurrent,N=this.media,U=this.mediaBuffer,W=this.state,$=N?N.currentTime:0,K=M.BufferHelper.bufferInfo(U||N,$,g.maxBufferHole);if(this.log("media seeking to "+((0,I.isFiniteNumber)($)?$.toFixed(3):$)+", state: "+W),W===R.ENDED)this.resetLoadingState();else if(k&&!K.len){var z=g.maxFragLookUpTolerance,j=k.start-z,V=k.start+k.duration+z,X=$>V;($<j||X)&&(X&&k.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),k.loader.abort()),this.resetLoadingState())}N&&(this.lastCurrentTime=$),!this.loadedmetadata&&!K.len&&(this.nextLoadPosition=this.startPosition=$),this.tickImmediate()},b.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},b.onKeyLoaded=function(g,k){if(!(this.state!==R.KEY_LOADING||k.frag!==this.fragCurrent||!this.levels)){this.state=R.IDLE;var N=this.levels[k.frag.level].details;N&&this.loadFragment(k.frag,N,k.frag.start)}},b.onLevelSwitching=function(g,k){this.fragLoadError=0},b.onHandlerDestroying=function(){this.stopLoad(),O.prototype.onHandlerDestroying.call(this)},b.onHandlerDestroyed=function(){this.state=R.STOPPED,this.hls.off(A.Events.KEY_LOADED,this.onKeyLoaded,this),this.hls.off(A.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.fragmentLoader=this.fragmentTracker=null,O.prototype.onHandlerDestroyed.call(this)},b.loadKey=function(g,k){this.log("Loading key for "+g.sn+" of ["+k.startSN+"-"+k.endSN+"], "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+g.level),this.state=R.KEY_LOADING,this.fragCurrent=g,this.hls.trigger(A.Events.KEY_LOADING,{frag:g})},b.loadFragment=function(g,k,N){this._loadFragForPlayback(g,k,N)},b._loadFragForPlayback=function(g,k,N){var U=this,W=function(K){if(U.fragContextChanged(g)){U.warn("Fragment "+g.sn+(K.part?" p: "+K.part.index:"")+" of level "+g.level+" was dropped during download."),U.fragmentTracker.removeFragment(g);return}g.stats.chunkCount++,U._handleFragmentLoadProgress(K)};this._doFragLoad(g,k,N,W).then(function($){if(!!$){U.fragLoadError=0;var K=U.state;if(U.fragContextChanged(g)){(K===R.FRAG_LOADING||!U.fragCurrent&&K===R.PARSING)&&(U.fragmentTracker.removeFragment(g),U.state=R.IDLE);return}"payload"in $&&(U.log("Loaded fragment "+g.sn+" of level "+g.level),U.hls.trigger(A.Events.FRAG_LOADED,$)),U._handleFragmentLoadComplete($)}}).catch(function($){U.state===R.STOPPED||U.state===R.ERROR||(U.warn($),U.resetFragmentLoading(g))})},b.flushMainBuffer=function(g,k,N){if(N===void 0&&(N=null),!!(g-k)){var U={startOffset:g,endOffset:k,type:N};this.fragLoadError=0,this.hls.trigger(A.Events.BUFFER_FLUSHING,U)}},b._loadInitSegment=function(g){var k=this;this._doFragLoad(g).then(function(N){if(!N||k.fragContextChanged(g)||!k.levels)throw new Error("init load aborted");return N}).then(function(N){var U=k.hls,W=N.payload,$=g.decryptdata;if(W&&W.byteLength>0&&$&&$.key&&$.iv&&$.method==="AES-128"){var K=self.performance.now();return k.decrypter.webCryptoDecrypt(new Uint8Array(W),$.key.buffer,$.iv.buffer).then(function(z){var j=self.performance.now();return U.trigger(A.Events.FRAG_DECRYPTED,{frag:g,payload:z,stats:{tstart:K,tdecrypt:j}}),N.payload=z,N})}return N}).then(function(N){var U=k.fragCurrent,W=k.hls,$=k.levels;if(!$)throw new Error("init load aborted, missing levels");var K=$[g.level].details;console.assert(K,"Level details are defined when init segment is loaded");var z=g.stats;k.state=R.IDLE,k.fragLoadError=0,g.data=new Uint8Array(N.payload),z.parsing.start=z.buffering.start=self.performance.now(),z.parsing.end=z.buffering.end=self.performance.now(),N.frag===U&&W.trigger(A.Events.FRAG_BUFFERED,{stats:z,frag:U,part:null,id:g.type}),k.tick()}).catch(function(N){k.state===R.STOPPED||k.state===R.ERROR||(k.warn(N),k.resetFragmentLoading(g))})},b.fragContextChanged=function(g){var k=this.fragCurrent;return!g||!k||g.level!==k.level||g.sn!==k.sn||g.urlId!==k.urlId},b.fragBufferedComplete=function(g,k){var N,U,W=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+g.type+" sn: "+g.sn+(k?" part: "+k.index:"")+" of "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+g.level+" "+(W?l.default.toString(M.BufferHelper.getBuffered(W)):"(detached)")),this.state=R.IDLE,W&&(!this.loadedmetadata&&W.buffered.length&&((N=this.fragCurrent)===null||N===void 0?void 0:N.sn)===((U=this.fragPrevious)===null||U===void 0?void 0:U.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())},b.seekToStartPos=function(){},b._handleFragmentLoadComplete=function(g){var k=this.transmuxer;if(!!k){var N=g.frag,U=g.part,W=g.partsLoaded,$=!W||W.length===0||W.some(function(z){return!z}),K=new w.ChunkMetadata(N.level,N.sn,N.stats.chunkCount+1,0,U?U.index:-1,!$);k.flush(K)}},b._handleFragmentLoadProgress=function(g){},b._doFragLoad=function(g,k,N,U){var W=this;if(N===void 0&&(N=null),!this.levels)throw new Error("frag load aborted, missing levels");if(N=Math.max(g.start,N||0),this.config.lowLatencyMode&&k){var $=k.partList;if($&&U){N>g.end&&k.fragmentHint&&(g=k.fragmentHint);var K=this.getNextPart($,g,N);if(K>-1){var z=$[K];return this.log("Loading part sn: "+g.sn+" p: "+z.index+" cc: "+g.cc+" of playlist ["+k.startSN+"-"+k.endSN+"] parts [0-"+K+"-"+($.length-1)+"] "+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+g.level+", target: "+parseFloat(N.toFixed(3))),this.nextLoadPosition=z.start+z.duration,this.state=R.FRAG_LOADING,this.hls.trigger(A.Events.FRAG_LOADING,{frag:g,part:$[K],targetBufferTime:N}),this.doFragPartsLoad(g,$,K,U).catch(function(j){return W.handleFragLoadError(j)})}else if(!g.url||this.loadedEndOfParts($,N))return Promise.resolve(null)}}return this.log("Loading fragment "+g.sn+" cc: "+g.cc+" "+(k?"of ["+k.startSN+"-"+k.endSN+"] ":"")+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+g.level+", target: "+parseFloat(N.toFixed(3))),(0,I.isFiniteNumber)(g.sn)&&!this.bitrateTest&&(this.nextLoadPosition=g.start+g.duration),this.state=R.FRAG_LOADING,this.hls.trigger(A.Events.FRAG_LOADING,{frag:g,targetBufferTime:N}),this.fragmentLoader.load(g,U).catch(function(j){return W.handleFragLoadError(j)})},b.doFragPartsLoad=function(g,k,N,U){var W=this;return new Promise(function($,K){var z=[],j=function V(X){var Q=k[X];W.fragmentLoader.loadPart(g,Q,U).then(function(J){z[Q.index]=J;var te=J.part;W.hls.trigger(A.Events.FRAG_LOADED,J);var ne=k[X+1];if(ne&&ne.fragment===g)V(X+1);else return $({frag:g,part:te,partsLoaded:z})}).catch(K)};j(N)})},b.handleFragLoadError=function(g){var k=g.data;return k&&k.details===_.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(k.frag,k.part):this.hls.trigger(A.Events.ERROR,k),null},b._handleTransmuxerFlush=function(g){var k=this.getCurrentContext(g);if(!k||this.state!==R.PARSING){this.fragCurrent||(this.state=R.IDLE);return}var N=k.frag,U=k.part,W=k.level,$=self.performance.now();N.stats.parsing.end=$,U&&(U.stats.parsing.end=$),this.updateLevelTiming(N,U,W,g.partial)},b.getCurrentContext=function(g){var k=this.levels,N=g.level,U=g.sn,W=g.part;if(!k||!k[N])return this.warn("Levels object was unset while buffering fragment "+U+" of level "+N+". The current chunk will not be buffered."),null;var $=k[N],K=W>-1?(0,L.getPartWith)($,U,W):null,z=K?K.fragment:(0,L.getFragmentWithSN)($,U,this.fragCurrent);return z?{frag:z,part:K,level:$}:null},b.bufferFragmentData=function(g,k,N,U){if(!(!g||this.state!==R.PARSING)){var W=g.data1,$=g.data2,K=W;if(W&&$&&(K=(0,h.appendUint8Array)(W,$)),!(!K||!K.length)){var z={type:g.type,frag:k,part:N,chunkMeta:U,parent:k.type,data:K};this.hls.trigger(A.Events.BUFFER_APPENDING,z),g.dropped&&g.independent&&!N&&this.flushBufferGap(k)}}},b.flushBufferGap=function(g){var k=this.media;if(!!k){if(!M.BufferHelper.isBuffered(k,k.currentTime)){this.flushMainBuffer(0,g.start);return}var N=k.currentTime,U=M.BufferHelper.bufferInfo(k,N,0),W=g.duration,$=Math.min(this.config.maxFragLookUpTolerance*2,W*.25),K=Math.max(Math.min(g.start-$,U.end-$),N+$);g.start-K>$&&this.flushMainBuffer(K,g.start)}},b.getFwdBufferInfo=function(g,k){var N=this.config,U=this.getLoadPosition();if(!(0,I.isFiniteNumber)(U))return null;var W=M.BufferHelper.bufferInfo(g,U,N.maxBufferHole);if(W.len===0&&W.nextStart!==void 0){var $=this.fragmentTracker.getBufferedFrag(U,k);if($&&W.nextStart<$.end)return M.BufferHelper.bufferInfo(g,U,Math.max(W.nextStart,N.maxBufferHole))}return W},b.getMaxBufferLength=function(g){var k=this.config,N;return g?N=Math.max(8*k.maxBufferSize/g,k.maxBufferLength):N=k.maxBufferLength,Math.min(N,k.maxMaxBufferLength)},b.reduceMaxBufferLength=function(g){var k=this.config,N=g||k.maxBufferLength;return k.maxMaxBufferLength>=N?(k.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+k.maxMaxBufferLength+"s"),!0):!1},b.getNextFragment=function(g,k){var N=k.fragments,U=N.length;if(!U)return null;var W=this.config,$=N[0].start,K;if(k.live){var z=W.initialLiveManifestSize;if(U<z)return this.warn("Not enough fragments to start playback (have: "+U+", need: "+z+")"),null;!k.PTSKnown&&!this.startFragRequested&&this.startPosition===-1&&(K=this.getInitialLiveFragment(k,N),this.startPosition=K?this.hls.liveSyncPosition||K.start:g)}else g<=$&&(K=N[0]);if(!K){var j=W.lowLatencyMode?k.partEnd:k.fragmentEnd;K=this.getFragmentAtPosition(g,j,k)}return this.mapToInitFragWhenRequired(K)},b.mapToInitFragWhenRequired=function(g){return g!=null&&g.initSegment&&!(g!=null&&g.initSegment.data)&&!this.bitrateTest?g.initSegment:g},b.getNextPart=function(g,k,N){for(var U=-1,W=!1,$=!0,K=0,z=g.length;K<z;K++){var j=g[K];if($=$&&!j.independent,U>-1&&N<j.start)break;var V=j.loaded;!V&&(W||j.independent||$)&&j.fragment===k&&(U=K),W=V}return U},b.loadedEndOfParts=function(g,k){var N=g[g.length-1];return N&&k>N.start&&N.loaded},b.getInitialLiveFragment=function(g,k){var N=this.fragPrevious,U=null;if(N){if(g.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+N.programDateTime),U=(0,m.findFragmentByPDT)(k,N.endProgramDateTime,this.config.maxFragLookUpTolerance)),!U){var W=N.sn+1;if(W>=g.startSN&&W<=g.endSN){var $=k[W-g.startSN];N.cc===$.cc&&(U=$,this.log("Live playlist, switching playlist, load frag with next SN: "+U.sn))}U||(U=(0,m.findFragWithCC)(k,N.cc),U&&this.log("Live playlist, switching playlist, load frag with same CC: "+U.sn))}}else{var K=this.hls.liveSyncPosition;K!==null&&(U=this.getFragmentAtPosition(K,this.bitrateTest?g.fragmentEnd:g.edge,g))}return U},b.getFragmentAtPosition=function(g,k,N){var U=this.config,W=this.fragPrevious,$=N.fragments,K=N.endSN,z=N.fragmentHint,j=U.maxFragLookUpTolerance,V=!!(U.lowLatencyMode&&N.partList&&z);V&&z&&!this.bitrateTest&&($=$.concat(z),K=z.sn);var X;if(g<k){var Q=g>k-j?0:j;X=(0,m.findFragmentByPTS)(W,$,g,Q)}else X=$[$.length-1];if(X){var J=X.sn-N.startSN;if(this.fragmentTracker.getState(X)===F.FragmentState.OK&&(W=X),W&&X.sn===W.sn&&!V){var te=W&&X.level===W.level;if(te){var ne=$[J+1];X.sn<K&&this.fragmentTracker.getState(ne)!==F.FragmentState.OK?(this.log("SN "+X.sn+" just loaded, load next one: "+ne.sn),X=ne):X=null}}}return X},b.synchronizeToLiveEdge=function(g){var k=this.config,N=this.media;if(!!N){var U=this.hls.liveSyncPosition,W=N.currentTime,$=g.fragments[0].start,K=g.edge,z=W>=$-k.maxFragLookUpTolerance&&W<=K;if(U!==null&&N.duration>U&&(W<U||!z)){var j=k.liveMaxLatencyDuration!==void 0?k.liveMaxLatencyDuration:k.liveMaxLatencyDurationCount*g.targetduration;(!z&&N.readyState<4||W<K-j)&&(this.loadedmetadata||(this.nextLoadPosition=U),N.readyState&&(this.warn("Playback: "+W.toFixed(3)+" is located too far from the end of live sliding playlist: "+K+", reset currentTime to : "+U.toFixed(3)),N.currentTime=U))}}},b.alignPlaylists=function(g,k){var N=this.levels,U=this.levelLastLoaded,W=this.fragPrevious,$=U!==null?N[U]:null,K=g.fragments.length;if(!K)return this.warn("No fragments in live playlist"),0;var z=g.fragments[0].start,j=!k,V=g.alignedSliding&&(0,I.isFiniteNumber)(z);if(j||!V&&!z){(0,v.alignStream)(W,$,g);var X=g.fragments[0].start;return this.log("Live playlist sliding: "+X.toFixed(2)+" start-sn: "+(k?k.startSN:"na")+"->"+g.startSN+" prev-sn: "+(W?W.sn:"na")+" fragments: "+K),X}return z},b.waitForCdnTuneIn=function(g){var k=3;return g.live&&g.canBlockReload&&g.partTarget&&g.tuneInGoal>Math.max(g.partHoldBack,g.partTarget*k)},b.setStartPosition=function(g,k){var N=this.startPosition;if(N<k&&(N=-1),N===-1||this.lastCurrentTime===-1){var U=g.startTimeOffset;(0,I.isFiniteNumber)(U)?(N=k+U,U<0&&(N+=g.totalduration),N=Math.min(Math.max(k,N),k+g.totalduration),this.log("Start time offset "+U+" found in playlist, adjust startPosition to "+N),this.startPosition=N):g.live?N=this.hls.liveSyncPosition||k:this.startPosition=N=0,this.lastCurrentTime=N}this.nextLoadPosition=N},b.getLoadPosition=function(){var g=this.media,k=0;return this.loadedmetadata&&g?k=g.currentTime:this.nextLoadPosition&&(k=this.nextLoadPosition),k},b.handleFragLoadAborted=function(g,k){this.transmuxer&&g.sn!=="initSegment"&&g.stats.aborted&&(this.warn("Fragment "+g.sn+(k?" part"+k.index:"")+" of level "+g.level+" was aborted"),this.resetFragmentLoading(g))},b.resetFragmentLoading=function(g){(!this.fragCurrent||!this.fragContextChanged(g)&&this.state!==R.FRAG_LOADING_WAITING_RETRY)&&(this.state=R.IDLE)},b.onFragmentOrKeyLoadError=function(g,k){if(!k.fatal){var N=k.frag;if(!(!N||N.type!==g)){var U=this.fragCurrent;console.assert(U&&N.sn===U.sn&&N.level===U.level&&N.urlId===U.urlId,"Frag load error must match current frag to retry");var W=this.config;if(this.fragLoadError+1<=W.fragLoadingMaxRetry){this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition);var $=Math.min(Math.pow(2,this.fragLoadError)*W.fragLoadingRetryDelay,W.fragLoadingMaxRetryTimeout);this.warn("Fragment "+N.sn+" of "+g+" "+N.level+" failed to load, retrying in "+$+"ms"),this.retryDate=self.performance.now()+$,this.fragLoadError++,this.state=R.FRAG_LOADING_WAITING_RETRY}else k.levelRetry?(g===u.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=R.IDLE):(B.logger.error(k.details+" reaches max retry, redispatch as fatal ..."),k.fatal=!0,this.hls.stopLoad(),this.state=R.ERROR)}}},b.afterBufferFlushed=function(g,k,N){if(!!g){var U=M.BufferHelper.getBuffered(g);this.fragmentTracker.detectEvictedFragments(k,U,N),this.state===R.ENDED&&this.resetLoadingState()}},b.resetLoadingState=function(){this.fragCurrent=null,this.fragPrevious=null,this.state=R.IDLE},b.resetStartWhenNotLoaded=function(g){if(!this.loadedmetadata){this.startFragRequested=!1;var k=this.levels?this.levels[g].details:null;k!=null&&k.live?(this.startPosition=-1,this.setStartPosition(k,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}},b.updateLevelTiming=function(g,k,N,U){var W=this,$=N.details;console.assert(!!$,"level.details must be defined");var K=Object.keys(g.elementaryStreams).reduce(function(z,j){var V=g.elementaryStreams[j];if(V){var X=V.endPTS-V.startPTS;if(X<=0)return W.warn("Could not parse fragment "+g.sn+" "+j+" duration reliably ("+X+")"),z||!1;var Q=U?0:(0,L.updateFragPTSDTS)($,g,V.startPTS,V.endPTS,V.startDTS,V.endDTS);return W.hls.trigger(A.Events.LEVEL_PTS_UPDATED,{details:$,level:N,drift:Q,type:j,frag:g,start:V.startPTS,end:V.endPTS}),!0}return z},!1);K||(this.warn("Found no media in fragment "+g.sn+" of level "+N.id+" resetting transmuxer to fallback to playlist timing"),this.resetTransmuxer()),this.state=R.PARSED,this.hls.trigger(A.Events.FRAG_PARSED,{frag:g,part:k})},b.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},y(C,[{key:"state",get:function(){return this._state},set:function(g){var k=this._state;k!==g&&(this._state=g,this.log(k+"->"+g))}}]),C}(D.default)},"./src/controller/buffer-controller.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>m});var I=a("./src/polyfills/number.ts"),D=a("./src/events.ts"),F=a("./src/utils/logger.ts"),M=a("./src/errors.ts"),B=a("./src/utils/buffer-helper.ts"),A=a("./src/utils/mediasource-helper.ts"),_=a("./src/loader/fragment.ts"),w=a("./src/controller/buffer-operation-queue.ts"),h=(0,A.getMediaSource)(),v=/([ha]vc.)(?:\.[^.,]+)+/,m=function(){function L(c){var l=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var u=l.hls,E=l.media,y=l.mediaSource;F.logger.log("[buffer-controller]: Media source opened"),E&&(l.updateMediaElementDuration(),u.trigger(D.Events.MEDIA_ATTACHED,{media:E})),y&&y.removeEventListener("sourceopen",l._onMediaSourceOpen),l.checkPendingTracks()},this._onMediaSourceClose=function(){F.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){F.logger.log("[buffer-controller]: Media source ended")},this.hls=c,this._initSourceBuffer(),this.registerListeners()}var P=L.prototype;return P.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},P.destroy=function(){this.unregisterListeners(),this.details=null},P.registerListeners=function(){var l=this.hls;l.on(D.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),l.on(D.Events.MEDIA_DETACHING,this.onMediaDetaching,this),l.on(D.Events.MANIFEST_PARSED,this.onManifestParsed,this),l.on(D.Events.BUFFER_RESET,this.onBufferReset,this),l.on(D.Events.BUFFER_APPENDING,this.onBufferAppending,this),l.on(D.Events.BUFFER_CODECS,this.onBufferCodecs,this),l.on(D.Events.BUFFER_EOS,this.onBufferEos,this),l.on(D.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),l.on(D.Events.LEVEL_UPDATED,this.onLevelUpdated,this),l.on(D.Events.FRAG_PARSED,this.onFragParsed,this),l.on(D.Events.FRAG_CHANGED,this.onFragChanged,this)},P.unregisterListeners=function(){var l=this.hls;l.off(D.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),l.off(D.Events.MEDIA_DETACHING,this.onMediaDetaching,this),l.off(D.Events.MANIFEST_PARSED,this.onManifestParsed,this),l.off(D.Events.BUFFER_RESET,this.onBufferReset,this),l.off(D.Events.BUFFER_APPENDING,this.onBufferAppending,this),l.off(D.Events.BUFFER_CODECS,this.onBufferCodecs,this),l.off(D.Events.BUFFER_EOS,this.onBufferEos,this),l.off(D.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),l.off(D.Events.LEVEL_UPDATED,this.onLevelUpdated,this),l.off(D.Events.FRAG_PARSED,this.onFragParsed,this),l.off(D.Events.FRAG_CHANGED,this.onFragChanged,this)},P._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new w.default(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]}},P.onManifestParsed=function(l,u){var E=2;(u.audio&&!u.video||!u.altAudio)&&(E=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=E,this.details=null,F.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},P.onMediaAttaching=function(l,u){var E=this.media=u.media;if(E&&h){var y=this.mediaSource=new h;y.addEventListener("sourceopen",this._onMediaSourceOpen),y.addEventListener("sourceended",this._onMediaSourceEnded),y.addEventListener("sourceclose",this._onMediaSourceClose),E.src=self.URL.createObjectURL(y),this._objectUrl=E.src}},P.onMediaDetaching=function(){var l=this.media,u=this.mediaSource,E=this._objectUrl;if(u){if(F.logger.log("[buffer-controller]: media source detaching"),u.readyState==="open")try{u.endOfStream()}catch(y){F.logger.warn("[buffer-controller]: onMediaDetaching: "+y.message+" while calling endOfStream")}this.onBufferReset(),u.removeEventListener("sourceopen",this._onMediaSourceOpen),u.removeEventListener("sourceended",this._onMediaSourceEnded),u.removeEventListener("sourceclose",this._onMediaSourceClose),l&&(E&&self.URL.revokeObjectURL(E),l.src===E?(l.removeAttribute("src"),l.load()):F.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(D.Events.MEDIA_DETACHED,void 0)},P.onBufferReset=function(){var l=this;this.getSourceBufferTypes().forEach(function(u){var E=l.sourceBuffer[u];try{E&&(l.removeBufferListeners(u),l.mediaSource&&l.mediaSource.removeSourceBuffer(E),l.sourceBuffer[u]=void 0)}catch(y){F.logger.warn("[buffer-controller]: Failed to reset the "+u+" buffer",y)}}),this._initSourceBuffer()},P.onBufferCodecs=function(l,u){var E=this,y=this.getSourceBufferTypes().length;Object.keys(u).forEach(function(d){if(y){var f=E.tracks[d];if(f&&typeof f.buffer.changeType=="function"){var p=u[d],R=p.id,S=p.codec,O=p.levelCodec,C=p.container,b=p.metadata,T=(f.levelCodec||f.codec).replace(v,"$1"),g=(O||S).replace(v,"$1");if(T!==g){var k=C+";codecs="+(O||S);E.appendChangeType(d,k),F.logger.log("[buffer-controller]: switching codec "+T+" to "+g),E.tracks[d]={buffer:f.buffer,codec:S,container:C,levelCodec:O,metadata:b,id:R}}}}else E.pendingTracks[d]=u[d]}),!y&&(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks())},P.appendChangeType=function(l,u){var E=this,y=this.operationQueue,d={execute:function(){var p=E.sourceBuffer[l];p&&(F.logger.log("[buffer-controller]: changing "+l+" sourceBuffer type to "+u),p.changeType(u)),y.shiftAndExecuteNext(l)},onStart:function(){},onComplete:function(){},onError:function(p){F.logger.warn("[buffer-controller]: Failed to change "+l+" SourceBuffer type",p)}};y.append(d,l)},P.onBufferAppending=function(l,u){var E=this,y=this.hls,d=this.operationQueue,f=this.tracks,p=u.data,R=u.type,S=u.frag,O=u.part,C=u.chunkMeta,b=C.buffering[R],T=self.performance.now();b.start=T;var g=S.stats.buffering,k=O?O.stats.buffering:null;g.start===0&&(g.start=T),k&&k.start===0&&(k.start=T);var N=f.audio,U=R==="audio"&&C.id===1&&(N==null?void 0:N.container)==="audio/mpeg",W={execute:function(){if(b.executeStart=self.performance.now(),U){var K=E.sourceBuffer[R];if(K){var z=S.start-K.timestampOffset;Math.abs(z)>=.1&&(F.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+S.start+" (delta: "+z+") sn: "+S.sn+")"),K.timestampOffset=S.start)}}E.appendExecutor(p,R)},onStart:function(){},onComplete:function(){var K=self.performance.now();b.executeEnd=b.end=K,g.first===0&&(g.first=K),k&&k.first===0&&(k.first=K);var z=E.sourceBuffer,j={};for(var V in z)j[V]=B.BufferHelper.getBuffered(z[V]);E.appendError=0,E.hls.trigger(D.Events.BUFFER_APPENDED,{type:R,frag:S,part:O,chunkMeta:C,parent:S.type,timeRanges:j})},onError:function(K){F.logger.error("[buffer-controller]: Error encountered while trying to append to the "+R+" SourceBuffer",K);var z={type:M.ErrorTypes.MEDIA_ERROR,parent:S.type,details:M.ErrorDetails.BUFFER_APPEND_ERROR,err:K,fatal:!1};K.code===DOMException.QUOTA_EXCEEDED_ERR?z.details=M.ErrorDetails.BUFFER_FULL_ERROR:(E.appendError++,z.details=M.ErrorDetails.BUFFER_APPEND_ERROR,E.appendError>y.config.appendErrorMaxRetry&&(F.logger.error("[buffer-controller]: Failed "+y.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),z.fatal=!0,y.stopLoad())),y.trigger(D.Events.ERROR,z)}};d.append(W,R)},P.onBufferFlushing=function(l,u){var E=this,y=this.operationQueue,d=function(p){return{execute:E.removeExecutor.bind(E,p,u.startOffset,u.endOffset),onStart:function(){},onComplete:function(){E.hls.trigger(D.Events.BUFFER_FLUSHED,{type:p})},onError:function(S){F.logger.warn("[buffer-controller]: Failed to remove from "+p+" SourceBuffer",S)}}};u.type?y.append(d(u.type),u.type):this.getSourceBufferTypes().forEach(function(f){y.append(d(f),f)})},P.onFragParsed=function(l,u){var E=this,y=u.frag,d=u.part,f=[],p=d?d.elementaryStreams:y.elementaryStreams;p[_.ElementaryStreamTypes.AUDIOVIDEO]?f.push("audiovideo"):(p[_.ElementaryStreamTypes.AUDIO]&&f.push("audio"),p[_.ElementaryStreamTypes.VIDEO]&&f.push("video"));var R=function(){var O=self.performance.now();y.stats.buffering.end=O,d&&(d.stats.buffering.end=O);var C=d?d.stats:y.stats;E.hls.trigger(D.Events.FRAG_BUFFERED,{frag:y,part:d,stats:C,id:y.type})};f.length===0&&F.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+y.type+" level: "+y.level+" sn: "+y.sn),this.blockBuffers(R,f)},P.onFragChanged=function(l,u){this.flushBackBuffer()},P.onBufferEos=function(l,u){var E=this,y=this.getSourceBufferTypes().reduce(function(d,f){var p=E.sourceBuffer[f];return(!u.type||u.type===f)&&p&&!p.ended&&(p.ended=!0,F.logger.log("[buffer-controller]: "+f+" sourceBuffer now EOS")),d&&!!(!p||p.ended)},!0);y&&this.blockBuffers(function(){var d=E.mediaSource;!d||d.readyState!=="open"||d.endOfStream()})},P.onLevelUpdated=function(l,u){var E=u.details;!E.fragments.length||(this.details=E,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},P.flushBackBuffer=function(){var l=this.hls,u=this.details,E=this.media,y=this.sourceBuffer;if(!(!E||u===null)){var d=this.getSourceBufferTypes();if(!!d.length){var f=u.live&&l.config.liveBackBufferLength!==null?l.config.liveBackBufferLength:l.config.backBufferLength;if(!(!(0,I.isFiniteNumber)(f)||f<0)){var p=E.currentTime,R=u.levelTargetDuration,S=Math.max(f,R),O=Math.floor(p/R)*R-S;d.forEach(function(C){var b=y[C];if(b){var T=B.BufferHelper.getBuffered(b);T.length>0&&O>T.start(0)&&(l.trigger(D.Events.BACK_BUFFER_REACHED,{bufferEnd:O}),u.live&&l.trigger(D.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:O}),l.trigger(D.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:O,type:C}))}})}}}},P.updateMediaElementDuration=function(){if(!(!this.details||!this.media||!this.mediaSource||this.mediaSource.readyState!=="open")){var l=this.details,u=this.hls,E=this.media,y=this.mediaSource,d=l.fragments[0].start+l.totalduration,f=E.duration,p=(0,I.isFiniteNumber)(y.duration)?y.duration:0;l.live&&u.config.liveDurationInfinity?(F.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),y.duration=1/0,this.updateSeekableRange(l)):(d>p&&d>f||!(0,I.isFiniteNumber)(f))&&(F.logger.log("[buffer-controller]: Updating Media Source duration to "+d.toFixed(3)),y.duration=d)}},P.updateSeekableRange=function(l){var u=this.mediaSource,E=l.fragments,y=E.length;if(y&&l.live&&u!==null&&u!==void 0&&u.setLiveSeekableRange){var d=Math.max(0,E[0].start),f=Math.max(d,d+l.totalduration);u.setLiveSeekableRange(d,f)}},P.checkPendingTracks=function(){var l=this.bufferCodecEventsExpected,u=this.operationQueue,E=this.pendingTracks,y=Object.keys(E).length;if(y&&!l||y===2){this.createSourceBuffers(E),this.pendingTracks={};var d=this.getSourceBufferTypes();if(d.length===0){this.hls.trigger(D.Events.ERROR,{type:M.ErrorTypes.MEDIA_ERROR,details:M.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});return}d.forEach(function(f){u.executeNext(f)})}},P.createSourceBuffers=function(l){var u=this.sourceBuffer,E=this.mediaSource;if(!E)throw Error("createSourceBuffers called when mediaSource was null");var y=0;for(var d in l)if(!u[d]){var f=l[d];if(!f)throw Error("source buffer exists for track "+d+", however track does not");var p=f.levelCodec||f.codec,R=f.container+";codecs="+p;F.logger.log("[buffer-controller]: creating sourceBuffer("+R+")");try{var S=u[d]=E.addSourceBuffer(R),O=d;this.addBufferListener(O,"updatestart",this._onSBUpdateStart),this.addBufferListener(O,"updateend",this._onSBUpdateEnd),this.addBufferListener(O,"error",this._onSBUpdateError),this.tracks[d]={buffer:S,codec:p,container:f.container,levelCodec:f.levelCodec,metadata:f.metadata,id:f.id},y++}catch(C){F.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+C.message),this.hls.trigger(D.Events.ERROR,{type:M.ErrorTypes.MEDIA_ERROR,details:M.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:C,mimeType:R})}}y&&this.hls.trigger(D.Events.BUFFER_CREATED,{tracks:this.tracks})},P._onSBUpdateStart=function(l){var u=this.operationQueue,E=u.current(l);E.onStart()},P._onSBUpdateEnd=function(l){var u=this.operationQueue,E=u.current(l);E.onComplete(),u.shiftAndExecuteNext(l)},P._onSBUpdateError=function(l,u){F.logger.error("[buffer-controller]: "+l+" SourceBuffer error",u),this.hls.trigger(D.Events.ERROR,{type:M.ErrorTypes.MEDIA_ERROR,details:M.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var E=this.operationQueue.current(l);E&&E.onError(u)},P.removeExecutor=function(l,u,E){var y=this.media,d=this.mediaSource,f=this.operationQueue,p=this.sourceBuffer,R=p[l];if(!y||!d||!R){F.logger.warn("[buffer-controller]: Attempting to remove from the "+l+" SourceBuffer, but it does not exist"),f.shiftAndExecuteNext(l);return}var S=(0,I.isFiniteNumber)(y.duration)?y.duration:1/0,O=(0,I.isFiniteNumber)(d.duration)?d.duration:1/0,C=Math.max(0,u),b=Math.min(E,S,O);b>C?(F.logger.log("[buffer-controller]: Removing ["+C+","+b+"] from the "+l+" SourceBuffer"),console.assert(!R.updating,l+" sourceBuffer must not be updating"),R.remove(C,b)):f.shiftAndExecuteNext(l)},P.appendExecutor=function(l,u){var E=this.operationQueue,y=this.sourceBuffer,d=y[u];if(!d){F.logger.warn("[buffer-controller]: Attempting to append to the "+u+" SourceBuffer, but it does not exist"),E.shiftAndExecuteNext(u);return}d.ended=!1,console.assert(!d.updating,u+" sourceBuffer must not be updating"),d.appendBuffer(l)},P.blockBuffers=function(l,u){var E=this;if(u===void 0&&(u=this.getSourceBufferTypes()),!u.length){F.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(l);return}var y=this.operationQueue,d=u.map(function(f){return y.appendBlocker(f)});Promise.all(d).then(function(){l(),u.forEach(function(f){var p=E.sourceBuffer[f];(!p||!p.updating)&&y.shiftAndExecuteNext(f)})})},P.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},P.addBufferListener=function(l,u,E){var y=this.sourceBuffer[l];if(!!y){var d=E.bind(this,l);this.listeners[l].push({event:u,listener:d}),y.addEventListener(u,d)}},P.removeBufferListeners=function(l){var u=this.sourceBuffer[l];!u||this.listeners[l].forEach(function(E){u.removeEventListener(E.event,E.listener)})},L}()},"./src/controller/buffer-operation-queue.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>D});var I=a("./src/utils/logger.ts"),D=function(){function F(B){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=B}var M=F.prototype;return M.append=function(A,_){var w=this.queues[_];w.push(A),w.length===1&&this.buffers[_]&&this.executeNext(_)},M.insertAbort=function(A,_){var w=this.queues[_];w.unshift(A),this.executeNext(_)},M.appendBlocker=function(A){var _,w=new Promise(function(v){_=v}),h={execute:_,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(h,A),w},M.executeNext=function(A){var _=this.buffers,w=this.queues,h=_[A],v=w[A];if(v.length){var m=v[0];try{m.execute()}catch(L){I.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),m.onError(L),(!h||!h.updating)&&(v.shift(),this.executeNext(A))}}},M.shiftAndExecuteNext=function(A){this.queues[A].shift(),this.executeNext(A)},M.current=function(A){return this.queues[A][0]},F}()},"./src/controller/cap-level-controller.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>B});var I=a("./src/events.ts");function D(A,_){for(var w=0;w<_.length;w++){var h=_[w];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(A,h.key,h)}}function F(A,_,w){return _&&D(A.prototype,_),w&&D(A,w),Object.defineProperty(A,"prototype",{writable:!1}),A}var M=function(){function A(w){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=w,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var _=A.prototype;return _.setStreamController=function(h){this.streamController=h},_.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},_.registerListeners=function(){var h=this.hls;h.on(I.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),h.on(I.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),h.on(I.Events.MANIFEST_PARSED,this.onManifestParsed,this),h.on(I.Events.BUFFER_CODECS,this.onBufferCodecs,this),h.on(I.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},_.unregisterListener=function(){var h=this.hls;h.off(I.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),h.off(I.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),h.off(I.Events.MANIFEST_PARSED,this.onManifestParsed,this),h.off(I.Events.BUFFER_CODECS,this.onBufferCodecs,this),h.off(I.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},_.onFpsDropLevelCapping=function(h,v){A.isLevelAllowed(v.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(v.droppedLevel)},_.onMediaAttaching=function(h,v){this.media=v.media instanceof HTMLVideoElement?v.media:null},_.onManifestParsed=function(h,v){var m=this.hls;this.restrictedLevels=[],this.firstLevel=v.firstLevel,m.config.capLevelToPlayerSize&&v.video&&this.startCapping()},_.onBufferCodecs=function(h,v){var m=this.hls;m.config.capLevelToPlayerSize&&v.video&&this.startCapping()},_.onMediaDetaching=function(){this.stopCapping()},_.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var h=this.hls.levels;if(h.length){var v=this.hls;v.autoLevelCapping=this.getMaxLevel(h.length-1),v.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=v.autoLevelCapping}}},_.getMaxLevel=function(h){var v=this,m=this.hls.levels;if(!m.length)return-1;var L=m.filter(function(P,c){return A.isLevelAllowed(c,v.restrictedLevels)&&c<=h});return this.clientRect=null,A.getMaxLevelByMediaSize(L,this.mediaWidth,this.mediaHeight)},_.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},_.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},_.getDimensions=function(){if(this.clientRect)return this.clientRect;var h=this.media,v={width:0,height:0};if(h){var m=h.getBoundingClientRect();v.width=m.width,v.height=m.height,!v.width&&!v.height&&(v.width=m.right-m.left||h.width||0,v.height=m.bottom-m.top||h.height||0)}return this.clientRect=v,v},A.isLevelAllowed=function(h,v){return v===void 0&&(v=[]),v.indexOf(h)===-1},A.getMaxLevelByMediaSize=function(h,v,m){if(!h||!h.length)return-1;for(var L=function(E,y){return y?E.width!==y.width||E.height!==y.height:!0},P=h.length-1,c=0;c<h.length;c+=1){var l=h[c];if((l.width>=v||l.height>=m)&&L(l,h[c+1])){P=c;break}}return P},F(A,[{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var h=1;if(!this.hls.config.ignoreDevicePixelRatio)try{h=self.devicePixelRatio}catch{}return h}}]),A}();const B=M},"./src/controller/cmcd-controller.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>m});var I=a("./src/events.ts"),D=a("./src/types/cmcd.ts"),F=a("./src/utils/buffer-helper.ts"),M=a("./src/utils/logger.ts");function B(L,P){for(var c=0;c<P.length;c++){var l=P[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(L,l.key,l)}}function A(L,P,c){return P&&B(L.prototype,P),c&&B(L,c),Object.defineProperty(L,"prototype",{writable:!1}),L}function _(L,P){var c=typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(c)return(c=c.call(L)).next.bind(c);if(Array.isArray(L)||(c=w(L))||P&&L&&typeof L.length=="number"){c&&(L=c);var l=0;return function(){return l>=L.length?{done:!0}:{done:!1,value:L[l++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(L,P){if(!!L){if(typeof L=="string")return h(L,P);var c=Object.prototype.toString.call(L).slice(8,-1);if(c==="Object"&&L.constructor&&(c=L.constructor.name),c==="Map"||c==="Set")return Array.from(L);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return h(L,P)}}function h(L,P){(P==null||P>L.length)&&(P=L.length);for(var c=0,l=new Array(P);c<P;c++)l[c]=L[c];return l}function v(){return v=Object.assign?Object.assign.bind():function(L){for(var P=1;P<arguments.length;P++){var c=arguments[P];for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(L[l]=c[l])}return L},v.apply(this,arguments)}var m=function(){function L(c){var l=this;this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){l.initialized&&(l.starved=!0),l.buffering=!0},this.onPlaying=function(){l.initialized||(l.initialized=!0),l.buffering=!1},this.applyPlaylistData=function(y){try{l.apply(y,{ot:D.CMCDObjectType.MANIFEST,su:!l.initialized})}catch(d){M.logger.warn("Could not generate manifest CMCD data.",d)}},this.applyFragmentData=function(y){try{var d=y.frag,f=l.hls.levels[d.level],p=l.getObjectType(d),R={d:d.duration*1e3,ot:p};(p===D.CMCDObjectType.VIDEO||p===D.CMCDObjectType.AUDIO||p==D.CMCDObjectType.MUXED)&&(R.br=f.bitrate/1e3,R.tb=l.getTopBandwidth(p)/1e3,R.bl=l.getBufferLength(p)),l.apply(y,R)}catch(S){M.logger.warn("Could not generate segment CMCD data.",S)}},this.hls=c;var u=this.config=c.config,E=u.cmcd;E!=null&&(u.pLoader=this.createPlaylistLoader(),u.fLoader=this.createFragmentLoader(),this.sid=E.sessionId||L.uuid(),this.cid=E.contentId,this.useHeaders=E.useHeaders===!0,this.registerListeners())}var P=L.prototype;return P.registerListeners=function(){var l=this.hls;l.on(I.Events.MEDIA_ATTACHED,this.onMediaAttached,this),l.on(I.Events.MEDIA_DETACHED,this.onMediaDetached,this),l.on(I.Events.BUFFER_CREATED,this.onBufferCreated,this)},P.unregisterListeners=function(){var l=this.hls;l.off(I.Events.MEDIA_ATTACHED,this.onMediaAttached,this),l.off(I.Events.MEDIA_DETACHED,this.onMediaDetached,this),l.off(I.Events.BUFFER_CREATED,this.onBufferCreated,this),this.onMediaDetached()},P.destroy=function(){this.unregisterListeners(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null},P.onMediaAttached=function(l,u){this.media=u.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)},P.onMediaDetached=function(){!this.media||(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)},P.onBufferCreated=function(l,u){var E,y;this.audioBuffer=(E=u.tracks.audio)===null||E===void 0?void 0:E.buffer,this.videoBuffer=(y=u.tracks.video)===null||y===void 0?void 0:y.buffer},P.createData=function(){var l;return{v:D.CMCDVersion,sf:D.CMCDStreamingFormat.HLS,sid:this.sid,cid:this.cid,pr:(l=this.media)===null||l===void 0?void 0:l.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}},P.apply=function(l,u){u===void 0&&(u={}),v(u,this.createData());var E=u.ot===D.CMCDObjectType.INIT||u.ot===D.CMCDObjectType.VIDEO||u.ot===D.CMCDObjectType.MUXED;if(this.starved&&E&&(u.bs=!0,u.su=!0,this.starved=!1),u.su==null&&(u.su=this.buffering),this.useHeaders){var y=L.toHeaders(u);if(!Object.keys(y).length)return;l.headers||(l.headers={}),v(l.headers,y)}else{var d=L.toQuery(u);if(!d)return;l.url=L.appendQueryToUri(l.url,d)}},P.getObjectType=function(l){var u=l.type;if(u==="subtitle")return D.CMCDObjectType.TIMED_TEXT;if(l.sn==="initSegment")return D.CMCDObjectType.INIT;if(u==="audio")return D.CMCDObjectType.AUDIO;if(u==="main")return this.hls.audioTracks.length?D.CMCDObjectType.VIDEO:D.CMCDObjectType.MUXED},P.getTopBandwidth=function(l){var u=0,E,y=this.hls;if(l===D.CMCDObjectType.AUDIO)E=y.audioTracks;else{var d=y.maxAutoLevel,f=d>-1?d+1:y.levels.length;E=y.levels.slice(0,f)}for(var p=_(E),R;!(R=p()).done;){var S=R.value;S.bitrate>u&&(u=S.bitrate)}return u>0?u:NaN},P.getBufferLength=function(l){var u=this.hls.media,E=l===D.CMCDObjectType.AUDIO?this.audioBuffer:this.videoBuffer;if(!E||!u)return NaN;var y=F.BufferHelper.bufferInfo(E,u.currentTime,this.config.maxBufferHole);return y.len*1e3},P.createPlaylistLoader=function(){var l=this.config.pLoader,u=this.applyPlaylistData,E=l||this.config.loader;return function(){function y(f){this.loader=void 0,this.loader=new E(f)}var d=y.prototype;return d.destroy=function(){this.loader.destroy()},d.abort=function(){this.loader.abort()},d.load=function(p,R,S){u(p),this.loader.load(p,R,S)},A(y,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),y}()},P.createFragmentLoader=function(){var l=this.config.fLoader,u=this.applyFragmentData,E=l||this.config.loader;return function(){function y(f){this.loader=void 0,this.loader=new E(f)}var d=y.prototype;return d.destroy=function(){this.loader.destroy()},d.abort=function(){this.loader.abort()},d.load=function(p,R,S){u(p),this.loader.load(p,R,S)},A(y,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),y}()},L.uuid=function(){var l=URL.createObjectURL(new Blob),u=l.toString();return URL.revokeObjectURL(l),u.slice(u.lastIndexOf("/")+1)},L.serialize=function(l){for(var u=[],E=function(U){return!Number.isNaN(U)&&U!=null&&U!==""&&U!==!1},y=function(U){return Math.round(U)},d=function(U){return y(U/100)*100},f=function(U){return encodeURIComponent(U)},p={br:y,d:y,bl:d,dl:d,mtp:d,nor:f,rtp:d,tb:y},R=Object.keys(l||{}).sort(),S=_(R),O;!(O=S()).done;){var C=O.value,b=l[C];if(!!E(b)&&!(C==="v"&&b===1)&&!(C=="pr"&&b===1)){var T=p[C];T&&(b=T(b));var g=typeof b,k=void 0;C==="ot"||C==="sf"||C==="st"?k=C+"="+b:g==="boolean"?k=C:g==="number"?k=C+"="+b:k=C+"="+JSON.stringify(b),u.push(k)}}return u.join(",")},L.toHeaders=function(l){for(var u=Object.keys(l),E={},y=["Object","Request","Session","Status"],d=[{},{},{},{}],f={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},p=0,R=u;p<R.length;p++){var S=R[p],O=f[S]!=null?f[S]:1;d[O][S]=l[S]}for(var C=0;C<d.length;C++){var b=L.serialize(d[C]);b&&(E["CMCD-"+y[C]]=b)}return E},L.toQuery=function(l){return"CMCD="+encodeURIComponent(L.serialize(l))},L.appendQueryToUri=function(l,u){if(!u)return l;var E=l.includes("?")?"&":"?";return""+l+E+u},L}()},"./src/controller/eme-controller.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>m});var I=a("./src/events.ts"),D=a("./src/errors.ts"),F=a("./src/utils/logger.ts"),M=a("./src/utils/mediakeys-helper.ts");function B(L,P){for(var c=0;c<P.length;c++){var l=P[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(L,l.key,l)}}function A(L,P,c){return P&&B(L.prototype,P),c&&B(L,c),Object.defineProperty(L,"prototype",{writable:!1}),L}var _=3,w=function(P,c,l){var u={audioCapabilities:[],videoCapabilities:[]};return P.forEach(function(E){u.audioCapabilities.push({contentType:'audio/mp4; codecs="'+E+'"',robustness:l.audioRobustness||""})}),c.forEach(function(E){u.videoCapabilities.push({contentType:'video/mp4; codecs="'+E+'"',robustness:l.videoRobustness||""})}),[u]},h=function(P,c,l,u){switch(P){case M.KeySystems.WIDEVINE:return w(c,l,u);default:throw new Error("Unknown key-system: "+P)}},v=function(){function L(c){this.hls=void 0,this._widevineLicenseUrl=void 0,this._licenseXhrSetup=void 0,this._licenseResponseCallback=void 0,this._emeEnabled=void 0,this._requestMediaKeySystemAccess=void 0,this._drmSystemOptions=void 0,this._config=void 0,this._mediaKeysList=[],this._media=null,this._hasSetMediaKeys=!1,this._requestLicenseFailureCount=0,this.mediaKeysPromise=null,this._onMediaEncrypted=this.onMediaEncrypted.bind(this),this.hls=c,this._config=c.config,this._widevineLicenseUrl=this._config.widevineLicenseUrl,this._licenseXhrSetup=this._config.licenseXhrSetup,this._licenseResponseCallback=this._config.licenseResponseCallback,this._emeEnabled=this._config.emeEnabled,this._requestMediaKeySystemAccess=this._config.requestMediaKeySystemAccessFunc,this._drmSystemOptions=this._config.drmSystemOptions,this._registerListeners()}var P=L.prototype;return P.destroy=function(){this._unregisterListeners(),this.hls=this._onMediaEncrypted=null,this._requestMediaKeySystemAccess=null},P._registerListeners=function(){this.hls.on(I.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(I.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(I.Events.MANIFEST_PARSED,this.onManifestParsed,this)},P._unregisterListeners=function(){this.hls.off(I.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(I.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(I.Events.MANIFEST_PARSED,this.onManifestParsed,this)},P.getLicenseServerUrl=function(l){switch(l){case M.KeySystems.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+l+'"')},P._attemptKeySystemAccess=function(l,u,E){var y=this,d=h(l,u,E,this._drmSystemOptions);F.logger.log("Requesting encrypted media key-system access");var f=this.requestMediaKeySystemAccess(l,d);this.mediaKeysPromise=f.then(function(p){return y._onMediaKeySystemAccessObtained(l,p)}),f.catch(function(p){F.logger.error('Failed to obtain key-system "'+l+'" access:',p)})},P._onMediaKeySystemAccessObtained=function(l,u){var E=this;F.logger.log('Access for key-system "'+l+'" obtained');var y={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:u,mediaKeySystemDomain:l};this._mediaKeysList.push(y);var d=Promise.resolve().then(function(){return u.createMediaKeys()}).then(function(f){return y.mediaKeys=f,F.logger.log('Media-keys created for key-system "'+l+'"'),E._onMediaKeysCreated(),f});return d.catch(function(f){F.logger.error("Failed to create media-keys:",f)}),d},P._onMediaKeysCreated=function(){var l=this;this._mediaKeysList.forEach(function(u){u.mediaKeysSession||(u.mediaKeysSession=u.mediaKeys.createSession(),l._onNewMediaKeySession(u.mediaKeysSession))})},P._onNewMediaKeySession=function(l){var u=this;F.logger.log("New key-system session "+l.sessionId),l.addEventListener("message",function(E){u._onKeySessionMessage(l,E.message)},!1)},P._onKeySessionMessage=function(l,u){F.logger.log("Got EME message event, creating license request"),this._requestLicense(u,function(E){F.logger.log("Received license data (length: "+(E&&E.byteLength)+"), updating key-session"),l.update(E).catch(function(y){F.logger.warn("Updating key-session failed: "+y)})})},P.onMediaEncrypted=function(l){var u=this;if(F.logger.log('Media is encrypted using "'+l.initDataType+'" init data type'),!this.mediaKeysPromise){F.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),this.hls.trigger(I.Events.ERROR,{type:D.ErrorTypes.KEY_SYSTEM_ERROR,details:D.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});return}var E=function(d){!u._media||(u._attemptSetMediaKeys(d),u._generateRequestWithPreferredKeySession(l.initDataType,l.initData))};this.mediaKeysPromise.then(E).catch(E)},P._attemptSetMediaKeys=function(l){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var u=this._mediaKeysList[0];if(!u||!u.mediaKeys){F.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),this.hls.trigger(I.Events.ERROR,{type:D.ErrorTypes.KEY_SYSTEM_ERROR,details:D.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});return}F.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(u.mediaKeys),this._hasSetMediaKeys=!0}},P._generateRequestWithPreferredKeySession=function(l,u){var E=this,y=this._mediaKeysList[0];if(!y){F.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),this.hls.trigger(I.Events.ERROR,{type:D.ErrorTypes.KEY_SYSTEM_ERROR,details:D.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});return}if(y.mediaKeysSessionInitialized){F.logger.warn("Key-Session already initialized but requested again");return}var d=y.mediaKeysSession;if(!d){F.logger.error("Fatal: Media is encrypted but no key-session existing"),this.hls.trigger(I.Events.ERROR,{type:D.ErrorTypes.KEY_SYSTEM_ERROR,details:D.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0});return}if(!u){F.logger.warn("Fatal: initData required for generating a key session is null"),this.hls.trigger(I.Events.ERROR,{type:D.ErrorTypes.KEY_SYSTEM_ERROR,details:D.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});return}F.logger.log('Generating key-session request for "'+l+'" init data type'),y.mediaKeysSessionInitialized=!0,d.generateRequest(l,u).then(function(){F.logger.debug("Key-session generation succeeded")}).catch(function(f){F.logger.error("Error generating key-session request:",f),E.hls.trigger(I.Events.ERROR,{type:D.ErrorTypes.KEY_SYSTEM_ERROR,details:D.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})})},P._createLicenseXhr=function(l,u,E){var y=new XMLHttpRequest;y.responseType="arraybuffer",y.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,y,l,u,E);var d=this._licenseXhrSetup;if(d)try{d.call(this.hls,y,l),d=void 0}catch(f){F.logger.error(f)}try{y.readyState||y.open("POST",l,!0),d&&d.call(this.hls,y,l)}catch(f){throw new Error("issue setting up KeySystem license XHR "+f)}return y},P._onLicenseRequestReadyStageChange=function(l,u,E,y){switch(l.readyState){case 4:if(l.status===200){this._requestLicenseFailureCount=0,F.logger.log("License request succeeded");var d=l.response,f=this._licenseResponseCallback;if(f)try{d=f.call(this.hls,l,u)}catch(R){F.logger.error(R)}y(d)}else{if(F.logger.error("License Request XHR failed ("+u+"). Status: "+l.status+" ("+l.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>_){this.hls.trigger(I.Events.ERROR,{type:D.ErrorTypes.KEY_SYSTEM_ERROR,details:D.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});return}var p=_-this._requestLicenseFailureCount+1;F.logger.warn("Retrying license request, "+p+" attempts left"),this._requestLicense(E,y)}break}},P._generateLicenseRequestChallenge=function(l,u){switch(l.mediaKeySystemDomain){case M.KeySystems.WIDEVINE:return u}throw new Error("unsupported key-system: "+l.mediaKeySystemDomain)},P._requestLicense=function(l,u){F.logger.log("Requesting content license for key-system");var E=this._mediaKeysList[0];if(!E){F.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),this.hls.trigger(I.Events.ERROR,{type:D.ErrorTypes.KEY_SYSTEM_ERROR,details:D.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});return}try{var y=this.getLicenseServerUrl(E.mediaKeySystemDomain),d=this._createLicenseXhr(y,l,u);F.logger.log("Sending license request to URL: "+y);var f=this._generateLicenseRequestChallenge(E,l);d.send(f)}catch(p){F.logger.error("Failure requesting DRM license: "+p),this.hls.trigger(I.Events.ERROR,{type:D.ErrorTypes.KEY_SYSTEM_ERROR,details:D.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},P.onMediaAttached=function(l,u){if(!!this._emeEnabled){var E=u.media;this._media=E,E.addEventListener("encrypted",this._onMediaEncrypted)}},P.onMediaDetached=function(){var l=this._media,u=this._mediaKeysList;!l||(l.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(u.map(function(E){if(E.mediaKeysSession)return E.mediaKeysSession.close().catch(function(){})})).then(function(){return l.setMediaKeys(null)}).catch(function(){}))},P.onManifestParsed=function(l,u){if(!!this._emeEnabled){var E=u.levels.map(function(d){return d.audioCodec}).filter(function(d){return!!d}),y=u.levels.map(function(d){return d.videoCodec}).filter(function(d){return!!d});this._attemptKeySystemAccess(M.KeySystems.WIDEVINE,E,y)}},A(L,[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}]),L}();const m=v},"./src/controller/fps-controller.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>M});var I=a("./src/events.ts"),D=a("./src/utils/logger.ts"),F=function(){function B(_){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=_,this.registerListeners()}var A=B.prototype;return A.setStreamController=function(w){this.streamController=w},A.registerListeners=function(){this.hls.on(I.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},A.unregisterListeners=function(){this.hls.off(I.Events.MEDIA_ATTACHING,this.onMediaAttaching)},A.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},A.onMediaAttaching=function(w,h){var v=this.hls.config;if(v.capLevelOnFPSDrop){var m=h.media instanceof self.HTMLVideoElement?h.media:null;this.media=m,m&&typeof m.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),v.fpsDroppedMonitoringPeriod)}},A.checkFPS=function(w,h,v){var m=performance.now();if(h){if(this.lastTime){var L=m-this.lastTime,P=v-this.lastDroppedFrames,c=h-this.lastDecodedFrames,l=1e3*P/L,u=this.hls;if(u.trigger(I.Events.FPS_DROP,{currentDropped:P,currentDecoded:c,totalDroppedFrames:v}),l>0&&P>u.config.fpsDroppedMonitoringThreshold*c){var E=u.currentLevel;D.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+E),E>0&&(u.autoLevelCapping===-1||u.autoLevelCapping>=E)&&(E=E-1,u.trigger(I.Events.FPS_DROP_LEVEL_CAPPING,{level:E,droppedLevel:u.currentLevel}),u.autoLevelCapping=E,this.streamController.nextLevelSwitch())}}this.lastTime=m,this.lastDroppedFrames=v,this.lastDecodedFrames=h}},A.checkFPSInterval=function(){var w=this.media;if(w)if(this.isVideoPlaybackQualityAvailable){var h=w.getVideoPlaybackQuality();this.checkFPS(w,h.totalVideoFrames,h.droppedVideoFrames)}else this.checkFPS(w,w.webkitDecodedFrameCount,w.webkitDroppedFrameCount)},B}();const M=F},"./src/controller/fragment-finders.ts":(s,x,a)=>{a.r(x),a.d(x,{findFragWithCC:()=>_,findFragmentByPDT:()=>F,findFragmentByPTS:()=>M,fragmentWithinToleranceTest:()=>B,pdtWithinToleranceTest:()=>A});var I=a("./src/polyfills/number.ts"),D=a("./src/utils/binary-search.ts");function F(w,h,v){if(h===null||!Array.isArray(w)||!w.length||!(0,I.isFiniteNumber)(h))return null;var m=w[0].programDateTime;if(h<(m||0))return null;var L=w[w.length-1].endProgramDateTime;if(h>=(L||0))return null;v=v||0;for(var P=0;P<w.length;++P){var c=w[P];if(A(h,v,c))return c}return null}function M(w,h,v,m){v===void 0&&(v=0),m===void 0&&(m=0);var L=null;if(w?L=h[w.sn-h[0].sn+1]||null:v===0&&h[0].start===0&&(L=h[0]),L&&B(v,m,L)===0)return L;var P=D.default.search(h,B.bind(null,v,m));return P||L}function B(w,h,v){w===void 0&&(w=0),h===void 0&&(h=0);var m=Math.min(h,v.duration+(v.deltaPTS?v.deltaPTS:0));return v.start+v.duration-m<=w?1:v.start-m>w&&v.start?-1:0}function A(w,h,v){var m=Math.min(h,v.duration+(v.deltaPTS?v.deltaPTS:0))*1e3,L=v.endProgramDateTime||0;return L-m>w}function _(w,h){return D.default.search(w,function(v){return v.cc<h?1:v.cc>h?-1:0})}},"./src/controller/fragment-tracker.ts":(s,x,a)=>{a.r(x),a.d(x,{FragmentState:()=>F,FragmentTracker:()=>M});var I=a("./src/events.ts"),D=a("./src/types/loader.ts"),F;(function(_){_.NOT_LOADED="NOT_LOADED",_.APPENDING="APPENDING",_.PARTIAL="PARTIAL",_.OK="OK"})(F||(F={}));var M=function(){function _(h){this.activeFragment=null,this.activeParts=null,this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=h,this._registerListeners()}var w=_.prototype;return w._registerListeners=function(){var v=this.hls;v.on(I.Events.BUFFER_APPENDED,this.onBufferAppended,this),v.on(I.Events.FRAG_BUFFERED,this.onFragBuffered,this),v.on(I.Events.FRAG_LOADED,this.onFragLoaded,this)},w._unregisterListeners=function(){var v=this.hls;v.off(I.Events.BUFFER_APPENDED,this.onBufferAppended,this),v.off(I.Events.FRAG_BUFFERED,this.onFragBuffered,this),v.off(I.Events.FRAG_LOADED,this.onFragLoaded,this)},w.destroy=function(){this._unregisterListeners(),this.fragments=this.timeRanges=null},w.getAppendedFrag=function(v,m){if(m===D.PlaylistLevelType.MAIN){var L=this.activeFragment,P=this.activeParts;if(!L)return null;if(P)for(var c=P.length;c--;){var l=P[c],u=l?l.end:L.appendedPTS;if(l.start<=v&&u!==void 0&&v<=u)return c>9&&(this.activeParts=P.slice(c-9)),l}else if(L.start<=v&&L.appendedPTS!==void 0&&v<=L.appendedPTS)return L}return this.getBufferedFrag(v,m)},w.getBufferedFrag=function(v,m){for(var L=this.fragments,P=Object.keys(L),c=P.length;c--;){var l=L[P[c]];if((l==null?void 0:l.body.type)===m&&l.buffered){var u=l.body;if(u.start<=v&&v<=u.end)return u}}return null},w.detectEvictedFragments=function(v,m,L){var P=this;Object.keys(this.fragments).forEach(function(c){var l=P.fragments[c];if(!!l){if(!l.buffered){l.body.type===L&&P.removeFragment(l.body);return}var u=l.range[v];!u||u.time.some(function(E){var y=!P.isTimeBuffered(E.startPTS,E.endPTS,m);return y&&P.removeFragment(l.body),y})}})},w.detectPartialFragments=function(v){var m=this,L=this.timeRanges,P=v.frag,c=v.part;if(!(!L||P.sn==="initSegment")){var l=A(P),u=this.fragments[l];!u||(Object.keys(L).forEach(function(E){var y=P.elementaryStreams[E];if(!!y){var d=L[E],f=c!==null||y.partial===!0;u.range[E]=m.getBufferedTimes(P,c,f,d)}}),u.loaded=null,Object.keys(u.range).length?u.buffered=!0:this.removeFragment(u.body))}},w.fragBuffered=function(v){var m=A(v),L=this.fragments[m];L&&(L.loaded=null,L.buffered=!0)},w.getBufferedTimes=function(v,m,L,P){for(var c={time:[],partial:L},l=m?m.start:v.start,u=m?m.end:v.end,E=v.minEndPTS||u,y=v.maxStartPTS||l,d=0;d<P.length;d++){var f=P.start(d)-this.bufferPadding,p=P.end(d)+this.bufferPadding;if(y>=f&&E<=p){c.time.push({startPTS:Math.max(l,P.start(d)),endPTS:Math.min(u,P.end(d))});break}else if(l<p&&u>f)c.partial=!0,c.time.push({startPTS:Math.max(l,P.start(d)),endPTS:Math.min(u,P.end(d))});else if(u<=f)break}return c},w.getPartialFragment=function(v){var m=null,L,P,c,l=0,u=this.bufferPadding,E=this.fragments;return Object.keys(E).forEach(function(y){var d=E[y];!d||B(d)&&(P=d.body.start-u,c=d.body.end+u,v>=P&&v<=c&&(L=Math.min(v-P,c-v),l<=L&&(m=d.body,l=L)))}),m},w.getState=function(v){var m=A(v),L=this.fragments[m];return L?L.buffered?B(L)?F.PARTIAL:F.OK:F.APPENDING:F.NOT_LOADED},w.isTimeBuffered=function(v,m,L){for(var P,c,l=0;l<L.length;l++){if(P=L.start(l)-this.bufferPadding,c=L.end(l)+this.bufferPadding,v>=P&&m<=c)return!0;if(m<=P)return!1}return!1},w.onFragLoaded=function(v,m){var L=m.frag,P=m.part;if(!(L.sn==="initSegment"||L.bitrateTest||P)){var c=A(L);this.fragments[c]={body:L,loaded:m,buffered:!1,range:Object.create(null)}}},w.onBufferAppended=function(v,m){var L=this,P=m.frag,c=m.part,l=m.timeRanges;if(P.type===D.PlaylistLevelType.MAIN)if(this.activeFragment=P,c){var u=this.activeParts;u||(this.activeParts=u=[]),u.push(c)}else this.activeParts=null;this.timeRanges=l,Object.keys(l).forEach(function(E){var y=l[E];if(L.detectEvictedFragments(E,y),!c)for(var d=0;d<y.length;d++)P.appendedPTS=Math.max(y.end(d),P.appendedPTS||0)})},w.onFragBuffered=function(v,m){this.detectPartialFragments(m)},w.hasFragment=function(v){var m=A(v);return!!this.fragments[m]},w.removeFragmentsInRange=function(v,m,L){var P=this;Object.keys(this.fragments).forEach(function(c){var l=P.fragments[c];if(!!l&&l.buffered){var u=l.body;u.type===L&&u.start<m&&u.end>v&&P.removeFragment(u)}})},w.removeFragment=function(v){var m=A(v);v.stats.loaded=0,v.clearElementaryStreamInfo(),delete this.fragments[m]},w.removeAllFragments=function(){this.fragments=Object.create(null),this.activeFragment=null,this.activeParts=null},_}();function B(_){var w,h;return _.buffered&&(((w=_.range.video)===null||w===void 0?void 0:w.partial)||((h=_.range.audio)===null||h===void 0?void 0:h.partial))}function A(_){return _.type+"_"+_.level+"_"+_.urlId+"_"+_.sn}},"./src/controller/gap-controller.ts":(s,x,a)=>{a.r(x),a.d(x,{MAX_START_GAP_JUMP:()=>A,SKIP_BUFFER_HOLE_STEP_SECONDS:()=>_,SKIP_BUFFER_RANGE_START:()=>w,STALL_MINIMUM_DURATION_MS:()=>B,default:()=>h});var I=a("./src/utils/buffer-helper.ts"),D=a("./src/errors.ts"),F=a("./src/events.ts"),M=a("./src/utils/logger.ts"),B=250,A=2,_=.1,w=.05,h=function(){function v(L,P,c,l){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=L,this.media=P,this.fragmentTracker=c,this.hls=l}var m=v.prototype;return m.destroy=function(){this.media=null,this.hls=this.fragmentTracker=null},m.poll=function(P,c){var l=this.config,u=this.media,E=this.stalled;if(u!==null){var y=u.currentTime,d=u.seeking,f=this.seeking&&!d,p=!this.seeking&&d;if(this.seeking=d,y!==P){if(this.moved=!0,E!==null){if(this.stallReported){var R=self.performance.now()-E;M.logger.warn("playback not stuck anymore @"+y+", after "+Math.round(R)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}return}if((p||f)&&(this.stalled=null),!(u.paused&&!d||u.ended||u.playbackRate===0||!I.BufferHelper.getBuffered(u).length)){var S=I.BufferHelper.bufferInfo(u,y,0),O=S.len>0,C=S.nextStart||0;if(!(!O&&!C)){if(d){var b=S.len>A,T=!C||c&&c.start<=y||C-y>A&&!this.fragmentTracker.getPartialFragment(y);if(b||T)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var g,k=Math.max(C,S.start||0)-y,N=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,U=N==null||(g=N.details)===null||g===void 0?void 0:g.live,W=U?N.details.targetduration*2:A;if(k>0&&k<=W){this._trySkipBufferHole(null);return}}var $=self.performance.now();if(E===null){this.stalled=$;return}var K=$-E;if(!(!d&&K>=B&&(this._reportStall(S),!this.media))){var z=I.BufferHelper.bufferInfo(u,y,l.maxBufferHole);this._tryFixBufferStall(z,K)}}}}},m._tryFixBufferStall=function(P,c){var l=this.config,u=this.fragmentTracker,E=this.media;if(E!==null){var y=E.currentTime,d=u.getPartialFragment(y);if(d){var f=this._trySkipBufferHole(d);if(f||!this.media)return}P.len>l.maxBufferHole&&c>l.highBufferWatchdogPeriod*1e3&&(M.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}},m._reportStall=function(P){var c=this.hls,l=this.media,u=this.stallReported;!u&&l&&(this.stallReported=!0,M.logger.warn("Playback stalling at @"+l.currentTime+" due to low buffer ("+JSON.stringify(P)+")"),c.trigger(F.Events.ERROR,{type:D.ErrorTypes.MEDIA_ERROR,details:D.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:P.len}))},m._trySkipBufferHole=function(P){var c=this.config,l=this.hls,u=this.media;if(u===null)return 0;for(var E=u.currentTime,y=0,d=I.BufferHelper.getBuffered(u),f=0;f<d.length;f++){var p=d.start(f);if(E+c.maxBufferHole>=y&&E<p){var R=Math.max(p+w,u.currentTime+_);return M.logger.warn("skipping hole, adjusting currentTime from "+E+" to "+R),this.moved=!0,this.stalled=null,u.currentTime=R,P&&l.trigger(F.Events.ERROR,{type:D.ErrorTypes.MEDIA_ERROR,details:D.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+E+" to "+R,frag:P}),R}y=d.end(f)}return 0},m._tryNudgeBuffer=function(){var P=this.config,c=this.hls,l=this.media,u=this.nudgeRetry;if(l!==null){var E=l.currentTime;if(this.nudgeRetry++,u<P.nudgeMaxRetry){var y=E+(u+1)*P.nudgeOffset;M.logger.warn("Nudging 'currentTime' from "+E+" to "+y),l.currentTime=y,c.trigger(F.Events.ERROR,{type:D.ErrorTypes.MEDIA_ERROR,details:D.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else M.logger.error("Playhead still not moving while enough data buffered @"+E+" after "+P.nudgeMaxRetry+" nudges"),c.trigger(F.Events.ERROR,{type:D.ErrorTypes.MEDIA_ERROR,details:D.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})}},v}()},"./src/controller/id3-track-controller.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>P});var I=a("./src/polyfills/number.ts"),D=a("./src/events.ts"),F=a("./src/utils/texttrack-utils.ts"),M=a("./src/demux/id3.ts"),B=a("./src/loader/date-range.ts"),A=a("./src/types/demuxer.ts"),_=.25;function w(){return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}var h=function(){var c=w();try{new c(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY}();function v(c,l){return c.getTime()/1e3-l}function m(c){return Uint8Array.from(c.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}var L=function(){function c(u){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=u,this._registerListeners()}var l=c.prototype;return l.destroy=function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null},l._registerListeners=function(){var E=this.hls;E.on(D.Events.MEDIA_ATTACHED,this.onMediaAttached,this),E.on(D.Events.MEDIA_DETACHING,this.onMediaDetaching,this),E.on(D.Events.MANIFEST_LOADING,this.onManifestLoading,this),E.on(D.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),E.on(D.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),E.on(D.Events.LEVEL_UPDATED,this.onLevelUpdated,this)},l._unregisterListeners=function(){var E=this.hls;E.off(D.Events.MEDIA_ATTACHED,this.onMediaAttached,this),E.off(D.Events.MEDIA_DETACHING,this.onMediaDetaching,this),E.off(D.Events.MANIFEST_LOADING,this.onManifestLoading,this),E.off(D.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),E.off(D.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),E.off(D.Events.LEVEL_UPDATED,this.onLevelUpdated,this)},l.onMediaAttached=function(E,y){this.media=y.media},l.onMediaDetaching=function(){!this.id3Track||((0,F.clearCurrentCues)(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})},l.onManifestLoading=function(){this.dateRangeCuesAppended={}},l.createTrack=function(E){var y=this.getID3Track(E.textTracks);return y.mode="hidden",y},l.getID3Track=function(E){if(!!this.media){for(var y=0;y<E.length;y++){var d=E[y];if(d.kind==="metadata"&&d.label==="id3")return(0,F.sendAddTrackEvent)(d,this.media),d}return this.media.addTextTrack("metadata","id3")}},l.onFragParsingMetadata=function(E,y){if(!!this.media){var d=this.hls.config,f=d.enableEmsgMetadataCues,p=d.enableID3MetadataCues;if(!(!f&&!p)){y.frag;var R=y.samples;y.details,this.id3Track||(this.id3Track=this.createTrack(this.media));for(var S=w(),O=0;O<R.length;O++){var C=R[O].type;if(!(C===A.MetadataSchema.emsg&&!f||!p)){var b=M.getID3Frames(R[O].data);if(b){var T=R[O].pts,g=T+R[O].duration;g>h&&(g=h);var k=g-T;k<=0&&(g=T+_);for(var N=0;N<b.length;N++){var U=b[N];if(!M.isTimeStampFrame(U)){this.updateId3CueEnds(T);var W=new S(T,g,"");W.value=U,C&&(W.type=C),this.id3Track.addCue(W)}}}}}}}},l.updateId3CueEnds=function(E){var y,d=(y=this.id3Track)===null||y===void 0?void 0:y.cues;if(d)for(var f=d.length;f--;){var p=d[f];p.startTime<E&&p.endTime===h&&(p.endTime=E)}},l.onBufferFlushing=function(E,y){var d=y.startOffset,f=y.endOffset,p=y.type,R=this.id3Track,S=this.hls;if(!!S){var O=S.config,C=O.enableEmsgMetadataCues,b=O.enableID3MetadataCues;if(R&&(C||b)){var T;p==="audio"?T=function(k){return k.type===A.MetadataSchema.audioId3&&b}:p==="video"?T=function(k){return k.type===A.MetadataSchema.emsg&&C}:T=function(k){return k.type===A.MetadataSchema.audioId3&&b||k.type===A.MetadataSchema.emsg&&C},(0,F.removeCuesInRange)(R,d,f,T)}}},l.onLevelUpdated=function(E,y){var d=this,f=y.details;if(!(!this.media||!f.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)){var p=this.dateRangeCuesAppended,R=this.id3Track,S=f.dateRanges,O=Object.keys(S);if(R)for(var C=Object.keys(p).filter(function($){return!O.includes($)}),b=function(K){var z=C[K];Object.keys(p[z].cues).forEach(function(j){R.removeCue(p[z].cues[j])}),delete p[z]},T=C.length;T--;)b(T);var g=f.fragments[f.fragments.length-1];if(!(O.length===0||!(0,I.isFiniteNumber)(g==null?void 0:g.programDateTime))){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var k=g.programDateTime/1e3-g.start,N=w(),U=function(K){var z=O[K],j=S[z],V=p[z],X=(V==null?void 0:V.cues)||{},Q=(V==null?void 0:V.durationKnown)||!1,J=v(j.startDate,k),te=h,ne=j.endDate;if(ne)te=v(ne,k),Q=!0;else if(j.endOnNext&&!Q){var se=O.reduce(function(ge,me){var xe=S[me];return xe.class===j.class&&xe.id!==me&&xe.startDate>j.startDate&&ge.push(xe),ge},[]).sort(function(ge,me){return ge.startDate.getTime()-me.startDate.getTime()})[0];se&&(te=v(se.startDate,k),Q=!0)}for(var oe=Object.keys(j.attr),pe=0;pe<oe.length;pe++){var ue=oe[pe];if(!(ue===B.DateRangeAttribute.ID||ue===B.DateRangeAttribute.CLASS||ue===B.DateRangeAttribute.START_DATE||ue===B.DateRangeAttribute.DURATION||ue===B.DateRangeAttribute.END_DATE||ue===B.DateRangeAttribute.END_ON_NEXT)){var ie=X[ue];if(ie)Q&&!V.durationKnown&&(ie.endTime=te);else{var ce=j.attr[ue];ie=new N(J,te,""),(ue===B.DateRangeAttribute.SCTE35_OUT||ue===B.DateRangeAttribute.SCTE35_IN)&&(ce=m(ce)),ie.value={key:ue,data:ce},ie.type=A.MetadataSchema.dateRange,d.id3Track.addCue(ie),X[ue]=ie}}}p[z]={cues:X,dateRange:j,durationKnown:Q}},W=0;W<O.length;W++)U(W)}}},c}();const P=L},"./src/controller/latency-controller.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>A});var I=a("./src/errors.ts"),D=a("./src/events.ts"),F=a("./src/utils/logger.ts");function M(_,w){for(var h=0;h<w.length;h++){var v=w[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(_,v.key,v)}}function B(_,w,h){return w&&M(_.prototype,w),h&&M(_,h),Object.defineProperty(_,"prototype",{writable:!1}),_}var A=function(){function _(h){var v=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return v.timeupdate()},this.hls=h,this.config=h.config,this.registerListeners()}var w=_.prototype;return w.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},w.registerListeners=function(){this.hls.on(D.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(D.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(D.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(D.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(D.Events.ERROR,this.onError,this)},w.unregisterListeners=function(){this.hls.off(D.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(D.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(D.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(D.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(D.Events.ERROR,this.onError)},w.onMediaAttached=function(v,m){this.media=m.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},w.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},w.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},w.onLevelUpdated=function(v,m){var L=m.details;this.levelDetails=L,L.advanced&&this.timeupdate(),!L.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},w.onError=function(v,m){m.details===I.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,F.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},w.timeupdate=function(){var v=this.media,m=this.levelDetails;if(!(!v||!m)){this.currentTime=v.currentTime;var L=this.computeLatency();if(L!==null){this._latency=L;var P=this.config,c=P.lowLatencyMode,l=P.maxLiveSyncPlaybackRate;if(!(!c||l===1)){var u=this.targetLatency;if(u!==null){var E=L-u,y=Math.min(this.maxLatency,u+m.targetduration),d=E<y;if(m.live&&d&&E>.05&&this.forwardBufferLength>1){var f=Math.min(2,Math.max(1,l)),p=Math.round(2/(1+Math.exp(-.75*E-this.edgeStalled))*20)/20;v.playbackRate=Math.min(f,Math.max(1,p))}else v.playbackRate!==1&&v.playbackRate!==0&&(v.playbackRate=1)}}}}},w.estimateLiveEdge=function(){var v=this.levelDetails;return v===null?null:v.edge+v.age},w.computeLatency=function(){var v=this.estimateLiveEdge();return v===null?null:v-this.currentTime},B(_,[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var v=this.config,m=this.levelDetails;return v.liveMaxLatencyDuration!==void 0?v.liveMaxLatencyDuration:m?v.liveMaxLatencyDurationCount*m.targetduration:0}},{key:"targetLatency",get:function(){var v=this.levelDetails;if(v===null)return null;var m=v.holdBack,L=v.partHoldBack,P=v.targetduration,c=this.config,l=c.liveSyncDuration,u=c.liveSyncDurationCount,E=c.lowLatencyMode,y=this.hls.userConfig,d=E&&L||m;(y.liveSyncDuration||y.liveSyncDurationCount||d===0)&&(d=l!==void 0?l:u*P);var f=P,p=1;return d+Math.min(this.stallCount*p,f)}},{key:"liveSyncPosition",get:function(){var v=this.estimateLiveEdge(),m=this.targetLatency,L=this.levelDetails;if(v===null||m===null||L===null)return null;var P=L.edge,c=v-m-this.edgeStalled,l=P-L.totalduration,u=P-(this.config.lowLatencyMode&&L.partTarget||L.targetduration);return Math.min(Math.max(l,c),u)}},{key:"drift",get:function(){var v=this.levelDetails;return v===null?1:v.drift}},{key:"edgeStalled",get:function(){var v=this.levelDetails;if(v===null)return 0;var m=(this.config.lowLatencyMode&&v.partTarget||v.targetduration)*3;return Math.max(v.age-m,0)}},{key:"forwardBufferLength",get:function(){var v=this.media,m=this.levelDetails;if(!v||!m)return 0;var L=v.buffered.length;return(L?v.buffered.end(L-1):m.edge)-this.currentTime}}]),_}()},"./src/controller/level-controller.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>c});var I=a("./src/types/level.ts"),D=a("./src/events.ts"),F=a("./src/errors.ts"),M=a("./src/utils/codecs.ts"),B=a("./src/controller/level-helper.ts"),A=a("./src/controller/base-playlist-controller.ts"),_=a("./src/types/loader.ts");function w(){return w=Object.assign?Object.assign.bind():function(l){for(var u=1;u<arguments.length;u++){var E=arguments[u];for(var y in E)Object.prototype.hasOwnProperty.call(E,y)&&(l[y]=E[y])}return l},w.apply(this,arguments)}function h(l,u){for(var E=0;E<u.length;E++){var y=u[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(l,y.key,y)}}function v(l,u,E){return u&&h(l.prototype,u),E&&h(l,E),Object.defineProperty(l,"prototype",{writable:!1}),l}function m(l,u){l.prototype=Object.create(u.prototype),l.prototype.constructor=l,L(l,u)}function L(l,u){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,d){return y.__proto__=d,y},L(l,u)}var P=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),c=function(l){m(u,l);function u(y){var d;return d=l.call(this,y,"[level-controller]")||this,d._levels=[],d._firstLevel=-1,d._startLevel=void 0,d.currentLevelIndex=-1,d.manualLevelIndex=-1,d.onParsedComplete=void 0,d._registerListeners(),d}var E=u.prototype;return E._registerListeners=function(){var d=this.hls;d.on(D.Events.MANIFEST_LOADED,this.onManifestLoaded,this),d.on(D.Events.LEVEL_LOADED,this.onLevelLoaded,this),d.on(D.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),d.on(D.Events.FRAG_LOADED,this.onFragLoaded,this),d.on(D.Events.ERROR,this.onError,this)},E._unregisterListeners=function(){var d=this.hls;d.off(D.Events.MANIFEST_LOADED,this.onManifestLoaded,this),d.off(D.Events.LEVEL_LOADED,this.onLevelLoaded,this),d.off(D.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),d.off(D.Events.FRAG_LOADED,this.onFragLoaded,this),d.off(D.Events.ERROR,this.onError,this)},E.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,l.prototype.destroy.call(this)},E.startLoad=function(){var d=this._levels;d.forEach(function(f){f.loadError=0}),l.prototype.startLoad.call(this)},E.onManifestLoaded=function(d,f){var p=[],R=[],S=[],O,C={},b,T=!1,g=!1,k=!1;if(f.levels.forEach(function($){var K=$.attrs;T=T||!!($.width&&$.height),g=g||!!$.videoCodec,k=k||!!$.audioCodec,P&&$.audioCodec&&$.audioCodec.indexOf("mp4a.40.34")!==-1&&($.audioCodec=void 0);var z=$.bitrate+"-"+$.attrs.RESOLUTION+"-"+$.attrs.CODECS;b=C[z],b?b.url.push($.url):(b=new I.Level($),C[z]=b,p.push(b)),K&&(K.AUDIO&&(0,B.addGroupId)(b,"audio",K.AUDIO),K.SUBTITLES&&(0,B.addGroupId)(b,"text",K.SUBTITLES))}),(T||g)&&k&&(p=p.filter(function($){var K=$.videoCodec,z=$.width,j=$.height;return!!K||!!(z&&j)})),p=p.filter(function($){var K=$.audioCodec,z=$.videoCodec;return(!K||(0,M.isCodecSupportedInMp4)(K,"audio"))&&(!z||(0,M.isCodecSupportedInMp4)(z,"video"))}),f.audioTracks&&(R=f.audioTracks.filter(function($){return!$.audioCodec||(0,M.isCodecSupportedInMp4)($.audioCodec,"audio")}),(0,B.assignTrackIdsByGroup)(R)),f.subtitles&&(S=f.subtitles,(0,B.assignTrackIdsByGroup)(S)),p.length>0){O=p[0].bitrate,p.sort(function($,K){return $.bitrate-K.bitrate}),this._levels=p;for(var N=0;N<p.length;N++)if(p[N].bitrate===O){this._firstLevel=N,this.log("manifest loaded, "+p.length+" level(s) found, first bitrate: "+O);break}var U=k&&!g,W={levels:p,audioTracks:R,subtitleTracks:S,firstLevel:this._firstLevel,stats:f.stats,audio:k,video:g,altAudio:!U&&R.some(function($){return!!$.url})};this.hls.trigger(D.Events.MANIFEST_PARSED,W),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(D.Events.ERROR,{type:F.ErrorTypes.MEDIA_ERROR,details:F.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:f.url,reason:"no level with compatible codecs found in manifest"})},E.onError=function(d,f){var p;if(l.prototype.onError.call(this,d,f),!f.fatal){var R=f.context,S=this._levels[this.currentLevelIndex];if(R&&(R.type===_.PlaylistContextType.AUDIO_TRACK&&S.audioGroupIds&&R.groupId===S.audioGroupIds[S.urlId]||R.type===_.PlaylistContextType.SUBTITLE_TRACK&&S.textGroupIds&&R.groupId===S.textGroupIds[S.urlId])){this.redundantFailover(this.currentLevelIndex);return}var O=!1,C=!0,b;switch(f.details){case F.ErrorDetails.FRAG_LOAD_ERROR:case F.ErrorDetails.FRAG_LOAD_TIMEOUT:case F.ErrorDetails.KEY_LOAD_ERROR:case F.ErrorDetails.KEY_LOAD_TIMEOUT:if(f.frag){var T=f.frag.type===_.PlaylistLevelType.MAIN?f.frag.level:this.currentLevelIndex,g=this._levels[T];g?(g.fragmentError++,g.fragmentError>this.hls.config.fragLoadingMaxRetry&&(b=T)):b=T}break;case F.ErrorDetails.LEVEL_LOAD_ERROR:case F.ErrorDetails.LEVEL_LOAD_TIMEOUT:R&&(R.deliveryDirectives&&(C=!1),b=R.level),O=!0;break;case F.ErrorDetails.REMUX_ALLOC_ERROR:b=(p=f.level)!=null?p:this.currentLevelIndex,O=!0;break}b!==void 0&&this.recoverLevel(f,b,O,C)}},E.recoverLevel=function(d,f,p,R){var S=d.details,O=this._levels[f];if(O.loadError++,p){var C=this.retryLoadingOrFail(d);if(C)d.levelRetry=!0;else{this.currentLevelIndex=-1;return}}if(R){var b=O.url.length;if(b>1&&O.loadError<b)d.levelRetry=!0,this.redundantFailover(f);else if(this.manualLevelIndex===-1){for(var T=-1,g=this._levels,k=g.length;k--;){var N=(k+this.currentLevelIndex)%g.length;if(N!==this.currentLevelIndex&&g[N].loadError===0){T=N;break}}T>-1&&this.currentLevelIndex!==T&&(this.warn(S+": switch to "+T),d.levelRetry=!0,this.hls.nextAutoLevel=T)}}},E.redundantFailover=function(d){var f=this._levels[d],p=f.url.length;if(p>1){var R=(f.urlId+1)%p;this.warn("Switching to redundant URL-id "+R),this._levels.forEach(function(S){S.urlId=R}),this.level=d}},E.onFragLoaded=function(d,f){var p=f.frag;if(p!==void 0&&p.type===_.PlaylistLevelType.MAIN){var R=this._levels[p.level];R!==void 0&&(R.fragmentError=0,R.loadError=0)}},E.onLevelLoaded=function(d,f){var p,R=f.level,S=f.details,O=this._levels[R];if(!O){var C;this.warn("Invalid level index "+R),(C=f.deliveryDirectives)!==null&&C!==void 0&&C.skip&&(S.deltaUpdateFailed=!0);return}R===this.currentLevelIndex?(O.fragmentError===0&&(O.loadError=0,this.retryCount=0),this.playlistLoaded(R,f,O.details)):(p=f.deliveryDirectives)!==null&&p!==void 0&&p.skip&&(S.deltaUpdateFailed=!0)},E.onAudioTrackSwitched=function(d,f){var p=this.hls.levels[this.currentLevelIndex];if(!!p&&p.audioGroupIds){for(var R=-1,S=this.hls.audioTracks[f.id].groupId,O=0;O<p.audioGroupIds.length;O++)if(p.audioGroupIds[O]===S){R=O;break}R!==p.urlId&&(p.urlId=R,this.startLoad())}},E.loadPlaylist=function(d){var f=this.currentLevelIndex,p=this._levels[f];if(this.canLoad&&p&&p.url.length>0){var R=p.urlId,S=p.url[R];if(d)try{S=d.addDirectives(S)}catch(O){this.warn("Could not construct new URL with HLS Delivery Directives: "+O)}this.log("Attempt loading level index "+f+(d?" at sn "+d.msn+" part "+d.part:"")+" with URL-id "+R+" "+S),this.clearTimer(),this.hls.trigger(D.Events.LEVEL_LOADING,{url:S,level:f,id:R,deliveryDirectives:d||null})}},E.removeLevel=function(d,f){var p=function(O,C){return C!==f},R=this._levels.filter(function(S,O){return O!==d?!0:S.url.length>1&&f!==void 0?(S.url=S.url.filter(p),S.audioGroupIds&&(S.audioGroupIds=S.audioGroupIds.filter(p)),S.textGroupIds&&(S.textGroupIds=S.textGroupIds.filter(p)),S.urlId=0,!0):!1}).map(function(S,O){var C=S.details;return C!=null&&C.fragments&&C.fragments.forEach(function(b){b.level=O}),S});this._levels=R,this.hls.trigger(D.Events.LEVELS_UPDATED,{levels:R})},v(u,[{key:"levels",get:function(){return this._levels.length===0?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(d){var f,p=this._levels;if(p.length!==0&&!(this.currentLevelIndex===d&&(f=p[d])!==null&&f!==void 0&&f.details)){if(d<0||d>=p.length){var R=d<0;if(this.hls.trigger(D.Events.ERROR,{type:F.ErrorTypes.OTHER_ERROR,details:F.ErrorDetails.LEVEL_SWITCH_ERROR,level:d,fatal:R,reason:"invalid level idx"}),R)return;d=Math.min(d,p.length-1)}this.clearTimer();var S=this.currentLevelIndex,O=p[S],C=p[d];this.log("switching to level "+d+" from "+S),this.currentLevelIndex=d;var b=w({},C,{level:d,maxBitrate:C.maxBitrate,uri:C.uri,urlId:C.urlId});delete b._urlId,this.hls.trigger(D.Events.LEVEL_SWITCHING,b);var T=C.details;if(!T||T.live){var g=this.switchParams(C.uri,O==null?void 0:O.details);this.loadPlaylist(g)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(d){this.manualLevelIndex=d,this._startLevel===void 0&&(this._startLevel=d),d!==-1&&(this.level=d)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(d){this._firstLevel=d}},{key:"startLevel",get:function(){if(this._startLevel===void 0){var d=this.hls.config.startLevel;return d!==void 0?d:this._firstLevel}else return this._startLevel},set:function(d){this._startLevel=d}},{key:"nextLoadLevel",get:function(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(d){this.level=d,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=d)}}]),u}(A.default)},"./src/controller/level-helper.ts":(s,x,a)=>{a.r(x),a.d(x,{addGroupId:()=>B,addSliding:()=>l,adjustSliding:()=>c,assignTrackIdsByGroup:()=>A,computeReloadInterval:()=>u,getFragmentWithSN:()=>E,getPartWith:()=>y,mapFragmentIntersection:()=>P,mapPartIntersection:()=>L,mergeDetails:()=>v,updateFragPTSDTS:()=>h,updatePTS:()=>_});var I=a("./src/polyfills/number.ts"),D=a("./src/utils/logger.ts"),F=a("./src/loader/date-range.ts");function M(){return M=Object.assign?Object.assign.bind():function(d){for(var f=1;f<arguments.length;f++){var p=arguments[f];for(var R in p)Object.prototype.hasOwnProperty.call(p,R)&&(d[R]=p[R])}return d},M.apply(this,arguments)}function B(d,f,p){switch(f){case"audio":d.audioGroupIds||(d.audioGroupIds=[]),d.audioGroupIds.push(p);break;case"text":d.textGroupIds||(d.textGroupIds=[]),d.textGroupIds.push(p);break}}function A(d){var f={};d.forEach(function(p){var R=p.groupId||"";p.id=f[R]=f[R]||0,f[R]++})}function _(d,f,p){var R=d[f],S=d[p];w(R,S)}function w(d,f){var p=f.startPTS;if((0,I.isFiniteNumber)(p)){var R=0,S;f.sn>d.sn?(R=p-d.start,S=d):(R=d.start-p,S=f),S.duration!==R&&(S.duration=R)}else if(f.sn>d.sn){var O=d.cc===f.cc;O&&d.minEndPTS?f.start=d.start+(d.minEndPTS-d.start):f.start=d.start+d.duration}else f.start=Math.max(d.start-f.duration,0)}function h(d,f,p,R,S,O){var C=R-p;C<=0&&(D.logger.warn("Fragment should have a positive duration",f),R=p+f.duration,O=S+f.duration);var b=p,T=R,g=f.startPTS,k=f.endPTS;if((0,I.isFiniteNumber)(g)){var N=Math.abs(g-p);(0,I.isFiniteNumber)(f.deltaPTS)?f.deltaPTS=Math.max(N,f.deltaPTS):f.deltaPTS=N,b=Math.max(p,g),p=Math.min(p,g),S=Math.min(S,f.startDTS),T=Math.min(R,k),R=Math.max(R,k),O=Math.max(O,f.endDTS)}f.duration=R-p;var U=p-f.start;f.appendedPTS=R,f.start=f.startPTS=p,f.maxStartPTS=b,f.startDTS=S,f.endPTS=R,f.minEndPTS=T,f.endDTS=O;var W=f.sn;if(!d||W<d.startSN||W>d.endSN)return 0;var $,K=W-d.startSN,z=d.fragments;for(z[K]=f,$=K;$>0;$--)w(z[$],z[$-1]);for($=K;$<z.length-1;$++)w(z[$],z[$+1]);return d.fragmentHint&&w(z[z.length-1],d.fragmentHint),d.PTSKnown=d.alignedSliding=!0,U}function v(d,f){for(var p=null,R=d.fragments,S=R.length-1;S>=0;S--){var O=R[S].initSegment;if(O){p=O;break}}d.fragmentHint&&delete d.fragmentHint.endPTS;var C=0,b;if(P(d,f,function($,K){$.relurl&&(C=$.cc-K.cc),(0,I.isFiniteNumber)($.startPTS)&&(0,I.isFiniteNumber)($.endPTS)&&(K.start=K.startPTS=$.startPTS,K.startDTS=$.startDTS,K.appendedPTS=$.appendedPTS,K.maxStartPTS=$.maxStartPTS,K.endPTS=$.endPTS,K.endDTS=$.endDTS,K.minEndPTS=$.minEndPTS,K.duration=$.endPTS-$.startPTS,K.duration&&(b=K),f.PTSKnown=f.alignedSliding=!0),K.elementaryStreams=$.elementaryStreams,K.loader=$.loader,K.stats=$.stats,K.urlId=$.urlId,$.initSegment&&(K.initSegment=$.initSegment,p=$.initSegment)}),p){var T=f.fragmentHint?f.fragments.concat(f.fragmentHint):f.fragments;T.forEach(function($){var K;(!$.initSegment||$.initSegment.relurl===((K=p)===null||K===void 0?void 0:K.relurl))&&($.initSegment=p)})}if(f.skippedSegments)if(f.deltaUpdateFailed=f.fragments.some(function($){return!$}),f.deltaUpdateFailed){D.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var g=f.skippedSegments;g--;)f.fragments.shift();f.startSN=f.fragments[0].sn,f.startCC=f.fragments[0].cc}else f.canSkipDateRanges&&(f.dateRanges=m(d.dateRanges,f.dateRanges,f.recentlyRemovedDateranges));var k=f.fragments;if(C){D.logger.warn("discontinuity sliding from playlist, take drift into account");for(var N=0;N<k.length;N++)k[N].cc+=C}f.skippedSegments&&(f.startCC=f.fragments[0].cc),L(d.partList,f.partList,function($,K){K.elementaryStreams=$.elementaryStreams,K.stats=$.stats}),b?h(f,b,b.startPTS,b.endPTS,b.startDTS,b.endDTS):c(d,f),k.length&&(f.totalduration=f.edge-k[0].start),f.driftStartTime=d.driftStartTime,f.driftStart=d.driftStart;var U=f.advancedDateTime;if(f.advanced&&U){var W=f.edge;f.driftStart||(f.driftStartTime=U,f.driftStart=W),f.driftEndTime=U,f.driftEnd=W}else f.driftEndTime=d.driftEndTime,f.driftEnd=d.driftEnd,f.advancedDateTime=d.advancedDateTime}function m(d,f,p){var R=M({},d);return p&&p.forEach(function(S){delete R[S]}),Object.keys(f).forEach(function(S){var O=new F.DateRange(f[S].attr,R[S]);O.isValid?R[S]=O:D.logger.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'+JSON.stringify(f[S].attr)+'"')}),R}function L(d,f,p){if(d&&f)for(var R=0,S=0,O=d.length;S<=O;S++){var C=d[S],b=f[S+R];C&&b&&C.index===b.index&&C.fragment.sn===b.fragment.sn?p(C,b):R--}}function P(d,f,p){for(var R=f.skippedSegments,S=Math.max(d.startSN,f.startSN)-f.startSN,O=(d.fragmentHint?1:0)+(R?f.endSN:Math.min(d.endSN,f.endSN))-f.startSN,C=f.startSN-d.startSN,b=f.fragmentHint?f.fragments.concat(f.fragmentHint):f.fragments,T=d.fragmentHint?d.fragments.concat(d.fragmentHint):d.fragments,g=S;g<=O;g++){var k=T[C+g],N=b[g];R&&!N&&g<R&&(N=f.fragments[g]=k),k&&N&&p(k,N)}}function c(d,f){var p=f.startSN+f.skippedSegments-d.startSN,R=d.fragments;p<0||p>=R.length||l(f,R[p].start)}function l(d,f){if(f){for(var p=d.fragments,R=d.skippedSegments;R<p.length;R++)p[R].start+=f;d.fragmentHint&&(d.fragmentHint.start+=f)}}function u(d,f){var p=1e3*d.levelTargetDuration,R=p/2,S=d.age,O=S>0&&S<p*3,C=f.loading.end-f.loading.start,b,T=d.availabilityDelay;if(d.updated===!1)if(O){var g=333*d.misses;b=Math.max(Math.min(R,C*2),g),d.availabilityDelay=(d.availabilityDelay||0)+b}else b=R;else O?(T=Math.min(T||p/2,S),d.availabilityDelay=T,b=T+p-S):b=p-C;return Math.round(b)}function E(d,f,p){if(!d||!d.details)return null;var R=d.details,S=R.fragments[f-R.startSN];return S||(S=R.fragmentHint,S&&S.sn===f)?S:f<R.startSN&&p&&p.sn===f?p:null}function y(d,f,p){if(!d||!d.details)return null;var R=d.details.partList;if(R)for(var S=R.length;S--;){var O=R[S];if(O.index===p&&O.fragment.sn===f)return O}return null}},"./src/controller/stream-controller.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>y});var I=a("./src/polyfills/number.ts"),D=a("./src/controller/base-stream-controller.ts"),F=a("./src/is-supported.ts"),M=a("./src/events.ts"),B=a("./src/utils/buffer-helper.ts"),A=a("./src/controller/fragment-tracker.ts"),_=a("./src/types/loader.ts"),w=a("./src/loader/fragment.ts"),h=a("./src/demux/transmuxer-interface.ts"),v=a("./src/types/transmuxer.ts"),m=a("./src/controller/gap-controller.ts"),L=a("./src/errors.ts");function P(d,f){for(var p=0;p<f.length;p++){var R=f[p];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(d,R.key,R)}}function c(d,f,p){return f&&P(d.prototype,f),p&&P(d,p),Object.defineProperty(d,"prototype",{writable:!1}),d}function l(d,f){d.prototype=Object.create(f.prototype),d.prototype.constructor=d,u(d,f)}function u(d,f){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,S){return R.__proto__=S,R},u(d,f)}var E=100,y=function(d){l(f,d);function f(R,S){var O;return O=d.call(this,R,S,"[stream-controller]")||this,O.audioCodecSwap=!1,O.gapController=null,O.level=-1,O._forceStartLoad=!1,O.altAudio=!1,O.audioOnly=!1,O.fragPlaying=null,O.onvplaying=null,O.onvseeked=null,O.fragLastKbps=0,O.couldBacktrack=!1,O.backtrackFragment=null,O.audioCodecSwitch=!1,O.videoBuffer=null,O._registerListeners(),O}var p=f.prototype;return p._registerListeners=function(){var S=this.hls;S.on(M.Events.MEDIA_ATTACHED,this.onMediaAttached,this),S.on(M.Events.MEDIA_DETACHING,this.onMediaDetaching,this),S.on(M.Events.MANIFEST_LOADING,this.onManifestLoading,this),S.on(M.Events.MANIFEST_PARSED,this.onManifestParsed,this),S.on(M.Events.LEVEL_LOADING,this.onLevelLoading,this),S.on(M.Events.LEVEL_LOADED,this.onLevelLoaded,this),S.on(M.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),S.on(M.Events.ERROR,this.onError,this),S.on(M.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),S.on(M.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),S.on(M.Events.BUFFER_CREATED,this.onBufferCreated,this),S.on(M.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),S.on(M.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),S.on(M.Events.FRAG_BUFFERED,this.onFragBuffered,this)},p._unregisterListeners=function(){var S=this.hls;S.off(M.Events.MEDIA_ATTACHED,this.onMediaAttached,this),S.off(M.Events.MEDIA_DETACHING,this.onMediaDetaching,this),S.off(M.Events.MANIFEST_LOADING,this.onManifestLoading,this),S.off(M.Events.MANIFEST_PARSED,this.onManifestParsed,this),S.off(M.Events.LEVEL_LOADED,this.onLevelLoaded,this),S.off(M.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),S.off(M.Events.ERROR,this.onError,this),S.off(M.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),S.off(M.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),S.off(M.Events.BUFFER_CREATED,this.onBufferCreated,this),S.off(M.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),S.off(M.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),S.off(M.Events.FRAG_BUFFERED,this.onFragBuffered,this)},p.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},p.startLoad=function(S){if(this.levels){var O=this.lastCurrentTime,C=this.hls;if(this.stopLoad(),this.setInterval(E),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var b=C.startLevel;b===-1&&(C.config.testBandwidth&&this.levels.length>1?(b=0,this.bitrateTest=!0):b=C.nextAutoLevel),this.level=C.nextLoadLevel=b,this.loadedmetadata=!1}O>0&&S===-1&&(this.log("Override startPosition with lastCurrentTime @"+O.toFixed(3)),S=O),this.state=D.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=S,this.tick()}else this._forceStartLoad=!0,this.state=D.State.STOPPED},p.stopLoad=function(){this._forceStartLoad=!1,d.prototype.stopLoad.call(this)},p.doTick=function(){switch(this.state){case D.State.IDLE:this.doTickIdle();break;case D.State.WAITING_LEVEL:{var S,O=this.levels,C=this.level,b=O==null||(S=O[C])===null||S===void 0?void 0:S.details;if(b&&(!b.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(b))break;this.state=D.State.IDLE;break}break}case D.State.FRAG_LOADING_WAITING_RETRY:{var T,g=self.performance.now(),k=this.retryDate;(!k||g>=k||(T=this.media)!==null&&T!==void 0&&T.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.level),this.state=D.State.IDLE)}break}this.onTickEnd()},p.onTickEnd=function(){d.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},p.doTickIdle=function(){var S,O,C=this.hls,b=this.levelLastLoaded,T=this.levels,g=this.media,k=C.config,N=C.nextLoadLevel;if(!(b===null||!g&&(this.startFragRequested||!k.startFragPrefetch))&&!(this.altAudio&&this.audioOnly)&&!(!T||!T[N])){var U=T[N];this.level=C.nextLoadLevel=N;var W=U.details;if(!W||this.state===D.State.WAITING_LEVEL||W.live&&this.levelLastLoaded!==N){this.state=D.State.WAITING_LEVEL;return}var $=this.getMainFwdBufferInfo();if($!==null){var K=$.len,z=this.getMaxBufferLength(U.maxBitrate);if(!(K>=z)){if(this._streamEnded($,W)){var j={};this.altAudio&&(j.type="video"),this.hls.trigger(M.Events.BUFFER_EOS,j),this.state=D.State.ENDED;return}this.backtrackFragment&&this.backtrackFragment.start>$.end&&(this.backtrackFragment=null);var V=this.backtrackFragment?this.backtrackFragment.start:$.end,X=this.getNextFragment(V,W);if(this.couldBacktrack&&!this.fragPrevious&&X&&X.sn!=="initSegment"&&this.fragmentTracker.getState(X)!==A.FragmentState.OK){var Q,J=((Q=this.backtrackFragment)!=null?Q:X).sn,te=J-W.startSN,ne=W.fragments[te-1];ne&&X.cc===ne.cc&&(X=ne,this.fragmentTracker.removeFragment(ne))}else this.backtrackFragment&&$.len&&(this.backtrackFragment=null);if(X&&this.fragmentTracker.getState(X)===A.FragmentState.OK&&this.nextLoadPosition>V){var se=this.audioOnly&&!this.altAudio?w.ElementaryStreamTypes.AUDIO:w.ElementaryStreamTypes.VIDEO;g&&this.afterBufferFlushed(g,se,_.PlaylistLevelType.MAIN),X=this.getNextFragment(this.nextLoadPosition,W)}!X||(X.initSegment&&!X.initSegment.data&&!this.bitrateTest&&(X=X.initSegment),((S=X.decryptdata)===null||S===void 0?void 0:S.keyFormat)==="identity"&&!((O=X.decryptdata)!==null&&O!==void 0&&O.key)?this.loadKey(X,W):this.loadFragment(X,W,V))}}}},p.loadFragment=function(S,O,C){var b,T=this.fragmentTracker.getState(S);this.fragCurrent=S,T===A.FragmentState.NOT_LOADED?S.sn==="initSegment"?this._loadInitSegment(S):this.bitrateTest?(this.log("Fragment "+S.sn+" of level "+S.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(S)):(this.startFragRequested=!0,d.prototype.loadFragment.call(this,S,O,C)):T===A.FragmentState.APPENDING?this.reduceMaxBufferLength(S.duration)&&this.fragmentTracker.removeFragment(S):((b=this.media)===null||b===void 0?void 0:b.buffered.length)===0&&this.fragmentTracker.removeAllFragments()},p.getAppendedFrag=function(S){var O=this.fragmentTracker.getAppendedFrag(S,_.PlaylistLevelType.MAIN);return O&&"fragment"in O?O.fragment:O},p.getBufferedFrag=function(S){return this.fragmentTracker.getBufferedFrag(S,_.PlaylistLevelType.MAIN)},p.followingBufferedFrag=function(S){return S?this.getBufferedFrag(S.end+.5):null},p.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},p.nextLevelSwitch=function(){var S=this.levels,O=this.media;if(O!=null&&O.readyState){var C,b=this.getAppendedFrag(O.currentTime);if(b&&b.start>1&&this.flushMainBuffer(0,b.start-1),!O.paused&&S){var T=this.hls.nextLoadLevel,g=S[T],k=this.fragLastKbps;k&&this.fragCurrent?C=this.fragCurrent.duration*g.maxBitrate/(1e3*k)+1:C=0}else C=0;var N=this.getBufferedFrag(O.currentTime+C);if(N){var U=this.followingBufferedFrag(N);if(U){this.abortCurrentFrag();var W=U.maxStartPTS?U.maxStartPTS:U.start,$=U.duration,K=Math.max(N.end,W+Math.min(Math.max($-this.config.maxFragLookUpTolerance,$*.5),$*.75));this.flushMainBuffer(K,Number.POSITIVE_INFINITY)}}}},p.abortCurrentFrag=function(){var S=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,S!=null&&S.loader&&S.loader.abort(),this.state){case D.State.KEY_LOADING:case D.State.FRAG_LOADING:case D.State.FRAG_LOADING_WAITING_RETRY:case D.State.PARSING:case D.State.PARSED:this.state=D.State.IDLE;break}this.nextLoadPosition=this.getLoadPosition()},p.flushMainBuffer=function(S,O){d.prototype.flushMainBuffer.call(this,S,O,this.altAudio?"video":null)},p.onMediaAttached=function(S,O){d.prototype.onMediaAttached.call(this,S,O);var C=O.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),C.addEventListener("playing",this.onvplaying),C.addEventListener("seeked",this.onvseeked),this.gapController=new m.default(this.config,C,this.fragmentTracker,this.hls)},p.onMediaDetaching=function(){var S=this.media;S&&this.onvplaying&&this.onvseeked&&(S.removeEventListener("playing",this.onvplaying),S.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),d.prototype.onMediaDetaching.call(this)},p.onMediaPlaying=function(){this.tick()},p.onMediaSeeked=function(){var S=this.media,O=S?S.currentTime:null;(0,I.isFiniteNumber)(O)&&this.log("Media seeked to "+O.toFixed(3)),this.tick()},p.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(M.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null,this.backtrackFragment=null},p.onManifestParsed=function(S,O){var C=!1,b=!1,T;O.levels.forEach(function(g){T=g.audioCodec,T&&(T.indexOf("mp4a.40.2")!==-1&&(C=!0),T.indexOf("mp4a.40.5")!==-1&&(b=!0))}),this.audioCodecSwitch=C&&b&&!(0,F.changeTypeSupported)(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=O.levels,this.startFragRequested=!1},p.onLevelLoading=function(S,O){var C=this.levels;if(!(!C||this.state!==D.State.IDLE)){var b=C[O.level];(!b.details||b.details.live&&this.levelLastLoaded!==O.level||this.waitForCdnTuneIn(b.details))&&(this.state=D.State.WAITING_LEVEL)}},p.onLevelLoaded=function(S,O){var C,b=this.levels,T=O.level,g=O.details,k=g.totalduration;if(!b){this.warn("Levels were reset while loading level "+T);return}this.log("Level "+T+" loaded ["+g.startSN+","+g.endSN+"], cc ["+g.startCC+", "+g.endCC+"] duration:"+k);var N=this.fragCurrent;N&&(this.state===D.State.FRAG_LOADING||this.state===D.State.FRAG_LOADING_WAITING_RETRY)&&N.level!==O.level&&N.loader&&(this.state=D.State.IDLE,this.backtrackFragment=null,N.loader.abort());var U=b[T],W=0;if(g.live||(C=U.details)!==null&&C!==void 0&&C.live){if(g.fragments[0]||(g.deltaUpdateFailed=!0),g.deltaUpdateFailed)return;W=this.alignPlaylists(g,U.details)}if(U.details=g,this.levelLastLoaded=T,this.hls.trigger(M.Events.LEVEL_UPDATED,{details:g,level:T}),this.state===D.State.WAITING_LEVEL){if(this.waitForCdnTuneIn(g))return;this.state=D.State.IDLE}this.startFragRequested?g.live&&this.synchronizeToLiveEdge(g):this.setStartPosition(g,W),this.tick()},p._handleFragmentLoadProgress=function(S){var O,C=S.frag,b=S.part,T=S.payload,g=this.levels;if(!g){this.warn("Levels were reset while fragment load was in progress. Fragment "+C.sn+" of level "+C.level+" will not be buffered");return}var k=g[C.level],N=k.details;if(!N){this.warn("Dropping fragment "+C.sn+" of level "+C.level+" after level details were reset");return}var U=k.videoCodec,W=N.PTSKnown||!N.live,$=(O=C.initSegment)===null||O===void 0?void 0:O.data,K=this._getAudioCodec(k),z=this.transmuxer=this.transmuxer||new h.default(this.hls,_.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),j=b?b.index:-1,V=j!==-1,X=new v.ChunkMetadata(C.level,C.sn,C.stats.chunkCount,T.byteLength,j,V),Q=this.initPTS[C.cc];z.push(T,$,K,U,C,b,N.totalduration,W,X,Q)},p.onAudioTrackSwitching=function(S,O){var C=this.altAudio,b=!!O.url,T=O.id;if(!b){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var g=this.fragCurrent;g!=null&&g.loader&&(this.log("Switching to main audio track, cancel main fragment load"),g.loader.abort()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var k=this.hls;C&&k.trigger(M.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),k.trigger(M.Events.AUDIO_TRACK_SWITCHED,{id:T})}},p.onAudioTrackSwitched=function(S,O){var C=O.id,b=!!this.hls.audioTracks[C].url;if(b){var T=this.videoBuffer;T&&this.mediaBuffer!==T&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=T)}this.altAudio=b,this.tick()},p.onBufferCreated=function(S,O){var C=O.tracks,b,T,g=!1;for(var k in C){var N=C[k];if(N.id==="main"){if(T=k,b=N,k==="video"){var U=C[k];U&&(this.videoBuffer=U.buffer)}}else g=!0}g&&b?(this.log("Alternate track found, use "+T+".buffered to schedule main fragment loading"),this.mediaBuffer=b.buffer):this.mediaBuffer=this.media},p.onFragBuffered=function(S,O){var C=O.frag,b=O.part;if(!(C&&C.type!==_.PlaylistLevelType.MAIN)){if(this.fragContextChanged(C)){this.warn("Fragment "+C.sn+(b?" p: "+b.index:"")+" of level "+C.level+" finished buffering, but was aborted. state: "+this.state),this.state===D.State.PARSED&&(this.state=D.State.IDLE);return}var T=b?b.stats:C.stats;this.fragLastKbps=Math.round(8*T.total/(T.buffering.end-T.loading.first)),C.sn!=="initSegment"&&(this.fragPrevious=C),this.fragBufferedComplete(C,b)}},p.onError=function(S,O){switch(O.details){case L.ErrorDetails.FRAG_LOAD_ERROR:case L.ErrorDetails.FRAG_LOAD_TIMEOUT:case L.ErrorDetails.KEY_LOAD_ERROR:case L.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(_.PlaylistLevelType.MAIN,O);break;case L.ErrorDetails.LEVEL_LOAD_ERROR:case L.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==D.State.ERROR&&(O.fatal?(this.warn(""+O.details),this.state=D.State.ERROR):!O.levelRetry&&this.state===D.State.WAITING_LEVEL&&(this.state=D.State.IDLE));break;case L.ErrorDetails.BUFFER_FULL_ERROR:if(O.parent==="main"&&(this.state===D.State.PARSING||this.state===D.State.PARSED)){var C=!0,b=this.getFwdBufferInfo(this.media,_.PlaylistLevelType.MAIN);b&&b.len>.5&&(C=!this.reduceMaxBufferLength(b.len)),C&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}break}},p.checkBuffer=function(){var S=this.media,O=this.gapController;if(!(!S||!O||!S.readyState)){if(this.loadedmetadata||!B.BufferHelper.getBuffered(S).length){var C=this.state!==D.State.IDLE?this.fragCurrent:null;O.poll(this.lastCurrentTime,C)}this.lastCurrentTime=S.currentTime}},p.onFragLoadEmergencyAborted=function(){this.state=D.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},p.onBufferFlushed=function(S,O){var C=O.type;if(C!==w.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){var b=(C===w.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(b,C,_.PlaylistLevelType.MAIN)}},p.onLevelsUpdated=function(S,O){this.levels=O.levels},p.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},p.seekToStartPos=function(){var S=this.media;if(!!S){var O=S.currentTime,C=this.startPosition;if(C>=0&&O<C){if(S.seeking){this.log("could not seek to "+C+", already seeking at "+O);return}var b=B.BufferHelper.getBuffered(S),T=b.length?b.start(0):0,g=T-C;g>0&&(g<this.config.maxBufferHole||g<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by "+g+" to match buffer start"),C+=g,this.startPosition=C),this.log("seek to target start position "+C+" from current time "+O),S.currentTime=C}}},p._getAudioCodec=function(S){var O=this.config.defaultAudioCodec||S.audioCodec;return this.audioCodecSwap&&O&&(this.log("Swapping audio codec"),O.indexOf("mp4a.40.5")!==-1?O="mp4a.40.2":O="mp4a.40.5"),O},p._loadBitrateTestFrag=function(S){var O=this;S.bitrateTest=!0,this._doFragLoad(S).then(function(C){var b=O.hls;if(!(!C||b.nextLoadLevel||O.fragContextChanged(S))){O.fragLoadError=0,O.state=D.State.IDLE,O.startFragRequested=!1,O.bitrateTest=!1;var T=S.stats;T.parsing.start=T.parsing.end=T.buffering.start=T.buffering.end=self.performance.now(),b.trigger(M.Events.FRAG_LOADED,C),S.bitrateTest=!1}})},p._handleTransmuxComplete=function(S){var O,C="main",b=this.hls,T=S.remuxResult,g=S.chunkMeta,k=this.getCurrentContext(g);if(!k){this.warn("The loading context changed while buffering fragment "+g.sn+" of level "+g.level+". This chunk will not be buffered."),this.resetStartWhenNotLoaded(g.level);return}var N=k.frag,U=k.part,W=k.level,$=T.video,K=T.text,z=T.id3,j=T.initSegment,V=W.details,X=this.altAudio?void 0:T.audio;if(!this.fragContextChanged(N)){if(this.state=D.State.PARSING,j){j.tracks&&(this._bufferInitSegment(W,j.tracks,N,g),b.trigger(M.Events.FRAG_PARSING_INIT_SEGMENT,{frag:N,id:C,tracks:j.tracks}));var Q=j.initPTS,J=j.timescale;(0,I.isFiniteNumber)(Q)&&(this.initPTS[N.cc]=Q,b.trigger(M.Events.INIT_PTS_FOUND,{frag:N,id:C,initPTS:Q,timescale:J}))}if($&&T.independent!==!1){if(V){var te=$.startPTS,ne=$.endPTS,se=$.startDTS,oe=$.endDTS;if(U)U.elementaryStreams[$.type]={startPTS:te,endPTS:ne,startDTS:se,endDTS:oe};else if($.firstKeyFrame&&$.independent&&(this.couldBacktrack=!0),$.dropped&&$.independent){var pe=this.getMainFwdBufferInfo(),ue=(pe?pe.end:this.getLoadPosition())+this.config.maxBufferHole,ie=$.firstKeyFramePTS?$.firstKeyFramePTS:te;if(ue<ie-this.config.maxBufferHole){this.backtrack(N);return}N.setElementaryStreamInfo($.type,N.start,ne,N.start,oe,!0)}N.setElementaryStreamInfo($.type,te,ne,se,oe),this.backtrackFragment&&(this.backtrackFragment=N),this.bufferFragmentData($,N,U,g)}}else if(T.independent===!1){this.backtrack(N);return}if(X){var ce=X.startPTS,ge=X.endPTS,me=X.startDTS,xe=X.endDTS;U&&(U.elementaryStreams[w.ElementaryStreamTypes.AUDIO]={startPTS:ce,endPTS:ge,startDTS:me,endDTS:xe}),N.setElementaryStreamInfo(w.ElementaryStreamTypes.AUDIO,ce,ge,me,xe),this.bufferFragmentData(X,N,U,g)}if(V&&z!==null&&z!==void 0&&(O=z.samples)!==null&&O!==void 0&&O.length){var Me={id:C,frag:N,details:V,samples:z.samples};b.trigger(M.Events.FRAG_PARSING_METADATA,Me)}if(V&&K){var Se={id:C,frag:N,details:V,samples:K.samples};b.trigger(M.Events.FRAG_PARSING_USERDATA,Se)}}},p._bufferInitSegment=function(S,O,C,b){var T=this;if(this.state===D.State.PARSING){this.audioOnly=!!O.audio&&!O.video,this.altAudio&&!this.audioOnly&&delete O.audio;var g=O.audio,k=O.video,N=O.audiovideo;if(g){var U=S.audioCodec,W=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(U&&(U.indexOf("mp4a.40.5")!==-1?U="mp4a.40.2":U="mp4a.40.5"),g.metadata.channelCount!==1&&W.indexOf("firefox")===-1&&(U="mp4a.40.5")),W.indexOf("android")!==-1&&g.container!=="audio/mpeg"&&(U="mp4a.40.2",this.log("Android: force audio codec to "+U)),S.audioCodec&&S.audioCodec!==U&&this.log('Swapping manifest audio codec "'+S.audioCodec+'" for "'+U+'"'),g.levelCodec=U,g.id="main",this.log("Init audio buffer, container:"+g.container+", codecs[selected/level/parsed]=["+(U||"")+"/"+(S.audioCodec||"")+"/"+g.codec+"]")}k&&(k.levelCodec=S.videoCodec,k.id="main",this.log("Init video buffer, container:"+k.container+", codecs[level/parsed]=["+(S.videoCodec||"")+"/"+k.codec+"]")),N&&this.log("Init audiovideo buffer, container:"+N.container+", codecs[level/parsed]=["+(S.attrs.CODECS||"")+"/"+N.codec+"]"),this.hls.trigger(M.Events.BUFFER_CODECS,O),Object.keys(O).forEach(function($){var K=O[$],z=K.initSegment;z!=null&&z.byteLength&&T.hls.trigger(M.Events.BUFFER_APPENDING,{type:$,data:z,frag:C,part:null,chunkMeta:b,parent:C.type})}),this.tick()}},p.getMainFwdBufferInfo=function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,_.PlaylistLevelType.MAIN)},p.backtrack=function(S){this.couldBacktrack=!0,this.backtrackFragment=S,this.resetTransmuxer(),this.flushBufferGap(S),this.fragmentTracker.removeFragment(S),this.fragPrevious=null,this.nextLoadPosition=S.start,this.state=D.State.IDLE},p.checkFragmentChanged=function(){var S=this.media,O=null;if(S&&S.readyState>1&&S.seeking===!1){var C=S.currentTime;if(B.BufferHelper.isBuffered(S,C)?O=this.getAppendedFrag(C):B.BufferHelper.isBuffered(S,C+.1)&&(O=this.getAppendedFrag(C+.1)),O){this.backtrackFragment=null;var b=this.fragPlaying,T=O.level;(!b||O.sn!==b.sn||b.level!==T||O.urlId!==b.urlId)&&(this.hls.trigger(M.Events.FRAG_CHANGED,{frag:O}),(!b||b.level!==T)&&this.hls.trigger(M.Events.LEVEL_SWITCHED,{level:T}),this.fragPlaying=O)}}},c(f,[{key:"nextLevel",get:function(){var S=this.nextBufferedFrag;return S?S.level:-1}},{key:"currentFrag",get:function(){var S=this.media;return S?this.fragPlaying||this.getAppendedFrag(S.currentTime):null}},{key:"currentProgramDateTime",get:function(){var S=this.media;if(S){var O=S.currentTime,C=this.currentFrag;if(C&&(0,I.isFiniteNumber)(O)&&(0,I.isFiniteNumber)(C.programDateTime)){var b=C.programDateTime+(O-C.start)*1e3;return new Date(b)}}return null}},{key:"currentLevel",get:function(){var S=this.currentFrag;return S?S.level:-1}},{key:"nextBufferedFrag",get:function(){var S=this.currentFrag;return S?this.followingBufferedFrag(S):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}]),f}(D.default)},"./src/controller/subtitle-stream-controller.ts":(s,x,a)=>{a.r(x),a.d(x,{SubtitleStreamController:()=>l});var I=a("./src/events.ts"),D=a("./src/utils/buffer-helper.ts"),F=a("./src/controller/fragment-finders.ts"),M=a("./src/utils/discontinuities.ts"),B=a("./src/controller/level-helper.ts"),A=a("./src/controller/fragment-tracker.ts"),_=a("./src/controller/base-stream-controller.ts"),w=a("./src/types/loader.ts"),h=a("./src/types/level.ts");function v(E,y){for(var d=0;d<y.length;d++){var f=y[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(E,f.key,f)}}function m(E,y,d){return y&&v(E.prototype,y),d&&v(E,d),Object.defineProperty(E,"prototype",{writable:!1}),E}function L(E,y){E.prototype=Object.create(y.prototype),E.prototype.constructor=E,P(E,y)}function P(E,y){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,p){return f.__proto__=p,f},P(E,y)}var c=500,l=function(E){L(y,E);function y(f,p){var R;return R=E.call(this,f,p,"[subtitle-stream-controller]")||this,R.levels=[],R.currentTrackId=-1,R.tracksBuffered=[],R.mainDetails=null,R._registerListeners(),R}var d=y.prototype;return d.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},d._registerListeners=function(){var p=this.hls;p.on(I.Events.MEDIA_ATTACHED,this.onMediaAttached,this),p.on(I.Events.MEDIA_DETACHING,this.onMediaDetaching,this),p.on(I.Events.MANIFEST_LOADING,this.onManifestLoading,this),p.on(I.Events.LEVEL_LOADED,this.onLevelLoaded,this),p.on(I.Events.ERROR,this.onError,this),p.on(I.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),p.on(I.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),p.on(I.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),p.on(I.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),p.on(I.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},d._unregisterListeners=function(){var p=this.hls;p.off(I.Events.MEDIA_ATTACHED,this.onMediaAttached,this),p.off(I.Events.MEDIA_DETACHING,this.onMediaDetaching,this),p.off(I.Events.MANIFEST_LOADING,this.onManifestLoading,this),p.off(I.Events.LEVEL_LOADED,this.onLevelLoaded,this),p.off(I.Events.ERROR,this.onError,this),p.off(I.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),p.off(I.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),p.off(I.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),p.off(I.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),p.off(I.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},d.startLoad=function(){this.stopLoad(),this.state=_.State.IDLE,this.setInterval(c),this.tick()},d.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},d.onLevelLoaded=function(p,R){this.mainDetails=R.details},d.onSubtitleFragProcessed=function(p,R){var S=R.frag,O=R.success;if(this.fragPrevious=S,this.state=_.State.IDLE,!!O){var C=this.tracksBuffered[this.currentTrackId];if(!!C){for(var b,T=S.start,g=0;g<C.length;g++)if(T>=C[g].start&&T<=C[g].end){b=C[g];break}var k=S.start+S.duration;b?b.end=k:(b={start:T,end:k},C.push(b)),this.fragmentTracker.fragBuffered(S)}}},d.onBufferFlushing=function(p,R){var S=R.startOffset,O=R.endOffset;if(S===0&&O!==Number.POSITIVE_INFINITY){var C=this.currentTrackId,b=this.levels;if(!b.length||!b[C]||!b[C].details)return;var T=b[C].details,g=T.targetduration,k=O-g;if(k<=0)return;R.endOffsetSubtitles=Math.max(0,k),this.tracksBuffered.forEach(function(N){for(var U=0;U<N.length;){if(N[U].end<=k){N.shift();continue}else if(N[U].start<k)N[U].start=k;else break;U++}}),this.fragmentTracker.removeFragmentsInRange(S,k,w.PlaylistLevelType.SUBTITLE)}},d.onError=function(p,R){var S,O=R.frag;!O||O.type!==w.PlaylistLevelType.SUBTITLE||((S=this.fragCurrent)!==null&&S!==void 0&&S.loader&&this.fragCurrent.loader.abort(),this.state=_.State.IDLE)},d.onSubtitleTracksUpdated=function(p,R){var S=this,O=R.subtitleTracks;this.tracksBuffered=[],this.levels=O.map(function(C){return new h.Level(C)}),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach(function(C){S.tracksBuffered[C.id]=[]}),this.mediaBuffer=null},d.onSubtitleTrackSwitch=function(p,R){if(this.currentTrackId=R.id,!this.levels.length||this.currentTrackId===-1){this.clearInterval();return}var S=this.levels[this.currentTrackId];S!=null&&S.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,S&&this.setInterval(c)},d.onSubtitleTrackLoaded=function(p,R){var S,O=R.details,C=R.id,b=this.currentTrackId,T=this.levels;if(!!T.length){var g=T[b];if(!(C>=T.length||C!==b||!g)){if(this.mediaBuffer=this.mediaBufferTimeRanges,O.live||(S=g.details)!==null&&S!==void 0&&S.live){var k=this.mainDetails;if(O.deltaUpdateFailed||!k)return;var N=k.fragments[0];if(!g.details)O.hasProgramDateTime&&k.hasProgramDateTime?(0,M.alignMediaPlaylistByPDT)(O,k):N&&(0,B.addSliding)(O,N.start);else{var U=this.alignPlaylists(O,g.details);U===0&&N&&(0,B.addSliding)(O,N.start)}}if(g.details=O,this.levelLastLoaded=C,this.tick(),O.live&&!this.fragCurrent&&this.media&&this.state===_.State.IDLE){var W=(0,F.findFragmentByPTS)(null,O.fragments,this.media.currentTime,0);W||(this.warn("Subtitle playlist not aligned with playback"),g.details=void 0)}}}},d._handleFragmentLoadComplete=function(p){var R=p.frag,S=p.payload,O=R.decryptdata,C=this.hls;if(!this.fragContextChanged(R)&&S&&S.byteLength>0&&O&&O.key&&O.iv&&O.method==="AES-128"){var b=performance.now();this.decrypter.webCryptoDecrypt(new Uint8Array(S),O.key.buffer,O.iv.buffer).then(function(T){var g=performance.now();C.trigger(I.Events.FRAG_DECRYPTED,{frag:R,payload:T,stats:{tstart:b,tdecrypt:g}})})}},d.doTick=function(){if(!this.media){this.state=_.State.IDLE;return}if(this.state===_.State.IDLE){var p=this.currentTrackId,R=this.levels;if(!R.length||!R[p]||!R[p].details)return;var S=R[p].details,O=S.targetduration,C=this.config,b=this.media,T=D.BufferHelper.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],b.currentTime-O,C.maxBufferHole),g=T.end,k=T.len,N=this.getMaxBufferLength()+O;if(k>N)return;console.assert(S,"Subtitle track details are defined on idle subtitle stream controller tick");var U=S.fragments,W=U.length,$=S.edge,K,z=this.fragPrevious;if(g<$){var j=C.maxFragLookUpTolerance;K=(0,F.findFragmentByPTS)(z,U,Math.max(U[0].start,g),j),!K&&z&&z.start<U[0].start&&(K=U[0])}else K=U[W-1];if(K=this.mapToInitFragWhenRequired(K),!K||this.fragmentTracker.getState(K)!==A.FragmentState.NOT_LOADED)return;K.encrypted?this.loadKey(K,S):this.loadFragment(K,S,g)}},d.loadFragment=function(p,R,S){this.fragCurrent=p,p.sn==="initSegment"?this._loadInitSegment(p):E.prototype.loadFragment.call(this,p,R,S)},m(y,[{key:"mediaBufferTimeRanges",get:function(){return new u(this.tracksBuffered[this.currentTrackId]||[])}}]),y}(_.default),u=function(y){this.buffered=void 0;var d=function(p,R,S){if(R=R>>>0,R>S-1)throw new DOMException("Failed to execute '"+p+"' on 'TimeRanges': The index provided ("+R+") is greater than the maximum bound ("+S+")");return y[R][p]};this.buffered={get length(){return y.length},end:function(p){return d("end",p,y.length)},start:function(p){return d("start",p,y.length)}}}},"./src/controller/subtitle-track-controller.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>m});var I=a("./src/events.ts"),D=a("./src/utils/texttrack-utils.ts"),F=a("./src/controller/base-playlist-controller.ts"),M=a("./src/types/loader.ts");function B(L,P){for(var c=0;c<P.length;c++){var l=P[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(L,l.key,l)}}function A(L,P,c){return P&&B(L.prototype,P),c&&B(L,c),Object.defineProperty(L,"prototype",{writable:!1}),L}function _(L,P){L.prototype=Object.create(P.prototype),L.prototype.constructor=L,w(L,P)}function w(L,P){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,u){return l.__proto__=u,l},w(L,P)}var h=function(L){_(P,L);function P(l){var u;return u=L.call(this,l,"[subtitle-track-controller]")||this,u.media=null,u.tracks=[],u.groupId=null,u.tracksInGroup=[],u.trackId=-1,u.selectDefaultTrack=!0,u.queuedDefaultTrack=-1,u.trackChangeListener=function(){return u.onTextTracksChanged()},u.asyncPollTrackChange=function(){return u.pollTrackChange(0)},u.useTextTrackPolling=!1,u.subtitlePollingInterval=-1,u._subtitleDisplay=!0,u.registerListeners(),u}var c=P.prototype;return c.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,L.prototype.destroy.call(this)},c.registerListeners=function(){var u=this.hls;u.on(I.Events.MEDIA_ATTACHED,this.onMediaAttached,this),u.on(I.Events.MEDIA_DETACHING,this.onMediaDetaching,this),u.on(I.Events.MANIFEST_LOADING,this.onManifestLoading,this),u.on(I.Events.MANIFEST_PARSED,this.onManifestParsed,this),u.on(I.Events.LEVEL_LOADING,this.onLevelLoading,this),u.on(I.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),u.on(I.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),u.on(I.Events.ERROR,this.onError,this)},c.unregisterListeners=function(){var u=this.hls;u.off(I.Events.MEDIA_ATTACHED,this.onMediaAttached,this),u.off(I.Events.MEDIA_DETACHING,this.onMediaDetaching,this),u.off(I.Events.MANIFEST_LOADING,this.onManifestLoading,this),u.off(I.Events.MANIFEST_PARSED,this.onManifestParsed,this),u.off(I.Events.LEVEL_LOADING,this.onLevelLoading,this),u.off(I.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),u.off(I.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),u.off(I.Events.ERROR,this.onError,this)},c.onMediaAttached=function(u,E){this.media=E.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},c.pollTrackChange=function(u){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,u)},c.onMediaDetaching=function(){if(!!this.media){self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId);var u=v(this.media.textTracks);u.forEach(function(E){(0,D.clearCurrentCues)(E)}),this.subtitleTrack=-1,this.media=null}},c.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},c.onManifestParsed=function(u,E){this.tracks=E.subtitleTracks},c.onSubtitleTrackLoaded=function(u,E){var y=E.id,d=E.details,f=this.trackId,p=this.tracksInGroup[f];if(!p){this.warn("Invalid subtitle track id "+y);return}var R=p.details;p.details=E.details,this.log("subtitle track "+y+" loaded ["+d.startSN+"-"+d.endSN+"]"),y===this.trackId&&(this.retryCount=0,this.playlistLoaded(y,E,R))},c.onLevelLoading=function(u,E){this.switchLevel(E.level)},c.onLevelSwitching=function(u,E){this.switchLevel(E.level)},c.switchLevel=function(u){var E=this.hls.levels[u];if(!!(E!=null&&E.textGroupIds)){var y=E.textGroupIds[E.urlId];if(this.groupId!==y){var d=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,f=this.tracks.filter(function(S){return!y||S.groupId===y});this.tracksInGroup=f;var p=this.findTrackId(d==null?void 0:d.name)||this.findTrackId();this.groupId=y;var R={subtitleTracks:f};this.log("Updating subtitle tracks, "+f.length+' track(s) found in "'+y+'" group-id'),this.hls.trigger(I.Events.SUBTITLE_TRACKS_UPDATED,R),p!==-1&&this.setSubtitleTrack(p,d)}}},c.findTrackId=function(u){for(var E=this.tracksInGroup,y=0;y<E.length;y++){var d=E[y];if((!this.selectDefaultTrack||d.default)&&(!u||u===d.name))return d.id}return-1},c.onError=function(u,E){L.prototype.onError.call(this,u,E),!(E.fatal||!E.context)&&E.context.type===M.PlaylistContextType.SUBTITLE_TRACK&&E.context.id===this.trackId&&E.context.groupId===this.groupId&&this.retryLoadingOrFail(E)},c.loadPlaylist=function(u){var E=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(E)){var y=E.id,d=E.groupId,f=E.url;if(u)try{f=u.addDirectives(f)}catch(p){this.warn("Could not construct new URL with HLS Delivery Directives: "+p)}this.log("Loading subtitle playlist for id "+y),this.hls.trigger(I.Events.SUBTITLE_TRACK_LOADING,{url:f,id:y,groupId:d,deliveryDirectives:u||null})}},c.toggleTrackModes=function(u){var E=this,y=this.media,d=this.trackId;if(!!y){var f=v(y.textTracks),p=f.filter(function(O){return O.groupId===E.groupId});if(u===-1)[].slice.call(f).forEach(function(O){O.mode="disabled"});else{var R=p[d];R&&(R.mode="disabled")}var S=p[u];S&&(S.mode=this.subtitleDisplay?"showing":"hidden")}},c.setSubtitleTrack=function(u,E){var y,d=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=u;return}if(this.trackId!==u&&this.toggleTrackModes(u),!(this.trackId===u&&(u===-1||(y=d[u])!==null&&y!==void 0&&y.details)||u<-1||u>=d.length)){this.clearTimer();var f=d[u];if(this.log("Switching to subtitle track "+u),this.trackId=u,f){var p=f.id,R=f.groupId,S=R===void 0?"":R,O=f.name,C=f.type,b=f.url;this.hls.trigger(I.Events.SUBTITLE_TRACK_SWITCH,{id:p,groupId:S,name:O,type:C,url:b});var T=this.switchParams(f.url,E==null?void 0:E.details);this.loadPlaylist(T)}else this.hls.trigger(I.Events.SUBTITLE_TRACK_SWITCH,{id:u})}},c.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!(!this.media||!this.hls.config.renderTextTracksNatively)){for(var u=-1,E=v(this.media.textTracks),y=0;y<E.length;y++)if(E[y].mode==="hidden")u=y;else if(E[y].mode==="showing"){u=y;break}this.subtitleTrack!==u&&(this.subtitleTrack=u)}},A(P,[{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(u){this._subtitleDisplay=u,this.trackId>-1&&this.toggleTrackModes(this.trackId)}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(u){this.selectDefaultTrack=!1;var E=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(u,E)}}]),P}(F.default);function v(L){for(var P=[],c=0;c<L.length;c++){var l=L[c];l.kind==="subtitles"&&l.label&&P.push(L[c])}return P}const m=h},"./src/controller/timeline-controller.ts":(s,x,a)=>{a.r(x),a.d(x,{TimelineController:()=>m});var I=a("./src/polyfills/number.ts"),D=a("./src/events.ts"),F=a("./src/utils/cea-608-parser.ts"),M=a("./src/utils/output-filter.ts"),B=a("./src/utils/webvtt-parser.ts"),A=a("./src/utils/texttrack-utils.ts"),_=a("./src/utils/imsc1-ttml-parser.ts"),w=a("./src/utils/mp4-tools.ts"),h=a("./src/types/loader.ts"),v=a("./src/utils/logger.ts"),m=function(){function l(E){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=c(),this.captionsProperties=void 0,this.hls=E,this.config=E.config,this.Cues=E.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var y=new M.default(this,"textTrack1"),d=new M.default(this,"textTrack2"),f=new M.default(this,"textTrack3"),p=new M.default(this,"textTrack4");this.cea608Parser1=new F.default(1,y,d),this.cea608Parser2=new F.default(3,f,p)}E.on(D.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),E.on(D.Events.MEDIA_DETACHING,this.onMediaDetaching,this),E.on(D.Events.MANIFEST_LOADING,this.onManifestLoading,this),E.on(D.Events.MANIFEST_LOADED,this.onManifestLoaded,this),E.on(D.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),E.on(D.Events.FRAG_LOADING,this.onFragLoading,this),E.on(D.Events.FRAG_LOADED,this.onFragLoaded,this),E.on(D.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),E.on(D.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),E.on(D.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),E.on(D.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),E.on(D.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}var u=l.prototype;return u.destroy=function(){var y=this.hls;y.off(D.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),y.off(D.Events.MEDIA_DETACHING,this.onMediaDetaching,this),y.off(D.Events.MANIFEST_LOADING,this.onManifestLoading,this),y.off(D.Events.MANIFEST_LOADED,this.onManifestLoaded,this),y.off(D.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),y.off(D.Events.FRAG_LOADING,this.onFragLoading,this),y.off(D.Events.FRAG_LOADED,this.onFragLoaded,this),y.off(D.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),y.off(D.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),y.off(D.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),y.off(D.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),y.off(D.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},u.addCues=function(y,d,f,p,R){for(var S=!1,O=R.length;O--;){var C=R[O],b=P(C[0],C[1],d,f);if(b>=0&&(C[0]=Math.min(C[0],d),C[1]=Math.max(C[1],f),S=!0,b/(f-d)>.5))return}if(S||R.push([d,f]),this.config.renderTextTracksNatively){var T=this.captionsTracks[y];this.Cues.newCue(T,d,f,p)}else{var g=this.Cues.newCue(null,d,f,p);this.hls.trigger(D.Events.CUES_PARSED,{type:"captions",cues:g,track:y})}},u.onInitPtsFound=function(y,d){var f=this,p=d.frag,R=d.id,S=d.initPTS,O=d.timescale,C=this.unparsedVttFrags;R==="main"&&(this.initPTS[p.cc]=S,this.timescale[p.cc]=O),C.length&&(this.unparsedVttFrags=[],C.forEach(function(b){f.onFragLoaded(D.Events.FRAG_LOADED,b)}))},u.getExistingTrack=function(y){var d=this.media;if(d)for(var f=0;f<d.textTracks.length;f++){var p=d.textTracks[f];if(p[y])return p}return null},u.createCaptionsTrack=function(y){this.config.renderTextTracksNatively?this.createNativeTrack(y):this.createNonNativeTrack(y)},u.createNativeTrack=function(y){if(!this.captionsTracks[y]){var d=this.captionsProperties,f=this.captionsTracks,p=this.media,R=d[y],S=R.label,O=R.languageCode,C=this.getExistingTrack(y);if(C)f[y]=C,(0,A.clearCurrentCues)(f[y]),(0,A.sendAddTrackEvent)(f[y],p);else{var b=this.createTextTrack("captions",S,O);b&&(b[y]=!0,f[y]=b)}}},u.createNonNativeTrack=function(y){if(!this.nonNativeCaptionsTracks[y]){var d=this.captionsProperties[y];if(!!d){var f=d.label,p={_id:y,label:f,kind:"captions",default:d.media?!!d.media.default:!1,closedCaptions:d.media};this.nonNativeCaptionsTracks[y]=p,this.hls.trigger(D.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[p]})}}},u.createTextTrack=function(y,d,f){var p=this.media;if(!!p)return p.addTextTrack(y,d,f)},u.onMediaAttaching=function(y,d){this.media=d.media,this._cleanTracks()},u.onMediaDetaching=function(){var y=this.captionsTracks;Object.keys(y).forEach(function(d){(0,A.clearCurrentCues)(y[d]),delete y[d]}),this.nonNativeCaptionsTracks={}},u.onManifestLoading=function(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=c(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},u._cleanTracks=function(){var y=this.media;if(!!y){var d=y.textTracks;if(d)for(var f=0;f<d.length;f++)(0,A.clearCurrentCues)(d[f])}},u.onSubtitleTracksUpdated=function(y,d){var f=this;this.textTracks=[];var p=d.subtitleTracks||[],R=p.some(function(b){return b.textCodec===_.IMSC1_CODEC});if(this.config.enableWebVTT||R&&this.config.enableIMSC1){var S=this.tracks&&p&&this.tracks.length===p.length;if(this.tracks=p||[],this.config.renderTextTracksNatively){var O=this.media?this.media.textTracks:[];this.tracks.forEach(function(b,T){var g;if(T<O.length){for(var k=null,N=0;N<O.length;N++)if(L(O[N],b)){k=O[N];break}k&&(g=k)}if(g)(0,A.clearCurrentCues)(g);else{var U=f._captionsOrSubtitlesFromCharacteristics(b);g=f.createTextTrack(U,b.name,b.lang),g&&(g.mode="disabled")}g&&(g.groupId=b.groupId,f.textTracks.push(g))})}else if(!S&&this.tracks&&this.tracks.length){var C=this.tracks.map(function(b){return{label:b.name,kind:b.type.toLowerCase(),default:b.default,subtitleTrack:b}});this.hls.trigger(D.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:C})}}},u._captionsOrSubtitlesFromCharacteristics=function(y){var d;if((d=y.attrs)!==null&&d!==void 0&&d.CHARACTERISTICS){var f=/transcribes-spoken-dialog/gi.test(y.attrs.CHARACTERISTICS),p=/describes-music-and-sound/gi.test(y.attrs.CHARACTERISTICS);if(f&&p)return"captions"}return"subtitles"},u.onManifestLoaded=function(y,d){var f=this;this.config.enableCEA708Captions&&d.captions&&d.captions.forEach(function(p){var R=/(?:CC|SERVICE)([1-4])/.exec(p.instreamId);if(!!R){var S="textTrack"+R[1],O=f.captionsProperties[S];!O||(O.label=p.name,p.lang&&(O.languageCode=p.lang),O.media=p)}})},u.closedCaptionsForLevel=function(y){var d=this.hls.levels[y.level];return d==null?void 0:d.attrs["CLOSED-CAPTIONS"]},u.onFragLoading=function(y,d){var f=this.cea608Parser1,p=this.cea608Parser2,R=this.lastSn,S=this.lastPartIndex;if(!(!this.enabled||!(f&&p))&&d.frag.type===h.PlaylistLevelType.MAIN){var O,C,b=d.frag.sn,T=(O=d==null||(C=d.part)===null||C===void 0?void 0:C.index)!=null?O:-1;b===R+1||b===R&&T===S+1||(f.reset(),p.reset()),this.lastSn=b,this.lastPartIndex=T}},u.onFragLoaded=function(y,d){var f=d.frag,p=d.payload,R=this.initPTS,S=this.unparsedVttFrags;if(f.type===h.PlaylistLevelType.SUBTITLE)if(p.byteLength){if(!(0,I.isFiniteNumber)(R[f.cc])){S.push(d),R.length&&this.hls.trigger(D.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:f,error:new Error("Missing initial subtitle PTS")});return}var O=f.decryptdata,C="stats"in d;if(O==null||O.key==null||O.method!=="AES-128"||C){var b=this.tracks[f.level],T=this.vttCCs;T[f.cc]||(T[f.cc]={start:f.start,prevCC:this.prevCC,new:!0},this.prevCC=f.cc),b&&b.textCodec===_.IMSC1_CODEC?this._parseIMSC1(f,p):this._parseVTTs(f,p,T)}}else this.hls.trigger(D.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:f,error:new Error("Empty subtitle payload")})},u._parseIMSC1=function(y,d){var f=this,p=this.hls;(0,_.parseIMSC1)(d,this.initPTS[y.cc],this.timescale[y.cc],function(R){f._appendCues(R,y.level),p.trigger(D.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:y})},function(R){v.logger.log("Failed to parse IMSC1: "+R),p.trigger(D.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:y,error:R})})},u._parseVTTs=function(y,d,f){var p,R=this,S=this.hls,O=(p=y.initSegment)!==null&&p!==void 0&&p.data?(0,w.appendUint8Array)(y.initSegment.data,new Uint8Array(d)):d;(0,B.parseWebVTT)(O,this.initPTS[y.cc],this.timescale[y.cc],f,y.cc,y.start,function(C){R._appendCues(C,y.level),S.trigger(D.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:y})},function(C){R._fallbackToIMSC1(y,d),v.logger.log("Failed to parse VTT cue: "+C),S.trigger(D.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:y,error:C})})},u._fallbackToIMSC1=function(y,d){var f=this,p=this.tracks[y.level];p.textCodec||(0,_.parseIMSC1)(d,this.initPTS[y.cc],this.timescale[y.cc],function(){p.textCodec=_.IMSC1_CODEC,f._parseIMSC1(y,d)},function(){p.textCodec="wvtt"})},u._appendCues=function(y,d){var f=this.hls;if(this.config.renderTextTracksNatively){var p=this.textTracks[d];if(!p||p.mode==="disabled")return;y.forEach(function(O){return(0,A.addCueToTrack)(p,O)})}else{var R=this.tracks[d];if(!R)return;var S=R.default?"default":"subtitles"+d;f.trigger(D.Events.CUES_PARSED,{type:"subtitles",cues:y,track:S})}},u.onFragDecrypted=function(y,d){var f=d.frag;if(f.type===h.PlaylistLevelType.SUBTITLE){if(!(0,I.isFiniteNumber)(this.initPTS[f.cc])){this.unparsedVttFrags.push(d);return}this.onFragLoaded(D.Events.FRAG_LOADED,d)}},u.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},u.onFragParsingUserdata=function(y,d){var f=this.cea608Parser1,p=this.cea608Parser2;if(!(!this.enabled||!(f&&p))){var R=d.frag,S=d.samples;if(!(R.type===h.PlaylistLevelType.MAIN&&this.closedCaptionsForLevel(R)==="NONE"))for(var O=0;O<S.length;O++){var C=S[O].bytes;if(C){var b=this.extractCea608Data(C);f.addData(S[O].pts,b[0]),p.addData(S[O].pts,b[1])}}}},u.onBufferFlushing=function(y,d){var f=d.startOffset,p=d.endOffset,R=d.endOffsetSubtitles,S=d.type,O=this.media;if(!(!O||O.currentTime<p)){if(!S||S==="video"){var C=this.captionsTracks;Object.keys(C).forEach(function(T){return(0,A.removeCuesInRange)(C[T],f,p)})}if(this.config.renderTextTracksNatively&&f===0&&R!==void 0){var b=this.textTracks;Object.keys(b).forEach(function(T){return(0,A.removeCuesInRange)(b[T],f,R)})}}},u.extractCea608Data=function(y){for(var d=[[],[]],f=y[0]&31,p=2,R=0;R<f;R++){var S=y[p++],O=127&y[p++],C=127&y[p++];if(!(O===0&&C===0)){var b=(4&S)!==0;if(b){var T=3&S;(T===0||T===1)&&(d[T].push(O),d[T].push(C))}}}return d},l}();function L(l,u){return l&&l.label===u.name&&!(l.textTrack1||l.textTrack2)}function P(l,u,E,y){return Math.min(u,y)-Math.max(l,E)}function c(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}},"./src/crypt/aes-crypto.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>I});var I=function(){function D(M,B){this.subtle=void 0,this.aesIV=void 0,this.subtle=M,this.aesIV=B}var F=D.prototype;return F.decrypt=function(B,A){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},A,B)},D}()},"./src/crypt/aes-decryptor.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>F,removePadding:()=>D});var I=a("./src/utils/typed-array.ts");function D(M){var B=M.byteLength,A=B&&new DataView(M.buffer).getUint8(B-1);return A?(0,I.sliceUint8)(M,0,B-A):M}var F=function(){function M(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var B=M.prototype;return B.uint8ArrayToUint32Array_=function(_){for(var w=new DataView(_),h=new Uint32Array(4),v=0;v<4;v++)h[v]=w.getUint32(v*4);return h},B.initTable=function(){var _=this.sBox,w=this.invSBox,h=this.subMix,v=h[0],m=h[1],L=h[2],P=h[3],c=this.invSubMix,l=c[0],u=c[1],E=c[2],y=c[3],d=new Uint32Array(256),f=0,p=0,R=0;for(R=0;R<256;R++)R<128?d[R]=R<<1:d[R]=R<<1^283;for(R=0;R<256;R++){var S=p^p<<1^p<<2^p<<3^p<<4;S=S>>>8^S&255^99,_[f]=S,w[S]=f;var O=d[f],C=d[O],b=d[C],T=d[S]*257^S*16843008;v[f]=T<<24|T>>>8,m[f]=T<<16|T>>>16,L[f]=T<<8|T>>>24,P[f]=T,T=b*16843009^C*65537^O*257^f*16843008,l[S]=T<<24|T>>>8,u[S]=T<<16|T>>>16,E[S]=T<<8|T>>>24,y[S]=T,f?(f=O^d[d[d[b^O]]],p^=d[d[p]]):f=p=1}},B.expandKey=function(_){for(var w=this.uint8ArrayToUint32Array_(_),h=!0,v=0;v<w.length&&h;)h=w[v]===this.key[v],v++;if(!h){this.key=w;var m=this.keySize=w.length;if(m!==4&&m!==6&&m!==8)throw new Error("Invalid aes key size="+m);var L=this.ksRows=(m+6+1)*4,P,c,l=this.keySchedule=new Uint32Array(L),u=this.invKeySchedule=new Uint32Array(L),E=this.sBox,y=this.rcon,d=this.invSubMix,f=d[0],p=d[1],R=d[2],S=d[3],O,C;for(P=0;P<L;P++){if(P<m){O=l[P]=w[P];continue}C=O,P%m===0?(C=C<<8|C>>>24,C=E[C>>>24]<<24|E[C>>>16&255]<<16|E[C>>>8&255]<<8|E[C&255],C^=y[P/m|0]<<24):m>6&&P%m===4&&(C=E[C>>>24]<<24|E[C>>>16&255]<<16|E[C>>>8&255]<<8|E[C&255]),l[P]=O=(l[P-m]^C)>>>0}for(c=0;c<L;c++)P=L-c,c&3?C=l[P]:C=l[P-4],c<4||P<=4?u[c]=C:u[c]=f[E[C>>>24]]^p[E[C>>>16&255]]^R[E[C>>>8&255]]^S[E[C&255]],u[c]=u[c]>>>0}},B.networkToHostOrderSwap=function(_){return _<<24|(_&65280)<<8|(_&16711680)>>8|_>>>24},B.decrypt=function(_,w,h){for(var v=this.keySize+6,m=this.invKeySchedule,L=this.invSBox,P=this.invSubMix,c=P[0],l=P[1],u=P[2],E=P[3],y=this.uint8ArrayToUint32Array_(h),d=y[0],f=y[1],p=y[2],R=y[3],S=new Int32Array(_),O=new Int32Array(S.length),C,b,T,g,k,N,U,W,$,K,z,j,V,X,Q=this.networkToHostOrderSwap;w<S.length;){for($=Q(S[w]),K=Q(S[w+1]),z=Q(S[w+2]),j=Q(S[w+3]),k=$^m[0],N=j^m[1],U=z^m[2],W=K^m[3],V=4,X=1;X<v;X++)C=c[k>>>24]^l[N>>16&255]^u[U>>8&255]^E[W&255]^m[V],b=c[N>>>24]^l[U>>16&255]^u[W>>8&255]^E[k&255]^m[V+1],T=c[U>>>24]^l[W>>16&255]^u[k>>8&255]^E[N&255]^m[V+2],g=c[W>>>24]^l[k>>16&255]^u[N>>8&255]^E[U&255]^m[V+3],k=C,N=b,U=T,W=g,V=V+4;C=L[k>>>24]<<24^L[N>>16&255]<<16^L[U>>8&255]<<8^L[W&255]^m[V],b=L[N>>>24]<<24^L[U>>16&255]<<16^L[W>>8&255]<<8^L[k&255]^m[V+1],T=L[U>>>24]<<24^L[W>>16&255]<<16^L[k>>8&255]<<8^L[N&255]^m[V+2],g=L[W>>>24]<<24^L[k>>16&255]<<16^L[N>>8&255]<<8^L[U&255]^m[V+3],O[w]=Q(C^d),O[w+1]=Q(g^f),O[w+2]=Q(T^p),O[w+3]=Q(b^R),d=$,f=K,p=z,R=j,w=w+4}return O.buffer},M}()},"./src/crypt/decrypter.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>w});var I=a("./src/crypt/aes-crypto.ts"),D=a("./src/crypt/fast-aes-key.ts"),F=a("./src/crypt/aes-decryptor.ts"),M=a("./src/utils/logger.ts"),B=a("./src/utils/mp4-tools.ts"),A=a("./src/utils/typed-array.ts"),_=16,w=function(){function h(m,L,P){var c=P===void 0?{}:P,l=c.removePKCS7Padding,u=l===void 0?!0:l;if(this.logEnabled=!0,this.observer=void 0,this.config=void 0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.observer=m,this.config=L,this.removePKCS7Padding=u,u)try{var E=self.crypto;E&&(this.subtle=E.subtle||E.webkitSubtle)}catch{}this.subtle===null&&(this.config.enableSoftwareAES=!0)}var v=h.prototype;return v.destroy=function(){this.observer=null},v.isSync=function(){return this.config.enableSoftwareAES},v.flush=function(){var L=this.currentResult;if(!L){this.reset();return}var P=new Uint8Array(L);return this.reset(),this.removePKCS7Padding?(0,F.removePadding)(P):P},v.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},v.decrypt=function(L,P,c,l){if(this.config.enableSoftwareAES){this.softwareDecrypt(new Uint8Array(L),P,c);var u=this.flush();u&&l(u.buffer)}else this.webCryptoDecrypt(new Uint8Array(L),P,c).then(l)},v.softwareDecrypt=function(L,P,c){var l=this.currentIV,u=this.currentResult,E=this.remainderData;this.logOnce("JS AES decrypt"),E&&(L=(0,B.appendUint8Array)(E,L),this.remainderData=null);var y=this.getValidChunk(L);if(!y.length)return null;l&&(c=l);var d=this.softwareDecrypter;d||(d=this.softwareDecrypter=new F.default),d.expandKey(P);var f=u;return this.currentResult=d.decrypt(y.buffer,0,c),this.currentIV=(0,A.sliceUint8)(y,-16).buffer,f||null},v.webCryptoDecrypt=function(L,P,c){var l=this,u=this.subtle;return(this.key!==P||!this.fastAesKey)&&(this.key=P,this.fastAesKey=new D.default(u,P)),this.fastAesKey.expandKey().then(function(E){if(!u)return Promise.reject(new Error("web crypto not initialized"));var y=new I.default(u,c);return y.decrypt(L.buffer,E)}).catch(function(E){return l.onWebCryptoError(E,L,P,c)})},v.onWebCryptoError=function(L,P,c,l){return M.logger.warn("[decrypter.ts]: WebCrypto Error, disable WebCrypto API:",L),this.config.enableSoftwareAES=!0,this.logEnabled=!0,this.softwareDecrypt(P,c,l)},v.getValidChunk=function(L){var P=L,c=L.length-L.length%_;return c!==L.length&&(P=(0,A.sliceUint8)(L,0,c),this.remainderData=(0,A.sliceUint8)(L,c)),P},v.logOnce=function(L){!this.logEnabled||(M.logger.log("[decrypter.ts]: "+L),this.logEnabled=!1)},h}()},"./src/crypt/fast-aes-key.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>I});var I=function(){function D(M,B){this.subtle=void 0,this.key=void 0,this.subtle=M,this.key=B}var F=D.prototype;return F.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},D}()},"./src/demux/aacdemuxer.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>w});var I=a("./src/demux/base-audio-demuxer.ts"),D=a("./src/demux/adts.ts"),F=a("./src/utils/logger.ts"),M=a("./src/demux/id3.ts");function B(h,v){h.prototype=Object.create(v.prototype),h.prototype.constructor=h,A(h,v)}function A(h,v){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,P){return L.__proto__=P,L},A(h,v)}var _=function(h){B(v,h);function v(L,P){var c;return c=h.call(this)||this,c.observer=void 0,c.config=void 0,c.observer=L,c.config=P,c}var m=v.prototype;return m.resetInitSegment=function(P,c,l,u){h.prototype.resetInitSegment.call(this,P,c,l,u),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:c,duration:u,inputTimeScale:9e4,dropped:0}},v.probe=function(P){if(!P)return!1;for(var c=M.getID3Data(P,0)||[],l=c.length,u=P.length;l<u;l++)if(D.probe(P,l))return F.logger.log("ADTS sync word found !"),!0;return!1},m.canParse=function(P,c){return D.canParse(P,c)},m.appendFrame=function(P,c,l){D.initTrackConfig(P,this.observer,c,l,P.manifestCodec);var u=D.appendFrame(P,c,l,this.basePTS,this.frameIndex);if(u&&u.missing===0)return u},v}(I.default);const w=_},"./src/demux/adts.ts":(s,x,a)=>{a.r(x),a.d(x,{appendFrame:()=>l,canGetFrameLength:()=>w,canParse:()=>v,getAudioConfig:()=>M,getFrameDuration:()=>P,getFullFrameLength:()=>_,getHeaderLength:()=>A,initTrackConfig:()=>L,isHeader:()=>h,isHeaderPattern:()=>B,parseFrameHeader:()=>c,probe:()=>m});var I=a("./src/utils/logger.ts"),D=a("./src/errors.ts"),F=a("./src/events.ts");function M(u,E,y,d){var f,p,R,S,O=navigator.userAgent.toLowerCase(),C=d,b=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];f=((E[y+2]&192)>>>6)+1;var T=(E[y+2]&60)>>>2;if(T>b.length-1){u.trigger(F.Events.ERROR,{type:D.ErrorTypes.MEDIA_ERROR,details:D.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+T});return}return R=(E[y+2]&1)<<2,R|=(E[y+3]&192)>>>6,I.logger.log("manifest codec:"+d+", ADTS type:"+f+", samplingIndex:"+T),/firefox/i.test(O)?T>=6?(f=5,S=new Array(4),p=T-3):(f=2,S=new Array(2),p=T):O.indexOf("android")!==-1?(f=2,S=new Array(2),p=T):(f=5,S=new Array(4),d&&(d.indexOf("mp4a.40.29")!==-1||d.indexOf("mp4a.40.5")!==-1)||!d&&T>=6?p=T-3:((d&&d.indexOf("mp4a.40.2")!==-1&&(T>=6&&R===1||/vivaldi/i.test(O))||!d&&R===1)&&(f=2,S=new Array(2)),p=T)),S[0]=f<<3,S[0]|=(T&14)>>1,S[1]|=(T&1)<<7,S[1]|=R<<3,f===5&&(S[1]|=(p&14)>>1,S[2]=(p&1)<<7,S[2]|=8,S[3]=0),{config:S,samplerate:b[T],channelCount:R,codec:"mp4a.40."+f,manifestCodec:C}}function B(u,E){return u[E]===255&&(u[E+1]&246)===240}function A(u,E){return u[E+1]&1?7:9}function _(u,E){return(u[E+3]&3)<<11|u[E+4]<<3|(u[E+5]&224)>>>5}function w(u,E){return E+5<u.length}function h(u,E){return E+1<u.length&&B(u,E)}function v(u,E){return w(u,E)&&B(u,E)&&_(u,E)<=u.length-E}function m(u,E){if(h(u,E)){var y=A(u,E);if(E+y>=u.length)return!1;var d=_(u,E);if(d<=y)return!1;var f=E+d;return f===u.length||h(u,f)}return!1}function L(u,E,y,d,f){if(!u.samplerate){var p=M(E,y,d,f);if(!p)return;u.config=p.config,u.samplerate=p.samplerate,u.channelCount=p.channelCount,u.codec=p.codec,u.manifestCodec=p.manifestCodec,I.logger.log("parsed codec:"+u.codec+", rate:"+p.samplerate+", channels:"+p.channelCount)}}function P(u){return 9216e4/u}function c(u,E){var y=A(u,E);if(E+y<=u.length){var d=_(u,E)-y;if(d>0)return{headerLength:y,frameLength:d}}}function l(u,E,y,d,f){var p=P(u.samplerate),R=d+f*p,S=c(E,y),O;if(S){var C=S.frameLength,b=S.headerLength,T=b+C,g=Math.max(0,y+T-E.length);g?(O=new Uint8Array(T-b),O.set(E.subarray(y+b,E.length),0)):O=E.subarray(y+b,y+T);var k={unit:O,pts:R};return g||u.samples.push(k),{sample:k,length:T,missing:g}}var N=E.length-y;O=new Uint8Array(N),O.set(E.subarray(y,E.length),0);var U={unit:O,pts:R};return{sample:U,length:N,missing:-1}}},"./src/demux/base-audio-demuxer.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>h,initPTSFn:()=>w});var I=a("./src/polyfills/number.ts"),D=a("./src/demux/id3.ts"),F=a("./src/types/demuxer.ts"),M=a("./src/demux/dummy-demuxed-track.ts"),B=a("./src/utils/mp4-tools.ts"),A=a("./src/utils/typed-array.ts"),_=function(){function v(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}var m=v.prototype;return m.resetInitSegment=function(P,c,l,u){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},m.resetTimeStamp=function(P){this.initPTS=P,this.resetContiguity()},m.resetContiguity=function(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0},m.canParse=function(P,c){return!1},m.appendFrame=function(P,c,l){},m.demux=function(P,c){this.cachedData&&(P=(0,B.appendUint8Array)(this.cachedData,P),this.cachedData=null);var l=D.getID3Data(P,0),u=l?l.length:0,E,y=this._audioTrack,d=this._id3Track,f=l?D.getTimeStamp(l):void 0,p=P.length;for((this.basePTS===null||this.frameIndex===0&&(0,I.isFiniteNumber)(f))&&(this.basePTS=w(f,c,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),l&&l.length>0&&d.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:l,type:F.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY});u<p;){if(this.canParse(P,u)){var R=this.appendFrame(y,P,u);R?(this.frameIndex++,this.lastPTS=R.sample.pts,u+=R.length,E=u):u=p}else D.canParse(P,u)?(l=D.getID3Data(P,u),d.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:l,type:F.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY}),u+=l.length,E=u):u++;if(u===p&&E!==p){var S=(0,A.sliceUint8)(P,E);this.cachedData?this.cachedData=(0,B.appendUint8Array)(this.cachedData,S):this.cachedData=S}}return{audioTrack:y,videoTrack:(0,M.dummyTrack)(),id3Track:d,textTrack:(0,M.dummyTrack)()}},m.demuxSampleAes=function(P,c,l){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},m.flush=function(P){var c=this.cachedData;return c&&(this.cachedData=null,this.demux(c,0)),{audioTrack:this._audioTrack,videoTrack:(0,M.dummyTrack)(),id3Track:this._id3Track,textTrack:(0,M.dummyTrack)()}},m.destroy=function(){},v}(),w=function(m,L,P){return(0,I.isFiniteNumber)(m)?m*90:L*9e4+(P||0)};const h=_},"./src/demux/chunk-cache.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>I});var I=function(){function F(){this.chunks=[],this.dataLength=0}var M=F.prototype;return M.push=function(A){this.chunks.push(A),this.dataLength+=A.length},M.flush=function(){var A=this.chunks,_=this.dataLength,w;if(A.length)A.length===1?w=A[0]:w=D(A,_);else return new Uint8Array(0);return this.reset(),w},M.reset=function(){this.chunks.length=0,this.dataLength=0},F}();function D(F,M){for(var B=new Uint8Array(M),A=0,_=0;_<F.length;_++){var w=F[_];B.set(w,A),A+=w.length}return B}},"./src/demux/dummy-demuxed-track.ts":(s,x,a)=>{a.r(x),a.d(x,{dummyTrack:()=>I});function I(D,F){return D===void 0&&(D=""),F===void 0&&(F=9e4),{type:D,id:-1,pid:-1,inputTimeScale:F,sequenceNumber:-1,samples:[],dropped:0}}},"./src/demux/exp-golomb.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>F});var I=a("./src/utils/logger.ts"),D=function(){function M(A){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=A,this.bytesAvailable=A.byteLength,this.word=0,this.bitsAvailable=0}var B=M.prototype;return B.loadWord=function(){var _=this.data,w=this.bytesAvailable,h=_.byteLength-w,v=new Uint8Array(4),m=Math.min(4,w);if(m===0)throw new Error("no bytes available");v.set(_.subarray(h,h+m)),this.word=new DataView(v.buffer).getUint32(0),this.bitsAvailable=m*8,this.bytesAvailable-=m},B.skipBits=function(_){var w;this.bitsAvailable>_?(this.word<<=_,this.bitsAvailable-=_):(_-=this.bitsAvailable,w=_>>3,_-=w>>3,this.bytesAvailable-=w,this.loadWord(),this.word<<=_,this.bitsAvailable-=_)},B.readBits=function(_){var w=Math.min(this.bitsAvailable,_),h=this.word>>>32-w;return _>32&&I.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=w,this.bitsAvailable>0?this.word<<=w:this.bytesAvailable>0&&this.loadWord(),w=_-w,w>0&&this.bitsAvailable?h<<w|this.readBits(w):h},B.skipLZ=function(){var _;for(_=0;_<this.bitsAvailable;++_)if((this.word&2147483648>>>_)!==0)return this.word<<=_,this.bitsAvailable-=_,_;return this.loadWord(),_+this.skipLZ()},B.skipUEG=function(){this.skipBits(1+this.skipLZ())},B.skipEG=function(){this.skipBits(1+this.skipLZ())},B.readUEG=function(){var _=this.skipLZ();return this.readBits(_+1)-1},B.readEG=function(){var _=this.readUEG();return 1&_?1+_>>>1:-1*(_>>>1)},B.readBoolean=function(){return this.readBits(1)===1},B.readUByte=function(){return this.readBits(8)},B.readUShort=function(){return this.readBits(16)},B.readUInt=function(){return this.readBits(32)},B.skipScalingList=function(_){for(var w=8,h=8,v,m=0;m<_;m++)h!==0&&(v=this.readEG(),h=(w+v+256)%256),w=h===0?w:h},B.readSPS=function(){var _=0,w=0,h=0,v=0,m,L,P,c=this.readUByte.bind(this),l=this.readBits.bind(this),u=this.readUEG.bind(this),E=this.readBoolean.bind(this),y=this.skipBits.bind(this),d=this.skipEG.bind(this),f=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);c();var R=c();if(l(5),y(3),c(),f(),R===100||R===110||R===122||R===244||R===44||R===83||R===86||R===118||R===128){var S=u();if(S===3&&y(1),f(),f(),y(1),E())for(L=S!==3?8:12,P=0;P<L;P++)E()&&(P<6?p(16):p(64))}f();var O=u();if(O===0)u();else if(O===1)for(y(1),d(),d(),m=u(),P=0;P<m;P++)d();f(),y(1);var C=u(),b=u(),T=l(1);T===0&&y(1),y(1),E()&&(_=u(),w=u(),h=u(),v=u());var g=[1,1];if(E()&&E()){var k=c();switch(k){case 1:g=[1,1];break;case 2:g=[12,11];break;case 3:g=[10,11];break;case 4:g=[16,11];break;case 5:g=[40,33];break;case 6:g=[24,11];break;case 7:g=[20,11];break;case 8:g=[32,11];break;case 9:g=[80,33];break;case 10:g=[18,11];break;case 11:g=[15,11];break;case 12:g=[64,33];break;case 13:g=[160,99];break;case 14:g=[4,3];break;case 15:g=[3,2];break;case 16:g=[2,1];break;case 255:{g=[c()<<8|c(),c()<<8|c()];break}}}return{width:Math.ceil((C+1)*16-_*2-w*2),height:(2-T)*(b+1)*16-(T?2:4)*(h+v),pixelRatio:g}},B.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},M}();const F=D},"./src/demux/id3.ts":(s,x,a)=>{a.r(x),a.d(x,{canParse:()=>B,decodeFrame:()=>v,getID3Data:()=>F,getID3Frames:()=>h,getTimeStamp:()=>A,isFooter:()=>D,isHeader:()=>I,isTimeStampFrame:()=>_,testables:()=>u,utf8ArrayToStr:()=>l});var I=function(f,p){return p+10<=f.length&&f[p]===73&&f[p+1]===68&&f[p+2]===51&&f[p+3]<255&&f[p+4]<255&&f[p+6]<128&&f[p+7]<128&&f[p+8]<128&&f[p+9]<128},D=function(f,p){return p+10<=f.length&&f[p]===51&&f[p+1]===68&&f[p+2]===73&&f[p+3]<255&&f[p+4]<255&&f[p+6]<128&&f[p+7]<128&&f[p+8]<128&&f[p+9]<128},F=function(f,p){for(var R=p,S=0;I(f,p);){S+=10;var O=M(f,p+6);S+=O,D(f,p+10)&&(S+=10),p+=S}if(S>0)return f.subarray(R,R+S)},M=function(f,p){var R=0;return R=(f[p]&127)<<21,R|=(f[p+1]&127)<<14,R|=(f[p+2]&127)<<7,R|=f[p+3]&127,R},B=function(f,p){return I(f,p)&&M(f,p+6)+10<=f.length-p},A=function(f){for(var p=h(f),R=0;R<p.length;R++){var S=p[R];if(_(S))return c(S)}},_=function(f){return f&&f.key==="PRIV"&&f.info==="com.apple.streaming.transportStreamTimestamp"},w=function(f){var p=String.fromCharCode(f[0],f[1],f[2],f[3]),R=M(f,4),S=10;return{type:p,size:R,data:f.subarray(S,S+R)}},h=function(f){for(var p=0,R=[];I(f,p);){var S=M(f,p+6);p+=10;for(var O=p+S;p+8<O;){var C=w(f.subarray(p)),b=v(C);b&&R.push(b),p+=C.size+10}D(f,p)&&(p+=10)}return R},v=function(f){return f.type==="PRIV"?m(f):f.type[0]==="W"?P(f):L(f)},m=function(f){if(!(f.size<2)){var p=l(f.data,!0),R=new Uint8Array(f.data.subarray(p.length+1));return{key:f.type,info:p,data:R.buffer}}},L=function(f){if(!(f.size<2)){if(f.type==="TXXX"){var p=1,R=l(f.data.subarray(p),!0);p+=R.length+1;var S=l(f.data.subarray(p));return{key:f.type,info:R,data:S}}var O=l(f.data.subarray(1));return{key:f.type,data:O}}},P=function(f){if(f.type==="WXXX"){if(f.size<2)return;var p=1,R=l(f.data.subarray(p),!0);p+=R.length+1;var S=l(f.data.subarray(p));return{key:f.type,info:R,data:S}}var O=l(f.data);return{key:f.type,data:O}},c=function(f){if(f.data.byteLength===8){var p=new Uint8Array(f.data),R=p[3]&1,S=(p[4]<<23)+(p[5]<<15)+(p[6]<<7)+p[7];return S/=45,R&&(S+=4772185884e-2),Math.round(S)}},l=function(f,p){p===void 0&&(p=!1);var R=y();if(R){var S=R.decode(f);if(p){var O=S.indexOf("\0");return O!==-1?S.substring(0,O):S}return S.replace(/\0/g,"")}for(var C=f.length,b,T,g,k="",N=0;N<C;){if(b=f[N++],b===0&&p)return k;if(b===0||b===3)continue;switch(b>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:k+=String.fromCharCode(b);break;case 12:case 13:T=f[N++],k+=String.fromCharCode((b&31)<<6|T&63);break;case 14:T=f[N++],g=f[N++],k+=String.fromCharCode((b&15)<<12|(T&63)<<6|(g&63)<<0);break}}return k},u={decodeTextFrame:L},E;function y(){return!E&&typeof self.TextDecoder<"u"&&(E=new self.TextDecoder("utf-8")),E}},"./src/demux/mp3demuxer.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>w});var I=a("./src/demux/base-audio-demuxer.ts"),D=a("./src/demux/id3.ts"),F=a("./src/utils/logger.ts"),M=a("./src/demux/mpegaudio.ts");function B(h,v){h.prototype=Object.create(v.prototype),h.prototype.constructor=h,A(h,v)}function A(h,v){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,P){return L.__proto__=P,L},A(h,v)}var _=function(h){B(v,h);function v(){return h.apply(this,arguments)||this}var m=v.prototype;return m.resetInitSegment=function(P,c,l,u){h.prototype.resetInitSegment.call(this,P,c,l,u),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:c,duration:u,inputTimeScale:9e4,dropped:0}},v.probe=function(P){if(!P)return!1;for(var c=D.getID3Data(P,0)||[],l=c.length,u=P.length;l<u;l++)if(M.probe(P,l))return F.logger.log("MPEG Audio sync word found !"),!0;return!1},m.canParse=function(P,c){return M.canParse(P,c)},m.appendFrame=function(P,c,l){if(this.basePTS!==null)return M.appendFrame(P,c,l,this.basePTS,this.frameIndex)},v}(I.default);const w=_},"./src/demux/mp4demuxer.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>_});var I=a("./src/polyfills/number.ts"),D=a("./src/types/demuxer.ts"),F=a("./src/utils/mp4-tools.ts"),M=a("./src/demux/dummy-demuxed-track.ts"),B=/\/emsg[-/]ID3/i,A=function(){function w(v,m){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=m}var h=w.prototype;return h.resetTimeStamp=function(){},h.resetInitSegment=function(m,L,P,c){var l=(0,F.parseInitSegment)(m),u=this.videoTrack=(0,M.dummyTrack)("video",1),E=this.audioTrack=(0,M.dummyTrack)("audio",1),y=this.txtTrack=(0,M.dummyTrack)("text",1);if(this.id3Track=(0,M.dummyTrack)("id3",1),this.timeOffset=0,l.video){var d=l.video,f=d.id,p=d.timescale,R=d.codec;u.id=f,u.timescale=y.timescale=p,u.codec=R}if(l.audio){var S=l.audio,O=S.id,C=S.timescale,b=S.codec;E.id=O,E.timescale=C,E.codec=b}y.id=F.RemuxerTrackIdConfig.text,u.sampleDuration=0,u.duration=E.duration=c},h.resetContiguity=function(){},w.probe=function(m){return m=m.length>16384?m.subarray(0,16384):m,(0,F.findBox)(m,["moof"]).length>0},h.demux=function(m,L){this.timeOffset=L;var P=m,c=this.videoTrack,l=this.txtTrack;if(this.config.progressive){this.remainderData&&(P=(0,F.appendUint8Array)(this.remainderData,m));var u=(0,F.segmentValidRange)(P);this.remainderData=u.remainder,c.samples=u.valid||new Uint8Array}else c.samples=P;var E=this.extractID3Track(c,L);return l.samples=(0,F.parseSamples)(L,c),{videoTrack:c,audioTrack:this.audioTrack,id3Track:E,textTrack:this.txtTrack}},h.flush=function(){var m=this.timeOffset,L=this.videoTrack,P=this.txtTrack;L.samples=this.remainderData||new Uint8Array,this.remainderData=null;var c=this.extractID3Track(L,this.timeOffset);return P.samples=(0,F.parseSamples)(m,L),{videoTrack:L,audioTrack:(0,M.dummyTrack)(),id3Track:c,textTrack:(0,M.dummyTrack)()}},h.extractID3Track=function(m,L){var P=this.id3Track;if(m.samples.length){var c=(0,F.findBox)(m.samples,["emsg"]);c&&c.forEach(function(l){var u=(0,F.parseEmsg)(l);if(B.test(u.schemeIdUri)){var E=(0,I.isFiniteNumber)(u.presentationTime)?u.presentationTime/u.timeScale:L+u.presentationTimeDelta/u.timeScale,y=u.eventDuration===4294967295?Number.POSITIVE_INFINITY:u.eventDuration/u.timeScale;y<=.001&&(y=Number.POSITIVE_INFINITY);var d=u.payload;P.samples.push({data:d,len:d.byteLength,dts:E,pts:E,type:D.MetadataSchema.emsg,duration:y})}})}return P},h.demuxSampleAes=function(m,L,P){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},h.destroy=function(){},w}();const _=A},"./src/demux/mpegaudio.ts":(s,x,a)=>{a.r(x),a.d(x,{appendFrame:()=>A,canParse:()=>v,isHeader:()=>h,isHeaderPattern:()=>w,parseHeader:()=>_,probe:()=>m});var I=null,D=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],F=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],M=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],B=[0,1,1,4];function A(L,P,c,l,u){if(!(c+24>P.length)){var E=_(P,c);if(E&&c+E.frameLength<=P.length){var y=E.samplesPerFrame*9e4/E.sampleRate,d=l+u*y,f={unit:P.subarray(c,c+E.frameLength),pts:d,dts:d};return L.config=[],L.channelCount=E.channelCount,L.samplerate=E.sampleRate,L.samples.push(f),{sample:f,length:E.frameLength,missing:0}}}}function _(L,P){var c=L[P+1]>>3&3,l=L[P+1]>>1&3,u=L[P+2]>>4&15,E=L[P+2]>>2&3;if(c!==1&&u!==0&&u!==15&&E!==3){var y=L[P+2]>>1&1,d=L[P+3]>>6,f=c===3?3-l:l===3?3:4,p=D[f*14+u-1]*1e3,R=c===3?0:c===2?1:2,S=F[R*3+E],O=d===3?1:2,C=M[c][l],b=B[l],T=C*8*b,g=Math.floor(C*p/S+y)*b;if(I===null){var k=navigator.userAgent||"",N=k.match(/Chrome\/(\d+)/i);I=N?parseInt(N[1]):0}var U=!!I&&I<=87;return U&&l===2&&p>=224e3&&d===0&&(L[P+3]=L[P+3]|128),{sampleRate:S,channelCount:O,frameLength:g,samplesPerFrame:T}}}function w(L,P){return L[P]===255&&(L[P+1]&224)===224&&(L[P+1]&6)!==0}function h(L,P){return P+1<L.length&&w(L,P)}function v(L,P){var c=4;return w(L,P)&&c<=L.length-P}function m(L,P){if(P+1<L.length&&w(L,P)){var c=4,l=_(L,P),u=c;l!=null&&l.frameLength&&(u=l.frameLength);var E=P+u;return E===L.length||h(L,E)}return!1}},"./src/demux/sample-aes.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>M});var I=a("./src/crypt/decrypter.ts"),D=a("./src/utils/mp4-tools.ts"),F=function(){function B(_,w,h){this.keyData=void 0,this.decrypter=void 0,this.keyData=h,this.decrypter=new I.default(_,w,{removePKCS7Padding:!1})}var A=B.prototype;return A.decryptBuffer=function(w,h){this.decrypter.decrypt(w,this.keyData.key.buffer,this.keyData.iv.buffer,h)},A.decryptAacSample=function(w,h,v,m){var L=w[h].unit;if(!(L.length<=16)){var P=L.subarray(16,L.length-L.length%16),c=P.buffer.slice(P.byteOffset,P.byteOffset+P.length),l=this;this.decryptBuffer(c,function(u){var E=new Uint8Array(u);L.set(E,16),m||l.decryptAacSamples(w,h+1,v)})}},A.decryptAacSamples=function(w,h,v){for(;;h++){if(h>=w.length){v();return}if(!(w[h].unit.length<32)){var m=this.decrypter.isSync();if(this.decryptAacSample(w,h,v,m),!m)return}}},A.getAvcEncryptedData=function(w){for(var h=Math.floor((w.length-48)/160)*16+16,v=new Int8Array(h),m=0,L=32;L<w.length-16;L+=160,m+=16)v.set(w.subarray(L,L+16),m);return v},A.getAvcDecryptedUnit=function(w,h){for(var v=new Uint8Array(h),m=0,L=32;L<w.length-16;L+=160,m+=16)w.set(v.subarray(m,m+16),L);return w},A.decryptAvcSample=function(w,h,v,m,L,P){var c=(0,D.discardEPB)(L.data),l=this.getAvcEncryptedData(c),u=this;this.decryptBuffer(l.buffer,function(E){L.data=u.getAvcDecryptedUnit(c,E),P||u.decryptAvcSamples(w,h,v+1,m)})},A.decryptAvcSamples=function(w,h,v,m){if(w instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;h++,v=0){if(h>=w.length){m();return}for(var L=w[h].units;!(v>=L.length);v++){var P=L[v];if(!(P.data.length<=48||P.type!==1&&P.type!==5)){var c=this.decrypter.isSync();if(this.decryptAvcSample(w,h,v,m,P,c),!c)return}}}},B}();const M=F},"./src/demux/transmuxer-interface.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>h});var I=a("./src/demux/webworkify-webpack.js"),D=a("./src/events.ts"),F=a("./src/demux/transmuxer.ts"),M=a("./src/utils/logger.ts"),B=a("./src/errors.ts"),A=a("./src/utils/mediasource-helper.ts"),_=a("./node_modules/eventemitter3/index.js"),w=(0,A.getMediaSource)()||{isTypeSupported:function(){return!1}},h=function(){function v(L,P,c,l){var u=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;var E=L.config;this.hls=L,this.id=P,this.useWorker=!!E.enableWorker,this.onTransmuxComplete=c,this.onFlush=l;var y=function(S,O){O=O||{},O.frag=u.frag,O.id=u.id,u.hls.trigger(S,O)};this.observer=new _.EventEmitter,this.observer.on(D.Events.FRAG_DECRYPTED,y),this.observer.on(D.Events.ERROR,y);var d={mp4:w.isTypeSupported("video/mp4"),mpeg:w.isTypeSupported("audio/mpeg"),mp3:w.isTypeSupported('audio/mp4; codecs="mp3"')},f=navigator.vendor;if(this.useWorker&&typeof Worker<"u"){M.logger.log("demuxing in webworker");var p;try{p=this.worker=(0,I.default)("./src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),p.addEventListener("message",this.onwmsg),p.onerror=function(R){u.useWorker=!1,M.logger.warn("Exception in webworker, fallback to inline"),u.hls.trigger(D.Events.ERROR,{type:B.ErrorTypes.OTHER_ERROR,details:B.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:new Error(R.message+"  ("+R.filename+":"+R.lineno+")")})},p.postMessage({cmd:"init",typeSupported:d,vendor:f,id:P,config:JSON.stringify(E)})}catch(R){M.logger.warn("Error in worker:",R),M.logger.error("Error while initializing DemuxerWorker, fallback to inline"),p&&self.URL.revokeObjectURL(p.objectURL),this.transmuxer=new F.default(this.observer,d,E,f,P),this.worker=null}}else this.transmuxer=new F.default(this.observer,d,E,f,P)}var m=v.prototype;return m.destroy=function(){var P=this.worker;if(P)P.removeEventListener("message",this.onwmsg),P.terminate(),this.worker=null,this.onwmsg=void 0;else{var c=this.transmuxer;c&&(c.destroy(),this.transmuxer=null)}var l=this.observer;l&&l.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null},m.push=function(P,c,l,u,E,y,d,f,p,R){var S,O,C=this;p.transmuxing.start=self.performance.now();var b=this.transmuxer,T=this.worker,g=y?y.start:E.start,k=E.decryptdata,N=this.frag,U=!(N&&E.cc===N.cc),W=!(N&&p.level===N.level),$=N?p.sn-N.sn:-1,K=this.part?p.part-this.part.index:-1,z=$===0&&p.id>1&&p.id===(N==null?void 0:N.stats.chunkCount),j=!W&&($===1||$===0&&(K===1||z&&K<=0)),V=self.performance.now();(W||$||E.stats.parsing.start===0)&&(E.stats.parsing.start=V),y&&(K||!j)&&(y.stats.parsing.start=V);var X=!(N&&((S=E.initSegment)===null||S===void 0?void 0:S.url)===((O=N.initSegment)===null||O===void 0?void 0:O.url)),Q=new F.TransmuxState(U,j,f,W,g,X);if(!j||U||X){M.logger.log("[transmuxer-interface, "+E.type+"]: Starting new transmux session for sn: "+p.sn+" p: "+p.part+" level: "+p.level+" id: "+p.id+`
        discontinuity: `+U+`
        trackSwitch: `+W+`
        contiguous: `+j+`
        accurateTimeOffset: `+f+`
        timeOffset: `+g+`
        initSegmentChange: `+X);var J=new F.TransmuxConfig(l,u,c,d,R);this.configureTransmuxer(J)}if(this.frag=E,this.part=y,T)T.postMessage({cmd:"demux",data:P,decryptdata:k,chunkMeta:p,state:Q},P instanceof ArrayBuffer?[P]:[]);else if(b){var te=b.push(P,k,p,Q);(0,F.isPromise)(te)?te.then(function(ne){C.handleTransmuxComplete(ne)}):this.handleTransmuxComplete(te)}},m.flush=function(P){var c=this;P.transmuxing.start=self.performance.now();var l=this.transmuxer,u=this.worker;if(u)u.postMessage({cmd:"flush",chunkMeta:P});else if(l){var E=l.flush(P);(0,F.isPromise)(E)?E.then(function(y){c.handleFlushResult(y,P)}):this.handleFlushResult(E,P)}},m.handleFlushResult=function(P,c){var l=this;P.forEach(function(u){l.handleTransmuxComplete(u)}),this.onFlush(c)},m.onWorkerMessage=function(P){var c=P.data,l=this.hls;switch(c.event){case"init":{self.URL.revokeObjectURL(this.worker.objectURL);break}case"transmuxComplete":{this.handleTransmuxComplete(c.data);break}case"flush":{this.onFlush(c.data);break}case"workerLog":M.logger[c.data.logType]&&M.logger[c.data.logType](c.data.message);break;default:{c.data=c.data||{},c.data.frag=this.frag,c.data.id=this.id,l.trigger(c.event,c.data);break}}},m.configureTransmuxer=function(P){var c=this.worker,l=this.transmuxer;c?c.postMessage({cmd:"configure",config:P}):l&&l.configure(P)},m.handleTransmuxComplete=function(P){P.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(P)},v}()},"./src/demux/transmuxer-worker.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>B});var I=a("./src/demux/transmuxer.ts"),D=a("./src/events.ts"),F=a("./src/utils/logger.ts"),M=a("./node_modules/eventemitter3/index.js");function B(v){var m=new M.EventEmitter,L=function(l,u){v.postMessage({event:l,data:u})};m.on(D.Events.FRAG_DECRYPTED,L),m.on(D.Events.ERROR,L);var P=function(){var l=function(y){var d=function(p){L("workerLog",{logType:y,message:p})};F.logger[y]=d};for(var u in F.logger)l(u)};v.addEventListener("message",function(c){var l=c.data;switch(l.cmd){case"init":{var u=JSON.parse(l.config);v.transmuxer=new I.default(m,l.typeSupported,u,l.vendor,l.id),(0,F.enableLogs)(u.debug,l.id),P(),L("init",null);break}case"configure":{v.transmuxer.configure(l.config);break}case"demux":{var E=v.transmuxer.push(l.data,l.decryptdata,l.chunkMeta,l.state);(0,I.isPromise)(E)?E.then(function(f){A(v,f)}):A(v,E);break}case"flush":{var y=l.chunkMeta,d=v.transmuxer.flush(y);(0,I.isPromise)(d)?d.then(function(f){w(v,f,y)}):w(v,d,y);break}}})}function A(v,m){if(h(m.remuxResult))return!1;var L=[],P=m.remuxResult,c=P.audio,l=P.video;return c&&_(L,c),l&&_(L,l),v.postMessage({event:"transmuxComplete",data:m},L),!0}function _(v,m){m.data1&&v.push(m.data1.buffer),m.data2&&v.push(m.data2.buffer)}function w(v,m,L){var P=m.reduce(function(c,l){return A(v,l)||c},!1);P||v.postMessage({event:"transmuxComplete",data:m[0]}),v.postMessage({event:"flush",data:L})}function h(v){return!v.audio&&!v.video&&!v.text&&!v.id3&&!v.initSegment}},"./src/demux/transmuxer.ts":(s,x,a)=>{a.r(x),a.d(x,{TransmuxConfig:()=>E,TransmuxState:()=>y,default:()=>P,isPromise:()=>u});var I=a("./src/events.ts"),D=a("./src/errors.ts"),F=a("./src/crypt/decrypter.ts"),M=a("./src/demux/aacdemuxer.ts"),B=a("./src/demux/mp4demuxer.ts"),A=a("./src/demux/tsdemuxer.ts"),_=a("./src/demux/mp3demuxer.ts"),w=a("./src/remux/mp4-remuxer.ts"),h=a("./src/remux/passthrough-remuxer.ts"),v=a("./src/utils/logger.ts"),m;try{m=self.performance.now.bind(self.performance)}catch{v.logger.debug("Unable to use Performance API on this environment"),m=self.Date.now}var L=[{demux:A.default,remux:w.default},{demux:B.default,remux:h.default},{demux:M.default,remux:w.default},{demux:_.default,remux:w.default}],P=function(){function d(p,R,S,O,C){this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=p,this.typeSupported=R,this.config=S,this.vendor=O,this.id=C}var f=d.prototype;return f.configure=function(R){this.transmuxConfig=R,this.decrypter&&this.decrypter.reset()},f.push=function(R,S,O,C){var b=this,T=O.transmuxing;T.executeStart=m();var g=new Uint8Array(R),k=this.config,N=this.currentTransmuxState,U=this.transmuxConfig;C&&(this.currentTransmuxState=C);var W=C||N,$=W.contiguous,K=W.discontinuity,z=W.trackSwitch,j=W.accurateTimeOffset,V=W.timeOffset,X=W.initSegmentChange,Q=U.audioCodec,J=U.videoCodec,te=U.defaultInitPts,ne=U.duration,se=U.initSegmentData;(K||z||X)&&this.resetInitSegment(se,Q,J,ne),(K||X)&&this.resetInitialTimestamp(te),$||this.resetContiguity();var oe=c(g,S);if(oe&&oe.method==="AES-128"){var pe=this.getDecrypter();if(k.enableSoftwareAES){var ue=pe.softwareDecrypt(g,oe.key.buffer,oe.iv.buffer);if(!ue)return T.executeEnd=m(),l(O);g=new Uint8Array(ue)}else return this.decryptionPromise=pe.webCryptoDecrypt(g,oe.key.buffer,oe.iv.buffer).then(function(ge){var me=b.push(ge,null,O);return b.decryptionPromise=null,me}),this.decryptionPromise}this.needsProbing(g,K,z)&&this.configureTransmuxer(g,U);var ie=this.transmux(g,oe,V,j,O),ce=this.currentTransmuxState;return ce.contiguous=!0,ce.discontinuity=!1,ce.trackSwitch=!1,T.executeEnd=m(),ie},f.flush=function(R){var S=this,O=R.transmuxing;O.executeStart=m();var C=this.decrypter,b=this.currentTransmuxState,T=this.decryptionPromise;if(T)return T.then(function(){return S.flush(R)});var g=[],k=b.timeOffset;if(C){var N=C.flush();N&&g.push(this.push(N,null,R))}var U=this.demuxer,W=this.remuxer;if(!U||!W)return this.observer.emit(I.Events.ERROR,I.Events.ERROR,{type:D.ErrorTypes.MEDIA_ERROR,details:D.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),O.executeEnd=m(),[l(R)];var $=U.flush(k);return u($)?$.then(function(K){return S.flushRemux(g,K,R),g}):(this.flushRemux(g,$,R),g)},f.flushRemux=function(R,S,O){var C=S.audioTrack,b=S.videoTrack,T=S.id3Track,g=S.textTrack,k=this.currentTransmuxState,N=k.accurateTimeOffset,U=k.timeOffset;v.logger.log("[transmuxer.ts]: Flushed fragment "+O.sn+(O.part>-1?" p: "+O.part:"")+" of level "+O.level);var W=this.remuxer.remux(C,b,T,g,U,N,!0,this.id);R.push({remuxResult:W,chunkMeta:O}),O.transmuxing.executeEnd=m()},f.resetInitialTimestamp=function(R){var S=this.demuxer,O=this.remuxer;!S||!O||(S.resetTimeStamp(R),O.resetTimeStamp(R))},f.resetContiguity=function(){var R=this.demuxer,S=this.remuxer;!R||!S||(R.resetContiguity(),S.resetNextTimestamp())},f.resetInitSegment=function(R,S,O,C){var b=this.demuxer,T=this.remuxer;!b||!T||(b.resetInitSegment(R,S,O,C),T.resetInitSegment(R,S,O))},f.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},f.transmux=function(R,S,O,C,b){var T;return S&&S.method==="SAMPLE-AES"?T=this.transmuxSampleAes(R,S,O,C,b):T=this.transmuxUnencrypted(R,O,C,b),T},f.transmuxUnencrypted=function(R,S,O,C){var b=this.demuxer.demux(R,S,!1,!this.config.progressive),T=b.audioTrack,g=b.videoTrack,k=b.id3Track,N=b.textTrack,U=this.remuxer.remux(T,g,k,N,S,O,!1,this.id);return{remuxResult:U,chunkMeta:C}},f.transmuxSampleAes=function(R,S,O,C,b){var T=this;return this.demuxer.demuxSampleAes(R,S,O).then(function(g){var k=T.remuxer.remux(g.audioTrack,g.videoTrack,g.id3Track,g.textTrack,O,C,!1,T.id);return{remuxResult:k,chunkMeta:b}})},f.configureTransmuxer=function(R,S){for(var O=this.config,C=this.observer,b=this.typeSupported,T=this.vendor,g=S.audioCodec,k=S.defaultInitPts,N=S.duration,U=S.initSegmentData,W=S.videoCodec,$,K=0,z=L.length;K<z;K++)if(L[K].demux.probe(R)){$=L[K];break}$||(v.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),$={demux:B.default,remux:h.default});var j=this.demuxer,V=this.remuxer,X=$.remux,Q=$.demux;(!V||!(V instanceof X))&&(this.remuxer=new X(C,O,b,T)),(!j||!(j instanceof Q))&&(this.demuxer=new Q(C,O,b),this.probe=Q.probe),this.resetInitSegment(U,g,W,N),this.resetInitialTimestamp(k)},f.needsProbing=function(R,S,O){return!this.demuxer||!this.remuxer||S||O},f.getDecrypter=function(){var R=this.decrypter;return R||(R=this.decrypter=new F.default(this.observer,this.config)),R},d}();function c(d,f){var p=null;return d.byteLength>0&&f!=null&&f.key!=null&&f.iv!==null&&f.method!=null&&(p=f),p}var l=function(f){return{remuxResult:{},chunkMeta:f}};function u(d){return"then"in d&&d.then instanceof Function}var E=function(f,p,R,S,O){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=f,this.videoCodec=p,this.initSegmentData=R,this.duration=S,this.defaultInitPts=O},y=function(f,p,R,S,O,C){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=f,this.contiguous=p,this.accurateTimeOffset=R,this.trackSwitch=S,this.timeOffset=O,this.initSegmentChange=C}},"./src/demux/tsdemuxer.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>y});var I=a("./src/demux/adts.ts"),D=a("./src/demux/mpegaudio.ts"),F=a("./src/demux/exp-golomb.ts"),M=a("./src/demux/sample-aes.ts"),B=a("./src/events.ts"),A=a("./src/utils/mp4-tools.ts"),_=a("./src/utils/logger.ts"),w=a("./src/errors.ts"),h=a("./src/types/demuxer.ts");function v(){return v=Object.assign?Object.assign.bind():function(d){for(var f=1;f<arguments.length;f++){var p=arguments[f];for(var R in p)Object.prototype.hasOwnProperty.call(p,R)&&(d[R]=p[R])}return d},v.apply(this,arguments)}var m=188,L=function(){function d(p,R,S){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=p,this.config=R,this.typeSupported=S}d.probe=function(R){var S=d.syncOffset(R);return S>0&&_.logger.warn("MPEG2-TS detected but first sync word found @ offset "+S),S!==-1},d.syncOffset=function(R){for(var S=Math.min(m*5,R.length-m*2)+1,O=0;O<S;){if(R[O]===71&&R[O+m]===71)return O;O++}return-1},d.createTrack=function(R,S){return{container:R==="video"||R==="audio"?"video/mp2t":void 0,type:R,id:A.RemuxerTrackIdConfig[R],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:R==="audio"?S:void 0}};var f=d.prototype;return f.resetInitSegment=function(R,S,O,C){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=d.createTrack("video"),this._audioTrack=d.createTrack("audio",C),this._id3Track=d.createTrack("id3"),this._txtTrack=d.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=S,this.videoCodec=O,this._duration=C},f.resetTimeStamp=function(){},f.resetContiguity=function(){var R=this._audioTrack,S=this._avcTrack,O=this._id3Track;R&&(R.pesData=null),S&&(S.pesData=null),O&&(O.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null},f.demux=function(R,S,O,C){O===void 0&&(O=!1),C===void 0&&(C=!1),O||(this.sampleAes=null);var b,T=this._avcTrack,g=this._audioTrack,k=this._id3Track,N=this._txtTrack,U=T.pid,W=T.pesData,$=g.pid,K=k.pid,z=g.pesData,j=k.pesData,V=null,X=this.pmtParsed,Q=this._pmtId,J=R.length;if(this.remainderData&&(R=(0,A.appendUint8Array)(this.remainderData,R),J=R.length,this.remainderData=null),J<m&&!C)return this.remainderData=R,{audioTrack:g,videoTrack:T,id3Track:k,textTrack:N};var te=Math.max(0,d.syncOffset(R));J-=(J-te)%m,J<R.byteLength&&!C&&(this.remainderData=new Uint8Array(R.buffer,J,R.buffer.byteLength-J));for(var ne=0,se=te;se<J;se+=m)if(R[se]===71){var oe=!!(R[se+1]&64),pe=((R[se+1]&31)<<8)+R[se+2],ue=(R[se+3]&48)>>4,ie=void 0;if(ue>1){if(ie=se+5+R[se+4],ie===se+m)continue}else ie=se+4;switch(pe){case U:oe&&(W&&(b=u(W))&&this.parseAVCPES(T,N,b,!1),W={data:[],size:0}),W&&(W.data.push(R.subarray(ie,se+m)),W.size+=se+m-ie);break;case $:if(oe){if(z&&(b=u(z)))switch(g.segmentCodec){case"aac":this.parseAACPES(g,b);break;case"mp3":this.parseMPEGPES(g,b);break}z={data:[],size:0}}z&&(z.data.push(R.subarray(ie,se+m)),z.size+=se+m-ie);break;case K:oe&&(j&&(b=u(j))&&this.parseID3PES(k,b),j={data:[],size:0}),j&&(j.data.push(R.subarray(ie,se+m)),j.size+=se+m-ie);break;case 0:oe&&(ie+=R[ie]+1),Q=this._pmtId=c(R,ie);break;case Q:{oe&&(ie+=R[ie]+1);var ce=l(R,ie,this.typeSupported,O);U=ce.avc,U>0&&(T.pid=U),$=ce.audio,$>0&&(g.pid=$,g.segmentCodec=ce.segmentCodec),K=ce.id3,K>0&&(k.pid=K),V!==null&&!X&&(_.logger.log("unknown PID '"+V+"' in TS found"),V=null,se=te-188),X=this.pmtParsed=!0;break}case 17:case 8191:break;default:V=pe;break}}else ne++;ne>0&&this.observer.emit(B.Events.ERROR,B.Events.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"Found "+ne+" TS packet/s that do not start with 0x47"}),T.pesData=W,g.pesData=z,k.pesData=j;var ge={audioTrack:g,videoTrack:T,id3Track:k,textTrack:N};return C&&this.extractRemainingSamples(ge),ge},f.flush=function(){var R=this.remainderData;this.remainderData=null;var S;return R?S=this.demux(R,-1,!1,!0):S={videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(S),this.sampleAes?this.decrypt(S,this.sampleAes):S},f.extractRemainingSamples=function(R){var S=R.audioTrack,O=R.videoTrack,C=R.id3Track,b=R.textTrack,T=O.pesData,g=S.pesData,k=C.pesData,N;if(T&&(N=u(T))?(this.parseAVCPES(O,b,N,!0),O.pesData=null):O.pesData=T,g&&(N=u(g))){switch(S.segmentCodec){case"aac":this.parseAACPES(S,N);break;case"mp3":this.parseMPEGPES(S,N);break}S.pesData=null}else g!=null&&g.size&&_.logger.log("last AAC PES packet truncated,might overlap between fragments"),S.pesData=g;k&&(N=u(k))?(this.parseID3PES(C,N),C.pesData=null):C.pesData=k},f.demuxSampleAes=function(R,S,O){var C=this.demux(R,O,!0,!this.config.progressive),b=this.sampleAes=new M.default(this.observer,this.config,S);return this.decrypt(C,b)},f.decrypt=function(R,S){return new Promise(function(O){var C=R.audioTrack,b=R.videoTrack;C.samples&&C.segmentCodec==="aac"?S.decryptAacSamples(C.samples,0,function(){b.samples?S.decryptAvcSamples(b.samples,0,0,function(){O(R)}):O(R)}):b.samples&&S.decryptAvcSamples(b.samples,0,0,function(){O(R)})})},f.destroy=function(){this._duration=0},f.parseAVCPES=function(R,S,O,C){var b=this,T=this.parseAVCNALu(R,O.data),g=this.avcSample,k,N=!1;O.data=null,g&&T.length&&!R.audFound&&(E(g,R),g=this.avcSample=P(!1,O.pts,O.dts,"")),T.forEach(function(U){switch(U.type){case 1:{k=!0,g||(g=b.avcSample=P(!0,O.pts,O.dts,"")),g.frame=!0;var W=U.data;if(N&&W.length>4){var $=new F.default(W).readSliceType();($===2||$===4||$===7||$===9)&&(g.key=!0)}break}case 5:k=!0,g||(g=b.avcSample=P(!0,O.pts,O.dts,"")),g.key=!0,g.frame=!0;break;case 6:{k=!0,(0,A.parseSEIMessageFromNALu)(U.data,1,O.pts,S.samples);break}case 7:if(k=!0,N=!0,!R.sps){var K=new F.default(U.data),z=K.readSPS();R.width=z.width,R.height=z.height,R.pixelRatio=z.pixelRatio,R.sps=[U.data],R.duration=b._duration;for(var j=U.data.subarray(1,4),V="avc1.",X=0;X<3;X++){var Q=j[X].toString(16);Q.length<2&&(Q="0"+Q),V+=Q}R.codec=V}break;case 8:k=!0,R.pps||(R.pps=[U.data]);break;case 9:k=!1,R.audFound=!0,g&&E(g,R),g=b.avcSample=P(!1,O.pts,O.dts,"");break;case 12:k=!0;break;default:k=!1,g&&(g.debug+="unknown NAL "+U.type+" ");break}if(g&&k){var J=g.units;J.push(U)}}),C&&g&&(E(g,R),this.avcSample=null)},f.getLastNalUnit=function(R){var S,O=this.avcSample,C;if((!O||O.units.length===0)&&(O=R[R.length-1]),(S=O)!==null&&S!==void 0&&S.units){var b=O.units;C=b[b.length-1]}return C},f.parseAVCNALu=function(R,S){var O=S.byteLength,C=R.naluState||0,b=C,T=[],g=0,k,N,U,W=-1,$=0;for(C===-1&&(W=0,$=S[0]&31,C=0,g=1);g<O;){if(k=S[g++],!C){C=k?0:1;continue}if(C===1){C=k?0:2;continue}if(!k)C=3;else if(k===1){if(W>=0){var K={data:S.subarray(W,g-C-1),type:$};T.push(K)}else{var z=this.getLastNalUnit(R.samples);if(z&&(b&&g<=4-b&&z.state&&(z.data=z.data.subarray(0,z.data.byteLength-b)),N=g-C-1,N>0)){var j=new Uint8Array(z.data.byteLength+N);j.set(z.data,0),j.set(S.subarray(0,N),z.data.byteLength),z.data=j,z.state=0}}g<O?(U=S[g]&31,W=g,$=U,C=0):C=-1}else C=0}if(W>=0&&C>=0){var V={data:S.subarray(W,O),type:$,state:C};T.push(V)}if(T.length===0){var X=this.getLastNalUnit(R.samples);if(X){var Q=new Uint8Array(X.data.byteLength+S.byteLength);Q.set(X.data,0),Q.set(S,X.data.byteLength),X.data=Q}}return R.naluState=C,T},f.parseAACPES=function(R,S){var O=0,C=this.aacOverFlow,b=S.data;if(C){this.aacOverFlow=null;var T=C.missing,g=C.sample.unit.byteLength;if(T===-1){var k=new Uint8Array(g+b.byteLength);k.set(C.sample.unit,0),k.set(b,g),b=k}else{var N=g-T;C.sample.unit.set(b.subarray(0,T),N),R.samples.push(C.sample),O=C.missing}}var U,W;for(U=O,W=b.length;U<W-1&&!I.isHeader(b,U);U++);if(U!==O){var $,K;if(U<W-1?($="AAC PES did not start with ADTS header,offset:"+U,K=!1):($="no ADTS header found in AAC PES",K=!0),_.logger.warn("parsing error:"+$),this.observer.emit(B.Events.ERROR,B.Events.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.FRAG_PARSING_ERROR,fatal:K,reason:$}),K)return}I.initTrackConfig(R,this.observer,b,U,this.audioCodec);var z;if(S.pts!==void 0)z=S.pts;else if(C){var j=I.getFrameDuration(R.samplerate);z=C.sample.pts+j}else{_.logger.warn("[tsdemuxer]: AAC PES unknown PTS");return}for(var V=0,X;U<W;)if(X=I.appendFrame(R,b,U,z,V),U+=X.length,X.missing){this.aacOverFlow=X;break}else for(V++;U<W-1&&!I.isHeader(b,U);U++);},f.parseMPEGPES=function(R,S){var O=S.data,C=O.length,b=0,T=0,g=S.pts;if(g===void 0){_.logger.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;T<C;)if(D.isHeader(O,T)){var k=D.appendFrame(R,O,T,g,b);if(k)T+=k.length,b++;else break}else T++},f.parseID3PES=function(R,S){if(S.pts===void 0){_.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");return}var O=v({},S,{type:this._avcTrack?h.MetadataSchema.emsg:h.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY});R.samples.push(O)},d}();function P(d,f,p,R){return{key:d,frame:!1,pts:f,dts:p,units:[],debug:R,length:0}}function c(d,f){return(d[f+10]&31)<<8|d[f+11]}function l(d,f,p,R){var S={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},O=(d[f+1]&15)<<8|d[f+2],C=f+3+O-4,b=(d[f+10]&15)<<8|d[f+11];for(f+=12+b;f<C;){var T=(d[f+1]&31)<<8|d[f+2];switch(d[f]){case 207:if(!R){_.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:S.audio===-1&&(S.audio=T);break;case 21:S.id3===-1&&(S.id3=T);break;case 219:if(!R){_.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:S.avc===-1&&(S.avc=T);break;case 3:case 4:p.mpeg!==!0&&p.mp3!==!0?_.logger.log("MPEG audio found, not supported in this browser"):S.audio===-1&&(S.audio=T,S.segmentCodec="mp3");break;case 36:_.logger.warn("Unsupported HEVC stream type found");break}f+=((d[f+3]&15)<<8|d[f+4])+5}return S}function u(d){var f=0,p,R,S,O,C,b=d.data;if(!d||d.size===0)return null;for(;b[0].length<19&&b.length>1;){var T=new Uint8Array(b[0].length+b[1].length);T.set(b[0]),T.set(b[1],b[0].length),b[0]=T,b.splice(1,1)}p=b[0];var g=(p[0]<<16)+(p[1]<<8)+p[2];if(g===1){if(R=(p[4]<<8)+p[5],R&&R>d.size-6)return null;var k=p[7];k&192&&(O=(p[9]&14)*536870912+(p[10]&255)*4194304+(p[11]&254)*16384+(p[12]&255)*128+(p[13]&254)/2,k&64?(C=(p[14]&14)*536870912+(p[15]&255)*4194304+(p[16]&254)*16384+(p[17]&255)*128+(p[18]&254)/2,O-C>54e5&&(_.logger.warn(Math.round((O-C)/9e4)+"s delta between PTS and DTS, align them"),O=C)):C=O),S=p[8];var N=S+9;if(d.size<=N)return null;d.size-=N;for(var U=new Uint8Array(d.size),W=0,$=b.length;W<$;W++){p=b[W];var K=p.byteLength;if(N)if(N>K){N-=K;continue}else p=p.subarray(N),K-=N,N=0;U.set(p,f),f+=K}return R&&(R-=S+3),{data:U,pts:O,dts:C,len:R}}return null}function E(d,f){if(d.units.length&&d.frame){if(d.pts===void 0){var p=f.samples,R=p.length;if(R){var S=p[R-1];d.pts=S.pts,d.dts=S.dts}else{f.dropped++;return}}f.samples.push(d)}d.debug.length&&_.logger.log(d.pts+"/"+d.dts+":"+d.debug)}const y=L},"./src/demux/webworkify-webpack.js":(s,x,a)=>{a.r(x),a.d(x,{default:()=>v});var I=function(){var L=ENTRY_MODULE,P={};function c(u){var E=P[u];if(E!==void 0)return E.exports;var y=P[u]={exports:{}};return L[u].call(y.exports,y,y.exports,c),y.exports}c.m=L,function(){c.n=function(u){var E=u&&u.__esModule?function(){return u.default}:function(){return u};return c.d(E,{a:E}),E}}(),function(){c.d=function(u,E){for(var y in E)c.o(E,y)&&!c.o(u,y)&&Object.defineProperty(u,y,{enumerable:!0,get:E[y]})}}(),function(){c.o=function(u,E){return Object.prototype.hasOwnProperty.call(u,E)}}(),function(){c.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}}();var l=c(ENTRY_MODULE);return l.default||l};I.toString();var D="[\\.|\\-|\\+|\\w|/|@]+",F="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+D+").*?\\)";function M(m){return(m+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function B(m){return!isNaN(1*m)}function A(m,L,P){var c={};c[P]=[];var l=L.toString(),u=l.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/)||l.match(/^\(\w+,\s*\w+,\s*(\w+)\)\s?\=\s?\>/);if(!u)return c;for(var E=u[1],y=new RegExp("(\\\\n|\\W)"+M(E)+F,"g"),d;d=y.exec(l);)d[3]!=="dll-reference"&&c[P].push(d[3]);for(y=new RegExp("\\("+M(E)+'\\("(dll-reference\\s('+D+'))"\\)\\)'+F,"g");d=y.exec(l);)m[d[2]]||(c[P].push(d[1]),m[d[2]]=a(d[1]).m),c[d[2]]=c[d[2]]||[],c[d[2]].push(d[4]);for(var f=Object.keys(c),p=0;p<f.length;p++)for(var R=0;R<c[f[p]].length;R++)B(c[f[p]][R])&&(c[f[p]][R]=1*c[f[p]][R]);return c}function _(m){var L=Object.keys(m);return L.reduce(function(P,c){return P||m[c].length>0},!1)}function w(m,L){for(var P={main:[L]},c={main:[]},l={main:{}};_(P);)for(var u=Object.keys(P),E=0;E<u.length;E++){var y=u[E],d=P[y],f=d.pop();if(l[y]=l[y]||{},!(l[y][f]||!m[y][f])){l[y][f]=!0,c[y]=c[y]||[],c[y].push(f);for(var p=A(m,m[y][f],y),R=Object.keys(p),S=0;S<R.length;S++)P[R[S]]=P[R[S]]||[],P[R[S]]=P[R[S]].concat(p[R[S]])}}return c}function h(m,L,P,c){var l=m[c].map(function(E){return'"'+E+'": '+L[c][E].toString()}).join(","),u=I.toString().split("ENTRY_MODULE");return u[0]+"{"+l+"}"+u[1]+'"'+P+'"'+u[2]}function v(m,L){L=L||{};var P={main:a.m},c=L.all?{main:Object.keys(P.main)}:w(P,m),l="";Object.keys(c).filter(function(f){return f!=="main"}).forEach(function(f){for(var p=0;c[f][p];)p++;c[f].push(p),P[f][p]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",l=l+("var "+f+" = ("+h(c,P,p,modules)+`)();
`)}),l=l+("(("+h(c,P,m,"main")+")())(self);");var u=new window.Blob([l],{type:"text/javascript"}),E=window.URL||window.webkitURL||window.mozURL||window.msURL,y=E.createObjectURL(u),d=new window.Worker(y);return d.objectURL=y,d}},"./src/errors.ts":(s,x,a)=>{a.r(x),a.d(x,{ErrorDetails:()=>D,ErrorTypes:()=>I});var I;(function(F){F.NETWORK_ERROR="networkError",F.MEDIA_ERROR="mediaError",F.KEY_SYSTEM_ERROR="keySystemError",F.MUX_ERROR="muxError",F.OTHER_ERROR="otherError"})(I||(I={}));var D;(function(F){F.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",F.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",F.KEY_SYSTEM_NO_SESSION="keySystemNoSession",F.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",F.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",F.MANIFEST_LOAD_ERROR="manifestLoadError",F.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",F.MANIFEST_PARSING_ERROR="manifestParsingError",F.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",F.LEVEL_EMPTY_ERROR="levelEmptyError",F.LEVEL_LOAD_ERROR="levelLoadError",F.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",F.LEVEL_SWITCH_ERROR="levelSwitchError",F.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",F.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",F.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",F.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",F.FRAG_LOAD_ERROR="fragLoadError",F.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",F.FRAG_DECRYPT_ERROR="fragDecryptError",F.FRAG_PARSING_ERROR="fragParsingError",F.REMUX_ALLOC_ERROR="remuxAllocError",F.KEY_LOAD_ERROR="keyLoadError",F.KEY_LOAD_TIMEOUT="keyLoadTimeOut",F.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",F.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",F.BUFFER_APPEND_ERROR="bufferAppendError",F.BUFFER_APPENDING_ERROR="bufferAppendingError",F.BUFFER_STALLED_ERROR="bufferStalledError",F.BUFFER_FULL_ERROR="bufferFullError",F.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",F.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",F.INTERNAL_EXCEPTION="internalException",F.INTERNAL_ABORTED="aborted",F.UNKNOWN="unknown"})(D||(D={}))},"./src/events.ts":(s,x,a)=>{a.r(x),a.d(x,{Events:()=>I});var I;(function(D){D.MEDIA_ATTACHING="hlsMediaAttaching",D.MEDIA_ATTACHED="hlsMediaAttached",D.MEDIA_DETACHING="hlsMediaDetaching",D.MEDIA_DETACHED="hlsMediaDetached",D.BUFFER_RESET="hlsBufferReset",D.BUFFER_CODECS="hlsBufferCodecs",D.BUFFER_CREATED="hlsBufferCreated",D.BUFFER_APPENDING="hlsBufferAppending",D.BUFFER_APPENDED="hlsBufferAppended",D.BUFFER_EOS="hlsBufferEos",D.BUFFER_FLUSHING="hlsBufferFlushing",D.BUFFER_FLUSHED="hlsBufferFlushed",D.MANIFEST_LOADING="hlsManifestLoading",D.MANIFEST_LOADED="hlsManifestLoaded",D.MANIFEST_PARSED="hlsManifestParsed",D.LEVEL_SWITCHING="hlsLevelSwitching",D.LEVEL_SWITCHED="hlsLevelSwitched",D.LEVEL_LOADING="hlsLevelLoading",D.LEVEL_LOADED="hlsLevelLoaded",D.LEVEL_UPDATED="hlsLevelUpdated",D.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",D.LEVELS_UPDATED="hlsLevelsUpdated",D.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",D.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",D.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",D.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",D.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",D.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",D.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",D.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",D.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",D.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",D.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",D.CUES_PARSED="hlsCuesParsed",D.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",D.INIT_PTS_FOUND="hlsInitPtsFound",D.FRAG_LOADING="hlsFragLoading",D.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",D.FRAG_LOADED="hlsFragLoaded",D.FRAG_DECRYPTED="hlsFragDecrypted",D.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",D.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",D.FRAG_PARSING_METADATA="hlsFragParsingMetadata",D.FRAG_PARSED="hlsFragParsed",D.FRAG_BUFFERED="hlsFragBuffered",D.FRAG_CHANGED="hlsFragChanged",D.FPS_DROP="hlsFpsDrop",D.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",D.ERROR="hlsError",D.DESTROYING="hlsDestroying",D.KEY_LOADING="hlsKeyLoading",D.KEY_LOADED="hlsKeyLoaded",D.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",D.BACK_BUFFER_REACHED="hlsBackBufferReached"})(I||(I={}))},"./src/hls.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>E});var I=a("./node_modules/url-toolkit/src/url-toolkit.js"),D=a("./src/loader/playlist-loader.ts"),F=a("./src/loader/key-loader.ts"),M=a("./src/controller/id3-track-controller.ts"),B=a("./src/controller/latency-controller.ts"),A=a("./src/controller/level-controller.ts"),_=a("./src/controller/fragment-tracker.ts"),w=a("./src/controller/stream-controller.ts"),h=a("./src/is-supported.ts"),v=a("./src/utils/logger.ts"),m=a("./src/config.ts"),L=a("./node_modules/eventemitter3/index.js"),P=a("./src/events.ts"),c=a("./src/errors.ts");function l(y,d){for(var f=0;f<d.length;f++){var p=d[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}function u(y,d,f){return d&&l(y.prototype,d),f&&l(y,f),Object.defineProperty(y,"prototype",{writable:!1}),y}var E=function(){y.isSupported=function(){return(0,h.isSupported)()};function y(f){f===void 0&&(f={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new L.EventEmitter,this._autoLevelCapping=void 0,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null;var p=this.config=(0,m.mergeConfig)(y.DefaultConfig,f);this.userConfig=f,(0,v.enableLogs)(p.debug,"Hls instance"),this._autoLevelCapping=-1,p.progressive&&(0,m.enableStreamingMode)(p);var R=p.abrController,S=p.bufferController,O=p.capLevelController,C=p.fpsController,b=this.abrController=new R(this),T=this.bufferController=new S(this),g=this.capLevelController=new O(this),k=new C(this),N=new D.default(this),U=new F.default(this),W=new M.default(this),$=this.levelController=new A.default(this),K=new _.FragmentTracker(this),z=this.streamController=new w.default(this,K);g.setStreamController(z),k.setStreamController(z);var j=[N,U,$,z];this.networkControllers=j;var V=[b,T,g,k,W,K];this.audioTrackController=this.createController(p.audioTrackController,null,j),this.createController(p.audioStreamController,K,j),this.subtitleTrackController=this.createController(p.subtitleTrackController,null,j),this.createController(p.subtitleStreamController,K,j),this.createController(p.timelineController,null,V),this.emeController=this.createController(p.emeController,null,V),this.cmcdController=this.createController(p.cmcdController,null,V),this.latencyController=this.createController(B.default,null,V),this.coreComponents=V}var d=y.prototype;return d.createController=function(p,R,S){if(p){var O=R?new p(this,R):new p(this);return S&&S.push(O),O}return null},d.on=function(p,R,S){S===void 0&&(S=this),this._emitter.on(p,R,S)},d.once=function(p,R,S){S===void 0&&(S=this),this._emitter.once(p,R,S)},d.removeAllListeners=function(p){this._emitter.removeAllListeners(p)},d.off=function(p,R,S,O){S===void 0&&(S=this),this._emitter.off(p,R,S,O)},d.listeners=function(p){return this._emitter.listeners(p)},d.emit=function(p,R,S){return this._emitter.emit(p,R,S)},d.trigger=function(p,R){if(this.config.debug)return this.emit(p,p,R);try{return this.emit(p,p,R)}catch(S){v.logger.error("An internal error happened while handling event "+p+'. Error message: "'+S.message+'". Here is a stacktrace:',S),this.trigger(P.Events.ERROR,{type:c.ErrorTypes.OTHER_ERROR,details:c.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:p,error:S})}return!1},d.listenerCount=function(p){return this._emitter.listenerCount(p)},d.destroy=function(){v.logger.log("destroy"),this.trigger(P.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(function(p){return p.destroy()}),this.networkControllers.length=0,this.coreComponents.forEach(function(p){return p.destroy()}),this.coreComponents.length=0},d.attachMedia=function(p){v.logger.log("attachMedia"),this._media=p,this.trigger(P.Events.MEDIA_ATTACHING,{media:p})},d.detachMedia=function(){v.logger.log("detachMedia"),this.trigger(P.Events.MEDIA_DETACHING,void 0),this._media=null},d.loadSource=function(p){this.stopLoad();var R=this.media,S=this.url,O=this.url=I.buildAbsoluteURL(self.location.href,p,{alwaysNormalize:!0});v.logger.log("loadSource:"+O),R&&S&&S!==O&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(R)),this.trigger(P.Events.MANIFEST_LOADING,{url:p})},d.startLoad=function(p){p===void 0&&(p=-1),v.logger.log("startLoad("+p+")"),this.networkControllers.forEach(function(R){R.startLoad(p)})},d.stopLoad=function(){v.logger.log("stopLoad"),this.networkControllers.forEach(function(p){p.stopLoad()})},d.swapAudioCodec=function(){v.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},d.recoverMediaError=function(){v.logger.log("recoverMediaError");var p=this._media;this.detachMedia(),p&&this.attachMedia(p)},d.removeLevel=function(p,R){R===void 0&&(R=0),this.levelController.removeLevel(p,R)},u(y,[{key:"levels",get:function(){var p=this.levelController.levels;return p||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(p){v.logger.log("set currentLevel:"+p),this.loadLevel=p,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(p){v.logger.log("set nextLevel:"+p),this.levelController.manualLevel=p,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(p){v.logger.log("set loadLevel:"+p),this.levelController.manualLevel=p}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(p){this.levelController.nextLoadLevel=p}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(p){v.logger.log("set firstLevel:"+p),this.levelController.firstLevel=p}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(p){v.logger.log("set startLevel:"+p),p!==-1&&(p=Math.max(p,this.minAutoLevel)),this.levelController.startLevel=p}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(p){var R=!!p;R!==this.config.capLevelToPlayerSize&&(R?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=R)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(p){this._autoLevelCapping!==p&&(v.logger.log("set autoLevelCapping:"+p),this._autoLevelCapping=p)}},{key:"bandwidthEstimate",get:function(){var p=this.abrController.bwEstimator;return p?p.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return this.levelController.manualLevel===-1}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var p=this.levels,R=this.config.minAutoBitrate;if(!p)return 0;for(var S=p.length,O=0;O<S;O++)if(p[O].maxBitrate>=R)return O;return 0}},{key:"maxAutoLevel",get:function(){var p=this.levels,R=this.autoLevelCapping,S;return R===-1&&p&&p.length?S=p.length-1:S=R,S}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(p){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,p)}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"audioTracks",get:function(){var p=this.audioTrackController;return p?p.audioTracks:[]}},{key:"audioTrack",get:function(){var p=this.audioTrackController;return p?p.audioTrack:-1},set:function(p){var R=this.audioTrackController;R&&(R.audioTrack=p)}},{key:"subtitleTracks",get:function(){var p=this.subtitleTrackController;return p?p.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var p=this.subtitleTrackController;return p?p.subtitleTrack:-1},set:function(p){var R=this.subtitleTrackController;R&&(R.subtitleTrack=p)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var p=this.subtitleTrackController;return p?p.subtitleDisplay:!1},set:function(p){var R=this.subtitleTrackController;R&&(R.subtitleDisplay=p)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(p){this.config.lowLatencyMode=p}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}],[{key:"version",get:function(){return"1.2.7"}},{key:"Events",get:function(){return P.Events}},{key:"ErrorTypes",get:function(){return c.ErrorTypes}},{key:"ErrorDetails",get:function(){return c.ErrorDetails}},{key:"DefaultConfig",get:function(){return y.defaultConfig?y.defaultConfig:m.hlsDefaultConfig},set:function(p){y.defaultConfig=p}}]),y}();E.defaultConfig=void 0},"./src/is-supported.ts":(s,x,a)=>{a.r(x),a.d(x,{changeTypeSupported:()=>M,isSupported:()=>F});var I=a("./src/utils/mediasource-helper.ts");function D(){return self.SourceBuffer||self.WebKitSourceBuffer}function F(){var B=(0,I.getMediaSource)();if(!B)return!1;var A=D(),_=B&&typeof B.isTypeSupported=="function"&&B.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),w=!A||A.prototype&&typeof A.prototype.appendBuffer=="function"&&typeof A.prototype.remove=="function";return!!_&&!!w}function M(){var B,A=D();return typeof(A==null||(B=A.prototype)===null||B===void 0?void 0:B.changeType)=="function"}},"./src/loader/date-range.ts":(s,x,a)=>{a.r(x),a.d(x,{DateRange:()=>w,DateRangeAttribute:()=>_});var I=a("./src/polyfills/number.ts"),D=a("./src/utils/attr-list.ts"),F=a("./src/utils/logger.ts");function M(){return M=Object.assign?Object.assign.bind():function(h){for(var v=1;v<arguments.length;v++){var m=arguments[v];for(var L in m)Object.prototype.hasOwnProperty.call(m,L)&&(h[L]=m[L])}return h},M.apply(this,arguments)}function B(h,v){for(var m=0;m<v.length;m++){var L=v[m];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(h,L.key,L)}}function A(h,v,m){return v&&B(h.prototype,v),m&&B(h,m),Object.defineProperty(h,"prototype",{writable:!1}),h}var _;(function(h){h.ID="ID",h.CLASS="CLASS",h.START_DATE="START-DATE",h.DURATION="DURATION",h.END_DATE="END-DATE",h.END_ON_NEXT="END-ON-NEXT",h.PLANNED_DURATION="PLANNED-DURATION",h.SCTE35_OUT="SCTE35-OUT",h.SCTE35_IN="SCTE35-IN"})(_||(_={}));var w=function(){function h(v,m){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,m){var L=m.attr;for(var P in L)if(Object.prototype.hasOwnProperty.call(v,P)&&v[P]!==L[P]){F.logger.warn('DATERANGE tag attribute: "'+P+'" does not match for tags with ID: "'+v.ID+'"'),this._badValueForSameId=P;break}v=M(new D.AttrList({}),L,v)}if(this.attr=v,this._startDate=new Date(v[_.START_DATE]),_.END_DATE in this.attr){var c=new Date(this.attr[_.END_DATE]);(0,I.isFiniteNumber)(c.getTime())&&(this._endDate=c)}}return A(h,[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){if(this._endDate)return this._endDate;var m=this.duration;return m!==null?new Date(this._startDate.getTime()+m*1e3):null}},{key:"duration",get:function(){if(_.DURATION in this.attr){var m=this.attr.decimalFloatingPoint(_.DURATION);if((0,I.isFiniteNumber)(m))return m}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return _.PLANNED_DURATION in this.attr?this.attr.decimalFloatingPoint(_.PLANNED_DURATION):null}},{key:"endOnNext",get:function(){return this.attr.bool(_.END_ON_NEXT)}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&(0,I.isFiniteNumber)(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)}}]),h}()},"./src/loader/fragment-loader.ts":(s,x,a)=>{a.r(x),a.d(x,{LoadError:()=>P,default:()=>m});var I=a("./src/polyfills/number.ts"),D=a("./src/errors.ts");function F(c,l){c.prototype=Object.create(l.prototype),c.prototype.constructor=c,w(c,l)}function M(c){var l=typeof Map=="function"?new Map:void 0;return M=function(E){if(E===null||!_(E))return E;if(typeof E!="function")throw new TypeError("Super expression must either be null or a function");if(typeof l<"u"){if(l.has(E))return l.get(E);l.set(E,y)}function y(){return B(E,arguments,h(this).constructor)}return y.prototype=Object.create(E.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w(y,E)},M(c)}function B(c,l,u){return A()?B=Reflect.construct.bind():B=function(y,d,f){var p=[null];p.push.apply(p,d);var R=Function.bind.apply(y,p),S=new R;return f&&w(S,f.prototype),S},B.apply(null,arguments)}function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _(c){return Function.toString.call(c).indexOf("[native code]")!==-1}function w(c,l){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,y){return E.__proto__=y,E},w(c,l)}function h(c){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)},h(c)}var v=Math.pow(2,17),m=function(){function c(u){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=u}var l=c.prototype;return l.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},l.abort=function(){this.loader&&this.loader.abort()},l.load=function(E,y){var d=this,f=E.url;if(!f)return Promise.reject(new P({type:D.ErrorTypes.NETWORK_ERROR,details:D.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:E,networkDetails:null},"Fragment does not have a "+(f?"part list":"url")));this.abort();var p=this.config,R=p.fLoader,S=p.loader;return new Promise(function(O,C){d.loader&&d.loader.destroy();var b=d.loader=E.loader=R?new R(p):new S(p),T=L(E),g={timeout:p.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:p.fragLoadingMaxRetryTimeout,highWaterMark:E.sn==="initSegment"?1/0:v};E.stats=b.stats,b.load(T,g,{onSuccess:function(N,U,W,$){d.resetLoader(E,b),O({frag:E,part:null,payload:N.data,networkDetails:$})},onError:function(N,U,W){d.resetLoader(E,b),C(new P({type:D.ErrorTypes.NETWORK_ERROR,details:D.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:E,response:N,networkDetails:W}))},onAbort:function(N,U,W){d.resetLoader(E,b),C(new P({type:D.ErrorTypes.NETWORK_ERROR,details:D.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:E,networkDetails:W}))},onTimeout:function(N,U,W){d.resetLoader(E,b),C(new P({type:D.ErrorTypes.NETWORK_ERROR,details:D.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:E,networkDetails:W}))},onProgress:function(N,U,W,$){y&&y({frag:E,part:null,payload:W,networkDetails:$})}})})},l.loadPart=function(E,y,d){var f=this;this.abort();var p=this.config,R=p.fLoader,S=p.loader;return new Promise(function(O,C){f.loader&&f.loader.destroy();var b=f.loader=E.loader=R?new R(p):new S(p),T=L(E,y),g={timeout:p.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:p.fragLoadingMaxRetryTimeout,highWaterMark:v};y.stats=b.stats,b.load(T,g,{onSuccess:function(N,U,W,$){f.resetLoader(E,b),f.updateStatsFromPart(E,y);var K={frag:E,part:y,payload:N.data,networkDetails:$};d(K),O(K)},onError:function(N,U,W){f.resetLoader(E,b),C(new P({type:D.ErrorTypes.NETWORK_ERROR,details:D.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:E,part:y,response:N,networkDetails:W}))},onAbort:function(N,U,W){E.stats.aborted=y.stats.aborted,f.resetLoader(E,b),C(new P({type:D.ErrorTypes.NETWORK_ERROR,details:D.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:E,part:y,networkDetails:W}))},onTimeout:function(N,U,W){f.resetLoader(E,b),C(new P({type:D.ErrorTypes.NETWORK_ERROR,details:D.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:E,part:y,networkDetails:W}))}})})},l.updateStatsFromPart=function(E,y){var d=E.stats,f=y.stats,p=f.total;if(d.loaded+=f.loaded,p){var R=Math.round(E.duration/y.duration),S=Math.min(Math.round(d.loaded/p),R),O=R-S,C=O*Math.round(d.loaded/S);d.total=d.loaded+C}else d.total=Math.max(d.loaded,d.total);var b=d.loading,T=f.loading;b.start?b.first+=T.first-T.start:(b.start=T.start,b.first=T.first),b.end=T.end},l.resetLoader=function(E,y){E.loader=null,this.loader===y&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),y.destroy()},c}();function L(c,l){l===void 0&&(l=null);var u=l||c,E={frag:c,part:l,responseType:"arraybuffer",url:u.url,headers:{},rangeStart:0,rangeEnd:0},y=u.byteRangeStartOffset,d=u.byteRangeEndOffset;return(0,I.isFiniteNumber)(y)&&(0,I.isFiniteNumber)(d)&&(E.rangeStart=y,E.rangeEnd=d),E}var P=function(c){F(l,c);function l(u){for(var E,y=arguments.length,d=new Array(y>1?y-1:0),f=1;f<y;f++)d[f-1]=arguments[f];return E=c.call.apply(c,[this].concat(d))||this,E.data=void 0,E.data=u,E}return l}(M(Error))},"./src/loader/fragment.ts":(s,x,a)=>{a.r(x),a.d(x,{BaseSegment:()=>m,ElementaryStreamTypes:()=>v,Fragment:()=>L,Part:()=>P});var I=a("./src/polyfills/number.ts"),D=a("./node_modules/url-toolkit/src/url-toolkit.js"),F=a("./src/utils/logger.ts"),M=a("./src/loader/level-key.ts"),B=a("./src/loader/load-stats.ts");function A(c,l){c.prototype=Object.create(l.prototype),c.prototype.constructor=c,_(c,l)}function _(c,l){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,y){return E.__proto__=y,E},_(c,l)}function w(c,l){for(var u=0;u<l.length;u++){var E=l[u];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(c,E.key,E)}}function h(c,l,u){return l&&w(c.prototype,l),u&&w(c,u),Object.defineProperty(c,"prototype",{writable:!1}),c}var v;(function(c){c.AUDIO="audio",c.VIDEO="video",c.AUDIOVIDEO="audiovideo"})(v||(v={}));var m=function(){function c(u){var E;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=(E={},E[v.AUDIO]=null,E[v.VIDEO]=null,E[v.AUDIOVIDEO]=null,E),this.baseurl=u}var l=c.prototype;return l.setByteRange=function(E,y){var d=E.split("@",2),f=[];d.length===1?f[0]=y?y.byteRangeEndOffset:0:f[0]=parseInt(d[1]),f[1]=parseInt(d[0])+f[0],this._byteRange=f},h(c,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=(0,D.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(E){this._url=E}}]),c}(),L=function(c){A(l,c);function l(E,y){var d;return d=c.call(this,y)||this,d._decryptdata=null,d.rawProgramDateTime=null,d.programDateTime=null,d.tagList=[],d.duration=0,d.sn=0,d.levelkey=void 0,d.type=void 0,d.loader=null,d.level=-1,d.cc=0,d.startPTS=void 0,d.endPTS=void 0,d.appendedPTS=void 0,d.startDTS=void 0,d.endDTS=void 0,d.start=0,d.deltaPTS=void 0,d.maxStartPTS=void 0,d.minEndPTS=void 0,d.stats=new B.LoadStats,d.urlId=0,d.data=void 0,d.bitrateTest=!1,d.title=null,d.initSegment=null,d.type=E,d}var u=l.prototype;return u.createInitializationVector=function(y){for(var d=new Uint8Array(16),f=12;f<16;f++)d[f]=y>>8*(15-f)&255;return d},u.setDecryptDataFromLevelKey=function(y,d){var f=y;return(y==null?void 0:y.method)==="AES-128"&&y.uri&&!y.iv&&(f=M.LevelKey.fromURI(y.uri),f.method=y.method,f.iv=this.createInitializationVector(d),f.keyFormat="identity"),f},u.setElementaryStreamInfo=function(y,d,f,p,R,S){S===void 0&&(S=!1);var O=this.elementaryStreams,C=O[y];if(!C){O[y]={startPTS:d,endPTS:f,startDTS:p,endDTS:R,partial:S};return}C.startPTS=Math.min(C.startPTS,d),C.endPTS=Math.max(C.endPTS,f),C.startDTS=Math.min(C.startDTS,p),C.endDTS=Math.max(C.endDTS,R)},u.clearElementaryStreamInfo=function(){var y=this.elementaryStreams;y[v.AUDIO]=null,y[v.VIDEO]=null,y[v.AUDIOVIDEO]=null},h(l,[{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var y=this.sn;typeof y!="number"&&(this.levelkey&&this.levelkey.method==="AES-128"&&!this.levelkey.iv&&F.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),y=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,y)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(this.programDateTime===null||!(0,I.isFiniteNumber)(this.programDateTime))return null;var y=(0,I.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+y*1e3}},{key:"encrypted",get:function(){var y;return!!((y=this.decryptdata)!==null&&y!==void 0&&y.keyFormat&&this.decryptdata.uri)}}]),l}(m),P=function(c){A(l,c);function l(u,E,y,d,f){var p;p=c.call(this,y)||this,p.fragOffset=0,p.duration=0,p.gap=!1,p.independent=!1,p.relurl=void 0,p.fragment=void 0,p.index=void 0,p.stats=new B.LoadStats,p.duration=u.decimalFloatingPoint("DURATION"),p.gap=u.bool("GAP"),p.independent=u.bool("INDEPENDENT"),p.relurl=u.enumeratedString("URI"),p.fragment=E,p.index=d;var R=u.enumeratedString("BYTERANGE");return R&&p.setByteRange(R,f),f&&(p.fragOffset=f.fragOffset+f.duration),p}return h(l,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var E=this.elementaryStreams;return!!(E.audio||E.video||E.audiovideo)}}]),l}(m)},"./src/loader/key-loader.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>M});var I=a("./src/events.ts"),D=a("./src/errors.ts"),F=a("./src/utils/logger.ts"),M=function(){function B(_){this.hls=void 0,this.loaders={},this.decryptkey=null,this.decrypturl=null,this.hls=_,this.registerListeners()}var A=B.prototype;return A.startLoad=function(w){},A.stopLoad=function(){this.destroyInternalLoaders()},A.registerListeners=function(){this.hls.on(I.Events.KEY_LOADING,this.onKeyLoading,this)},A.unregisterListeners=function(){this.hls.off(I.Events.KEY_LOADING,this.onKeyLoading)},A.destroyInternalLoaders=function(){for(var w in this.loaders){var h=this.loaders[w];h&&h.destroy()}this.loaders={}},A.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},A.onKeyLoading=function(w,h){var v=h.frag,m=v.type,L=this.loaders[m];if(!v.decryptdata){F.logger.warn("Missing decryption data on fragment in onKeyLoading");return}var P=v.decryptdata.uri;if(P!==this.decrypturl||this.decryptkey===null){var c=this.hls.config;if(L&&(F.logger.warn("abort previous key loader for type:"+m),L.abort()),!P){F.logger.warn("key uri is falsy");return}var l=c.loader,u=v.loader=this.loaders[m]=new l(c);this.decrypturl=P,this.decryptkey=null;var E={url:P,frag:v,responseType:"arraybuffer"},y={timeout:c.fragLoadingTimeOut,maxRetry:0,retryDelay:c.fragLoadingRetryDelay,maxRetryDelay:c.fragLoadingMaxRetryTimeout,highWaterMark:0},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};u.load(E,y,d)}else this.decryptkey&&(v.decryptdata.key=this.decryptkey,this.hls.trigger(I.Events.KEY_LOADED,{frag:v}))},A.loadsuccess=function(w,h,v){var m=v.frag;if(!m.decryptdata){F.logger.error("after key load, decryptdata unset");return}this.decryptkey=m.decryptdata.key=new Uint8Array(w.data),m.loader=null,delete this.loaders[m.type],this.hls.trigger(I.Events.KEY_LOADED,{frag:m})},A.loaderror=function(w,h){var v=h.frag,m=v.loader;m&&m.abort(),delete this.loaders[v.type],this.hls.trigger(I.Events.ERROR,{type:D.ErrorTypes.NETWORK_ERROR,details:D.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:v,response:w})},A.loadtimeout=function(w,h){var v=h.frag,m=v.loader;m&&m.abort(),delete this.loaders[v.type],this.hls.trigger(I.Events.ERROR,{type:D.ErrorTypes.NETWORK_ERROR,details:D.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:v})},B}()},"./src/loader/level-details.ts":(s,x,a)=>{a.r(x),a.d(x,{LevelDetails:()=>B});var I=a("./src/polyfills/number.ts");function D(A,_){for(var w=0;w<_.length;w++){var h=_[w];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(A,h.key,h)}}function F(A,_,w){return _&&D(A.prototype,_),w&&D(A,w),Object.defineProperty(A,"prototype",{writable:!1}),A}var M=10,B=function(){function A(w){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.fragments=[],this.dateRanges={},this.url=w}var _=A.prototype;return _.reloaded=function(h){if(!h){this.advanced=!0,this.updated=!0;return}var v=this.lastPartSn-h.lastPartSn,m=this.lastPartIndex-h.lastPartIndex;this.updated=this.endSN!==h.endSN||!!m||!!v,this.advanced=this.endSN>h.endSN||v>0||v===0&&m>0,this.updated||this.advanced?this.misses=Math.floor(h.misses*.6):this.misses=h.misses+1,this.availabilityDelay=h.availabilityDelay},F(A,[{key:"hasProgramDateTime",get:function(){return this.fragments.length?(0,I.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime):!1}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||M}},{key:"drift",get:function(){var h=this.driftEndTime-this.driftStartTime;if(h>0){var v=this.driftEnd-this.driftStart;return v*1e3/h}return 1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var h;return(h=this.partList)!==null&&h!==void 0&&h.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var h;return(h=this.fragments)!==null&&h!==void 0&&h.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var h;return(h=this.partList)!==null&&h!==void 0&&h.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var h;return(h=this.partList)!==null&&h!==void 0&&h.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}]),A}()},"./src/loader/level-key.ts":(s,x,a)=>{a.r(x),a.d(x,{LevelKey:()=>M});var I=a("./node_modules/url-toolkit/src/url-toolkit.js");function D(B,A){for(var _=0;_<A.length;_++){var w=A[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(B,w.key,w)}}function F(B,A,_){return A&&D(B.prototype,A),_&&D(B,_),Object.defineProperty(B,"prototype",{writable:!1}),B}var M=function(){B.fromURL=function(_,w){return new B(_,w)},B.fromURI=function(_){return new B(_)};function B(A,_){this._uri=null,this.method=null,this.keyFormat=null,this.keyFormatVersions=null,this.keyID=null,this.key=null,this.iv=null,_?this._uri=(0,I.buildAbsoluteURL)(A,_,{alwaysNormalize:!0}):this._uri=A}return F(B,[{key:"uri",get:function(){return this._uri}}]),B}()},"./src/loader/load-stats.ts":(s,x,a)=>{a.r(x),a.d(x,{LoadStats:()=>I});var I=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},"./src/loader/m3u8-parser.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>u});var I=a("./src/polyfills/number.ts"),D=a("./node_modules/url-toolkit/src/url-toolkit.js"),F=a("./src/loader/date-range.ts"),M=a("./src/loader/fragment.ts"),B=a("./src/loader/level-details.ts"),A=a("./src/loader/level-key.ts"),_=a("./src/utils/attr-list.ts"),w=a("./src/utils/logger.ts"),h=a("./src/utils/codecs.ts"),v=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,m=/#EXT-X-MEDIA:(.*)/g,L=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),P=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),c=/\.(mp4|m4s|m4v|m4a)$/i;function l(R){var S,O;return c.test((S=(O=D.parseURL(R))===null||O===void 0?void 0:O.path)!=null?S:"")}var u=function(){function R(){}return R.findGroup=function(O,C){for(var b=0;b<O.length;b++){var T=O[b];if(T.id===C)return T}},R.convertAVC1ToAVCOTI=function(O){var C=O.split(".");if(C.length>2){var b=C.shift()+".";return b+=parseInt(C.shift()).toString(16),b+=("000"+parseInt(C.shift()).toString(16)).slice(-4),b}return O},R.resolve=function(O,C){return D.buildAbsoluteURL(C,O,{alwaysNormalize:!0})},R.parseMasterPlaylist=function(O,C){var b=[],T=[],g={},k=!1;v.lastIndex=0;for(var N;(N=v.exec(O))!=null;)if(N[1]){var U,W=new _.AttrList(N[1]),$={attrs:W,bitrate:W.decimalInteger("AVERAGE-BANDWIDTH")||W.decimalInteger("BANDWIDTH"),name:W.NAME,url:R.resolve(N[2],C)},K=W.decimalResolution("RESOLUTION");K&&($.width=K.width,$.height=K.height),E((W.CODECS||"").split(/[ ,]+/).filter(function(V){return V}),$),$.videoCodec&&$.videoCodec.indexOf("avc1")!==-1&&($.videoCodec=R.convertAVC1ToAVCOTI($.videoCodec)),(U=$.unknownCodecs)!==null&&U!==void 0&&U.length||T.push($),b.push($)}else if(N[3]){var z=new _.AttrList(N[3]);z["DATA-ID"]&&(k=!0,g[z["DATA-ID"]]=z)}var j=T.length>0&&T.length<b.length;return{levels:j?T:b,sessionData:k?g:null}},R.parseMasterPlaylistMedia=function(O,C,b,T){T===void 0&&(T=[]);var g,k=[],N=0;for(m.lastIndex=0;(g=m.exec(O))!==null;){var U=new _.AttrList(g[1]);if(U.TYPE===b){var W={attrs:U,bitrate:0,id:N++,groupId:U["GROUP-ID"],instreamId:U["INSTREAM-ID"],name:U.NAME||U.LANGUAGE||"",type:b,default:U.bool("DEFAULT"),autoselect:U.bool("AUTOSELECT"),forced:U.bool("FORCED"),lang:U.LANGUAGE,url:U.URI?R.resolve(U.URI,C):""};if(T.length){var $=R.findGroup(T,W.groupId)||T[0];y(W,$,"audioCodec"),y(W,$,"textCodec")}k.push(W)}}return k},R.parseLevelPlaylist=function(O,C,b,T,g){var k=new B.LevelDetails(C),N=k.fragments,U=null,W=0,$=0,K=0,z=0,j=null,V=new M.Fragment(T,C),X,Q,J,te=-1,ne=!1;for(L.lastIndex=0,k.m3u8=O;(X=L.exec(O))!==null;){ne&&(ne=!1,V=new M.Fragment(T,C),V.start=K,V.sn=W,V.cc=z,V.level=b,U&&(V.initSegment=U,V.rawProgramDateTime=U.rawProgramDateTime,U.rawProgramDateTime=null));var se=X[1];if(se){V.duration=parseFloat(se);var oe=(" "+X[2]).slice(1);V.title=oe||null,V.tagList.push(oe?["INF",se,oe]:["INF",se])}else if(X[3])(0,I.isFiniteNumber)(V.duration)&&(V.start=K,J&&(V.levelkey=J),V.sn=W,V.level=b,V.cc=z,V.urlId=g,N.push(V),V.relurl=(" "+X[3]).slice(1),f(V,j),j=V,K+=V.duration,W++,$=0,ne=!0);else if(X[4]){var pe=(" "+X[4]).slice(1);j?V.setByteRange(pe,j):V.setByteRange(pe)}else if(X[5])V.rawProgramDateTime=(" "+X[5]).slice(1),V.tagList.push(["PROGRAM-DATE-TIME",V.rawProgramDateTime]),te===-1&&(te=N.length);else{if(X=X[0].match(P),!X){w.logger.warn("No matches on slow regex match for level playlist!");continue}for(Q=1;Q<X.length&&!(typeof X[Q]<"u");Q++);var ue=(" "+X[Q]).slice(1),ie=(" "+X[Q+1]).slice(1),ce=X[Q+2]?(" "+X[Q+2]).slice(1):"";switch(ue){case"PLAYLIST-TYPE":k.type=ie.toUpperCase();break;case"MEDIA-SEQUENCE":W=k.startSN=parseInt(ie);break;case"SKIP":{var ge=new _.AttrList(ie),me=ge.decimalInteger("SKIPPED-SEGMENTS");if((0,I.isFiniteNumber)(me)){k.skippedSegments=me;for(var xe=me;xe--;)N.unshift(null);W+=me}var Me=ge.enumeratedString("RECENTLY-REMOVED-DATERANGES");Me&&(k.recentlyRemovedDateranges=Me.split("	"));break}case"TARGETDURATION":k.targetduration=parseFloat(ie);break;case"VERSION":k.version=parseInt(ie);break;case"EXTM3U":break;case"ENDLIST":k.live=!1;break;case"#":(ie||ce)&&V.tagList.push(ce?[ie,ce]:[ie]);break;case"DISCONTINUITY":z++,V.tagList.push(["DIS"]);break;case"GAP":V.tagList.push([ue]);break;case"BITRATE":V.tagList.push([ue,ie]);break;case"DATERANGE":{var Se=new _.AttrList(ie),Ue=new F.DateRange(Se,k.dateRanges[Se.ID]);Ue.isValid||k.skippedSegments?k.dateRanges[Ue.id]=Ue:w.logger.warn('Ignoring invalid DATERANGE tag: "'+ie+'"'),V.tagList.push(["EXT-X-DATERANGE",ie]);break}case"DISCONTINUITY-SEQUENCE":z=parseInt(ie);break;case"KEY":{var Ne,q=new _.AttrList(ie),ae=q.enumeratedString("METHOD"),Ce=q.URI,Pe=q.hexadecimalInteger("IV"),Je=q.enumeratedString("KEYFORMATVERSIONS"),je=q.enumeratedString("KEYID"),St=(Ne=q.enumeratedString("KEYFORMAT"))!=null?Ne:"identity",Bt=["com.apple.streamingkeydelivery","com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine"];if(Bt.indexOf(St)>-1){w.logger.warn("Keyformat "+St+" is not supported from the manifest");continue}else if(St!=="identity")continue;ae&&(J=A.LevelKey.fromURL(C,Ce),Ce&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(ae)>=0&&(J.method=ae,J.keyFormat=St,je&&(J.keyID=je),Je&&(J.keyFormatVersions=Je),J.iv=Pe));break}case"START":{var Rr=new _.AttrList(ie),et=Rr.decimalFloatingPoint("TIME-OFFSET");(0,I.isFiniteNumber)(et)&&(k.startTimeOffset=et);break}case"MAP":{var ut=new _.AttrList(ie);if(V.duration){var Yt=new M.Fragment(T,C);p(Yt,ut,b,J),U=Yt,V.initSegment=U,U.rawProgramDateTime&&!V.rawProgramDateTime&&(V.rawProgramDateTime=U.rawProgramDateTime)}else p(V,ut,b,J),U=V,ne=!0;break}case"SERVER-CONTROL":{var Ze=new _.AttrList(ie);k.canBlockReload=Ze.bool("CAN-BLOCK-RELOAD"),k.canSkipUntil=Ze.optionalFloat("CAN-SKIP-UNTIL",0),k.canSkipDateRanges=k.canSkipUntil>0&&Ze.bool("CAN-SKIP-DATERANGES"),k.partHoldBack=Ze.optionalFloat("PART-HOLD-BACK",0),k.holdBack=Ze.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{var ct=new _.AttrList(ie);k.partTarget=ct.decimalFloatingPoint("PART-TARGET");break}case"PART":{var Ut=k.partList;Ut||(Ut=k.partList=[]);var En=$>0?Ut[Ut.length-1]:void 0,xn=$++,Vn=new M.Part(new _.AttrList(ie),V,C,xn,En);Ut.push(Vn),V.duration+=Vn.duration;break}case"PRELOAD-HINT":{var vr=new _.AttrList(ie);k.preloadHint=vr;break}case"RENDITION-REPORT":{var Ll=new _.AttrList(ie);k.renditionReports=k.renditionReports||[],k.renditionReports.push(Ll);break}default:w.logger.warn("line parsed but not handled: "+X);break}}}j&&!j.relurl?(N.pop(),K-=j.duration,k.partList&&(k.fragmentHint=j)):k.partList&&(f(V,j),V.cc=z,k.fragmentHint=V);var Tn=N.length,br=N[0],Yn=N[Tn-1];if(K+=k.skippedSegments*k.targetduration,K>0&&Tn&&Yn){k.averagetargetduration=K/Tn;var Sn=Yn.sn;k.endSN=Sn!=="initSegment"?Sn:0,br&&(k.startCC=br.cc,br.initSegment||k.fragments.every(function(oa){return oa.relurl&&l(oa.relurl)})&&(w.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),V=new M.Fragment(T,C),V.relurl=Yn.relurl,V.level=b,V.sn="initSegment",br.initSegment=V,k.needSidxRanges=!0))}else k.endSN=0,k.startCC=0;return k.fragmentHint&&(K+=k.fragmentHint.duration),k.totalduration=K,k.endCC=z,te>0&&d(N,te),k},R}();function E(R,S){["video","audio","text"].forEach(function(O){var C=R.filter(function(T){return(0,h.isCodecType)(T,O)});if(C.length){var b=C.filter(function(T){return T.lastIndexOf("avc1",0)===0||T.lastIndexOf("mp4a",0)===0});S[O+"Codec"]=b.length>0?b[0]:C[0],R=R.filter(function(T){return C.indexOf(T)===-1})}}),S.unknownCodecs=R}function y(R,S,O){var C=S[O];C&&(R[O]=C)}function d(R,S){for(var O=R[S],C=S;C--;){var b=R[C];if(!b)return;b.programDateTime=O.programDateTime-b.duration*1e3,O=b}}function f(R,S){R.rawProgramDateTime?R.programDateTime=Date.parse(R.rawProgramDateTime):S!=null&&S.programDateTime&&(R.programDateTime=S.endProgramDateTime),(0,I.isFiniteNumber)(R.programDateTime)||(R.programDateTime=null,R.rawProgramDateTime=null)}function p(R,S,O,C){R.relurl=S.URI,S.BYTERANGE&&R.setByteRange(S.BYTERANGE),R.level=O,R.sn="initSegment",C&&(R.levelkey=C),R.initSegment=null}},"./src/loader/playlist-loader.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>L});var I=a("./src/polyfills/number.ts"),D=a("./src/events.ts"),F=a("./src/errors.ts"),M=a("./src/utils/logger.ts"),B=a("./src/utils/mp4-tools.ts"),A=a("./src/loader/m3u8-parser.ts"),_=a("./src/types/loader.ts"),w=a("./src/utils/attr-list.ts");function h(P){var c=P.type;switch(c){case _.PlaylistContextType.AUDIO_TRACK:return _.PlaylistLevelType.AUDIO;case _.PlaylistContextType.SUBTITLE_TRACK:return _.PlaylistLevelType.SUBTITLE;default:return _.PlaylistLevelType.MAIN}}function v(P,c){var l=P.url;return(l===void 0||l.indexOf("data:")===0)&&(l=c.url),l}var m=function(){function P(l){this.hls=void 0,this.loaders=Object.create(null),this.hls=l,this.registerListeners()}var c=P.prototype;return c.startLoad=function(u){},c.stopLoad=function(){this.destroyInternalLoaders()},c.registerListeners=function(){var u=this.hls;u.on(D.Events.MANIFEST_LOADING,this.onManifestLoading,this),u.on(D.Events.LEVEL_LOADING,this.onLevelLoading,this),u.on(D.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),u.on(D.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},c.unregisterListeners=function(){var u=this.hls;u.off(D.Events.MANIFEST_LOADING,this.onManifestLoading,this),u.off(D.Events.LEVEL_LOADING,this.onLevelLoading,this),u.off(D.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),u.off(D.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},c.createInternalLoader=function(u){var E=this.hls.config,y=E.pLoader,d=E.loader,f=y||d,p=new f(E);return u.loader=p,this.loaders[u.type]=p,p},c.getInternalLoader=function(u){return this.loaders[u.type]},c.resetInternalLoader=function(u){this.loaders[u]&&delete this.loaders[u]},c.destroyInternalLoaders=function(){for(var u in this.loaders){var E=this.loaders[u];E&&E.destroy(),this.resetInternalLoader(u)}},c.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},c.onManifestLoading=function(u,E){var y=E.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:_.PlaylistContextType.MANIFEST,url:y,deliveryDirectives:null})},c.onLevelLoading=function(u,E){var y=E.id,d=E.level,f=E.url,p=E.deliveryDirectives;this.load({id:y,groupId:null,level:d,responseType:"text",type:_.PlaylistContextType.LEVEL,url:f,deliveryDirectives:p})},c.onAudioTrackLoading=function(u,E){var y=E.id,d=E.groupId,f=E.url,p=E.deliveryDirectives;this.load({id:y,groupId:d,level:null,responseType:"text",type:_.PlaylistContextType.AUDIO_TRACK,url:f,deliveryDirectives:p})},c.onSubtitleTrackLoading=function(u,E){var y=E.id,d=E.groupId,f=E.url,p=E.deliveryDirectives;this.load({id:y,groupId:d,level:null,responseType:"text",type:_.PlaylistContextType.SUBTITLE_TRACK,url:f,deliveryDirectives:p})},c.load=function(u){var E,y=this.hls.config,d=this.getInternalLoader(u);if(d){var f=d.context;if(f&&f.url===u.url){M.logger.trace("[playlist-loader]: playlist request ongoing");return}M.logger.log("[playlist-loader]: aborting previous loader for type: "+u.type),d.abort()}var p,R,S,O;switch(u.type){case _.PlaylistContextType.MANIFEST:p=y.manifestLoadingMaxRetry,R=y.manifestLoadingTimeOut,S=y.manifestLoadingRetryDelay,O=y.manifestLoadingMaxRetryTimeout;break;case _.PlaylistContextType.LEVEL:case _.PlaylistContextType.AUDIO_TRACK:case _.PlaylistContextType.SUBTITLE_TRACK:p=0,R=y.levelLoadingTimeOut;break;default:p=y.levelLoadingMaxRetry,R=y.levelLoadingTimeOut,S=y.levelLoadingRetryDelay,O=y.levelLoadingMaxRetryTimeout;break}if(d=this.createInternalLoader(u),(E=u.deliveryDirectives)!==null&&E!==void 0&&E.part){var C;if(u.type===_.PlaylistContextType.LEVEL&&u.level!==null?C=this.hls.levels[u.level].details:u.type===_.PlaylistContextType.AUDIO_TRACK&&u.id!==null?C=this.hls.audioTracks[u.id].details:u.type===_.PlaylistContextType.SUBTITLE_TRACK&&u.id!==null&&(C=this.hls.subtitleTracks[u.id].details),C){var b=C.partTarget,T=C.targetduration;b&&T&&(R=Math.min(Math.max(b*3,T*.8)*1e3,R))}}var g={timeout:R,maxRetry:p,retryDelay:S,maxRetryDelay:O,highWaterMark:0},k={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};d.load(u,g,k)},c.loadsuccess=function(u,E,y,d){if(d===void 0&&(d=null),y.isSidxRequest){this.handleSidxRequest(u,y),this.handlePlaylistLoaded(u,E,y,d);return}this.resetInternalLoader(y.type);var f=u.data;if(f.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(u,y,"no EXTM3U delimiter",d);return}E.parsing.start=performance.now(),f.indexOf("#EXTINF:")>0||f.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(u,E,y,d):this.handleMasterPlaylist(u,E,y,d)},c.loaderror=function(u,E,y){y===void 0&&(y=null),this.handleNetworkError(E,y,!1,u)},c.loadtimeout=function(u,E,y){y===void 0&&(y=null),this.handleNetworkError(E,y,!0)},c.handleMasterPlaylist=function(u,E,y,d){var f=this.hls,p=u.data,R=v(u,y),S=A.default.parseMasterPlaylist(p,R),O=S.levels,C=S.sessionData;if(!O.length){this.handleManifestParsingError(u,y,"no level found in manifest",d);return}var b=O.map(function(W){return{id:W.attrs.AUDIO,audioCodec:W.audioCodec}}),T=O.map(function(W){return{id:W.attrs.SUBTITLES,textCodec:W.textCodec}}),g=A.default.parseMasterPlaylistMedia(p,R,"AUDIO",b),k=A.default.parseMasterPlaylistMedia(p,R,"SUBTITLES",T),N=A.default.parseMasterPlaylistMedia(p,R,"CLOSED-CAPTIONS");if(g.length){var U=g.some(function(W){return!W.url});!U&&O[0].audioCodec&&!O[0].attrs.AUDIO&&(M.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),g.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new w.AttrList({}),bitrate:0,url:""}))}f.trigger(D.Events.MANIFEST_LOADED,{levels:O,audioTracks:g,subtitles:k,captions:N,url:R,stats:E,networkDetails:d,sessionData:C})},c.handleTrackOrLevelPlaylist=function(u,E,y,d){var f=this.hls,p=y.id,R=y.level,S=y.type,O=v(u,y),C=(0,I.isFiniteNumber)(p)?p:0,b=(0,I.isFiniteNumber)(R)?R:C,T=h(y),g=A.default.parseLevelPlaylist(u.data,O,b,T,C);if(!g.fragments.length){f.trigger(D.Events.ERROR,{type:F.ErrorTypes.NETWORK_ERROR,details:F.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:O,reason:"no fragments found in level",level:typeof y.level=="number"?y.level:void 0});return}if(S===_.PlaylistContextType.MANIFEST){var k={attrs:new w.AttrList({}),bitrate:0,details:g,name:"",url:O};f.trigger(D.Events.MANIFEST_LOADED,{levels:[k],audioTracks:[],url:O,stats:E,networkDetails:d,sessionData:null})}if(E.parsing.end=performance.now(),g.needSidxRanges){var N,U=(N=g.fragments[0].initSegment)===null||N===void 0?void 0:N.url;this.load({url:U,isSidxRequest:!0,type:S,level:R,levelDetails:g,id:p,groupId:null,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",deliveryDirectives:null});return}y.levelDetails=g,this.handlePlaylistLoaded(u,E,y,d)},c.handleSidxRequest=function(u,E){var y=new Uint8Array(u.data),d=(0,B.findBox)(y,["sidx"])[0];if(!!d){var f=(0,B.parseSegmentIndex)(d);if(!!f){var p=f.references,R=E.levelDetails;p.forEach(function(S,O){var C=S.info,b=R.fragments[O];if(b.byteRange.length===0&&b.setByteRange(String(1+C.end-C.start)+"@"+String(C.start)),b.initSegment){var T=(0,B.findBox)(y,["moov"])[0],g=T?T.length:null;b.initSegment.setByteRange(String(g)+"@0")}})}}},c.handleManifestParsingError=function(u,E,y,d){this.hls.trigger(D.Events.ERROR,{type:F.ErrorTypes.NETWORK_ERROR,details:F.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:E.type===_.PlaylistContextType.MANIFEST,url:u.url,reason:y,response:u,context:E,networkDetails:d})},c.handleNetworkError=function(u,E,y,d){y===void 0&&(y=!1),M.logger.warn("[playlist-loader]: A network "+(y?"timeout":"error")+" occurred while loading "+u.type+" level: "+u.level+" id: "+u.id+' group-id: "'+u.groupId+'"');var f=F.ErrorDetails.UNKNOWN,p=!1,R=this.getInternalLoader(u);switch(u.type){case _.PlaylistContextType.MANIFEST:f=y?F.ErrorDetails.MANIFEST_LOAD_TIMEOUT:F.ErrorDetails.MANIFEST_LOAD_ERROR,p=!0;break;case _.PlaylistContextType.LEVEL:f=y?F.ErrorDetails.LEVEL_LOAD_TIMEOUT:F.ErrorDetails.LEVEL_LOAD_ERROR,p=!1;break;case _.PlaylistContextType.AUDIO_TRACK:f=y?F.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:F.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,p=!1;break;case _.PlaylistContextType.SUBTITLE_TRACK:f=y?F.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:F.ErrorDetails.SUBTITLE_LOAD_ERROR,p=!1;break}R&&this.resetInternalLoader(u.type);var S={type:F.ErrorTypes.NETWORK_ERROR,details:f,fatal:p,url:u.url,loader:R,context:u,networkDetails:E};d&&(S.response=d),this.hls.trigger(D.Events.ERROR,S)},c.handlePlaylistLoaded=function(u,E,y,d){var f=y.type,p=y.level,R=y.id,S=y.groupId,O=y.loader,C=y.levelDetails,b=y.deliveryDirectives;if(!(C!=null&&C.targetduration)){this.handleManifestParsingError(u,y,"invalid target duration",d);return}if(!!O)switch(C.live&&(O.getCacheAge&&(C.ageHeader=O.getCacheAge()||0),(!O.getCacheAge||isNaN(C.ageHeader))&&(C.ageHeader=0)),f){case _.PlaylistContextType.MANIFEST:case _.PlaylistContextType.LEVEL:this.hls.trigger(D.Events.LEVEL_LOADED,{details:C,level:p||0,id:R||0,stats:E,networkDetails:d,deliveryDirectives:b});break;case _.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(D.Events.AUDIO_TRACK_LOADED,{details:C,id:R||0,groupId:S||"",stats:E,networkDetails:d,deliveryDirectives:b});break;case _.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(D.Events.SUBTITLE_TRACK_LOADED,{details:C,id:R||0,groupId:S||"",stats:E,networkDetails:d,deliveryDirectives:b});break}},P}();const L=m},"./src/polyfills/number.ts":(s,x,a)=>{a.r(x),a.d(x,{MAX_SAFE_INTEGER:()=>D,isFiniteNumber:()=>I});var I=Number.isFinite||function(F){return typeof F=="number"&&isFinite(F)},D=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/remux/aac-helper.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>D});var I=function(){function F(){}return F.getSilentFrame=function(B,A){switch(B){case"mp4a.40.2":if(A===1)return new Uint8Array([0,200,0,128,35,128]);if(A===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(A===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(A===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(A===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(A===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(A===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(A===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(A===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}},F}();const D=I},"./src/remux/mp4-generator.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>F});var I=Math.pow(2,32)-1,D=function(){function M(){}return M.init=function(){M.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var A;for(A in M.types)M.types.hasOwnProperty(A)&&(M.types[A]=[A.charCodeAt(0),A.charCodeAt(1),A.charCodeAt(2),A.charCodeAt(3)]);var _=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),w=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);M.HDLR_TYPES={video:_,audio:w};var h=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),v=new Uint8Array([0,0,0,0,0,0,0,0]);M.STTS=M.STSC=M.STCO=v,M.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),M.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),M.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),M.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var m=new Uint8Array([105,115,111,109]),L=new Uint8Array([97,118,99,49]),P=new Uint8Array([0,0,0,1]);M.FTYP=M.box(M.types.ftyp,m,P,m,L),M.DINF=M.box(M.types.dinf,M.box(M.types.dref,h))},M.box=function(A){for(var _=8,w=arguments.length,h=new Array(w>1?w-1:0),v=1;v<w;v++)h[v-1]=arguments[v];for(var m=h.length,L=m;m--;)_+=h[m].byteLength;var P=new Uint8Array(_);for(P[0]=_>>24&255,P[1]=_>>16&255,P[2]=_>>8&255,P[3]=_&255,P.set(A,4),m=0,_=8;m<L;m++)P.set(h[m],_),_+=h[m].byteLength;return P},M.hdlr=function(A){return M.box(M.types.hdlr,M.HDLR_TYPES[A])},M.mdat=function(A){return M.box(M.types.mdat,A)},M.mdhd=function(A,_){_*=A;var w=Math.floor(_/(I+1)),h=Math.floor(_%(I+1));return M.box(M.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,A>>24&255,A>>16&255,A>>8&255,A&255,w>>24,w>>16&255,w>>8&255,w&255,h>>24,h>>16&255,h>>8&255,h&255,85,196,0,0]))},M.mdia=function(A){return M.box(M.types.mdia,M.mdhd(A.timescale,A.duration),M.hdlr(A.type),M.minf(A))},M.mfhd=function(A){return M.box(M.types.mfhd,new Uint8Array([0,0,0,0,A>>24,A>>16&255,A>>8&255,A&255]))},M.minf=function(A){return A.type==="audio"?M.box(M.types.minf,M.box(M.types.smhd,M.SMHD),M.DINF,M.stbl(A)):M.box(M.types.minf,M.box(M.types.vmhd,M.VMHD),M.DINF,M.stbl(A))},M.moof=function(A,_,w){return M.box(M.types.moof,M.mfhd(A),M.traf(w,_))},M.moov=function(A){for(var _=A.length,w=[];_--;)w[_]=M.trak(A[_]);return M.box.apply(null,[M.types.moov,M.mvhd(A[0].timescale,A[0].duration)].concat(w).concat(M.mvex(A)))},M.mvex=function(A){for(var _=A.length,w=[];_--;)w[_]=M.trex(A[_]);return M.box.apply(null,[M.types.mvex].concat(w))},M.mvhd=function(A,_){_*=A;var w=Math.floor(_/(I+1)),h=Math.floor(_%(I+1)),v=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,A>>24&255,A>>16&255,A>>8&255,A&255,w>>24,w>>16&255,w>>8&255,w&255,h>>24,h>>16&255,h>>8&255,h&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return M.box(M.types.mvhd,v)},M.sdtp=function(A){var _=A.samples||[],w=new Uint8Array(4+_.length),h,v;for(h=0;h<_.length;h++)v=_[h].flags,w[h+4]=v.dependsOn<<4|v.isDependedOn<<2|v.hasRedundancy;return M.box(M.types.sdtp,w)},M.stbl=function(A){return M.box(M.types.stbl,M.stsd(A),M.box(M.types.stts,M.STTS),M.box(M.types.stsc,M.STSC),M.box(M.types.stsz,M.STSZ),M.box(M.types.stco,M.STCO))},M.avc1=function(A){var _=[],w=[],h,v,m;for(h=0;h<A.sps.length;h++)v=A.sps[h],m=v.byteLength,_.push(m>>>8&255),_.push(m&255),_=_.concat(Array.prototype.slice.call(v));for(h=0;h<A.pps.length;h++)v=A.pps[h],m=v.byteLength,w.push(m>>>8&255),w.push(m&255),w=w.concat(Array.prototype.slice.call(v));var L=M.box(M.types.avcC,new Uint8Array([1,_[3],_[4],_[5],255,224|A.sps.length].concat(_).concat([A.pps.length]).concat(w))),P=A.width,c=A.height,l=A.pixelRatio[0],u=A.pixelRatio[1];return M.box(M.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P>>8&255,P&255,c>>8&255,c&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),L,M.box(M.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),M.box(M.types.pasp,new Uint8Array([l>>24,l>>16&255,l>>8&255,l&255,u>>24,u>>16&255,u>>8&255,u&255])))},M.esds=function(A){var _=A.config.length;return new Uint8Array([0,0,0,0,3,23+_,0,1,0,4,15+_,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([_]).concat(A.config).concat([6,1,2]))},M.mp4a=function(A){var _=A.samplerate;return M.box(M.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,A.channelCount,0,16,0,0,0,0,_>>8&255,_&255,0,0]),M.box(M.types.esds,M.esds(A)))},M.mp3=function(A){var _=A.samplerate;return M.box(M.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,A.channelCount,0,16,0,0,0,0,_>>8&255,_&255,0,0]))},M.stsd=function(A){return A.type==="audio"?A.segmentCodec==="mp3"&&A.codec==="mp3"?M.box(M.types.stsd,M.STSD,M.mp3(A)):M.box(M.types.stsd,M.STSD,M.mp4a(A)):M.box(M.types.stsd,M.STSD,M.avc1(A))},M.tkhd=function(A){var _=A.id,w=A.duration*A.timescale,h=A.width,v=A.height,m=Math.floor(w/(I+1)),L=Math.floor(w%(I+1));return M.box(M.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,_>>24&255,_>>16&255,_>>8&255,_&255,0,0,0,0,m>>24,m>>16&255,m>>8&255,m&255,L>>24,L>>16&255,L>>8&255,L&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,h>>8&255,h&255,0,0,v>>8&255,v&255,0,0]))},M.traf=function(A,_){var w=M.sdtp(A),h=A.id,v=Math.floor(_/(I+1)),m=Math.floor(_%(I+1));return M.box(M.types.traf,M.box(M.types.tfhd,new Uint8Array([0,0,0,0,h>>24,h>>16&255,h>>8&255,h&255])),M.box(M.types.tfdt,new Uint8Array([1,0,0,0,v>>24,v>>16&255,v>>8&255,v&255,m>>24,m>>16&255,m>>8&255,m&255])),M.trun(A,w.length+16+20+8+16+8+8),w)},M.trak=function(A){return A.duration=A.duration||4294967295,M.box(M.types.trak,M.tkhd(A),M.mdia(A))},M.trex=function(A){var _=A.id;return M.box(M.types.trex,new Uint8Array([0,0,0,0,_>>24,_>>16&255,_>>8&255,_&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},M.trun=function(A,_){var w=A.samples||[],h=w.length,v=12+16*h,m=new Uint8Array(v),L,P,c,l,u,E;for(_+=8+v,m.set([A.type==="video"?1:0,0,15,1,h>>>24&255,h>>>16&255,h>>>8&255,h&255,_>>>24&255,_>>>16&255,_>>>8&255,_&255],0),L=0;L<h;L++)P=w[L],c=P.duration,l=P.size,u=P.flags,E=P.cts,m.set([c>>>24&255,c>>>16&255,c>>>8&255,c&255,l>>>24&255,l>>>16&255,l>>>8&255,l&255,u.isLeading<<2|u.dependsOn,u.isDependedOn<<6|u.hasRedundancy<<4|u.paddingValue<<1|u.isNonSync,u.degradPrio&240<<8,u.degradPrio&15,E>>>24&255,E>>>16&255,E>>>8&255,E&255],12+16*L);return M.box(M.types.trun,m)},M.initSegment=function(A){M.types||M.init();var _=M.moov(A),w=new Uint8Array(M.FTYP.byteLength+_.byteLength);return w.set(M.FTYP),w.set(_,M.FTYP.byteLength),w},M}();D.types=void 0,D.HDLR_TYPES=void 0,D.STTS=void 0,D.STSC=void 0,D.STCO=void 0,D.STSZ=void 0,D.VMHD=void 0,D.SMHD=void 0,D.STSD=void 0,D.FTYP=void 0,D.DINF=void 0;const F=D},"./src/remux/mp4-remuxer.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>l,flushTextTrackMetadataCueSamples:()=>y,flushTextTrackUserdataCueSamples:()=>d,normalizePts:()=>u});var I=a("./src/polyfills/number.ts"),D=a("./src/remux/aac-helper.ts"),F=a("./src/remux/mp4-generator.ts"),M=a("./src/events.ts"),B=a("./src/errors.ts"),A=a("./src/utils/logger.ts"),_=a("./src/types/loader.ts"),w=a("./src/utils/timescale-conversion.ts");function h(){return h=Object.assign?Object.assign.bind():function(R){for(var S=1;S<arguments.length;S++){var O=arguments[S];for(var C in O)Object.prototype.hasOwnProperty.call(O,C)&&(R[C]=O[C])}return R},h.apply(this,arguments)}var v=10*1e3,m=1024,L=1152,P=null,c=null,l=function(){function R(O,C,b,T){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=O,this.config=C,this.typeSupported=b,this.ISGenerated=!1,P===null){var g=navigator.userAgent||"",k=g.match(/Chrome\/(\d+)/i);P=k?parseInt(k[1]):0}if(c===null){var N=navigator.userAgent.match(/Safari\/(\d+)/i);c=N?parseInt(N[1]):0}}var S=R.prototype;return S.destroy=function(){},S.resetTimeStamp=function(C){A.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=C},S.resetNextTimestamp=function(){A.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},S.resetInitSegment=function(){A.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},S.getVideoStartPts=function(C){var b=!1,T=C.reduce(function(g,k){var N=k.pts-g;return N<-4294967296?(b=!0,u(g,k.pts)):N>0?g:k.pts},C[0].pts);return b&&A.logger.debug("PTS rollover detected"),T},S.remux=function(C,b,T,g,k,N,U,W){var $,K,z,j,V,X,Q=k,J=k,te=C.pid>-1,ne=b.pid>-1,se=b.samples.length,oe=C.samples.length>0,pe=U&&se>0||se>1,ue=(!te||oe)&&(!ne||pe)||this.ISGenerated||U;if(ue){this.ISGenerated||(z=this.generateIS(C,b,k));var ie=this.isVideoContiguous,ce=-1,ge;if(pe&&(ce=E(b.samples),!ie&&this.config.forceKeyFrameOnDiscontinuity))if(X=!0,ce>0){A.logger.warn("[mp4-remuxer]: Dropped "+ce+" out of "+se+" video samples due to a missing keyframe");var me=this.getVideoStartPts(b.samples);b.samples=b.samples.slice(ce),b.dropped+=ce,J+=(b.samples[0].pts-me)/b.inputTimeScale,ge=J}else ce===-1&&(A.logger.warn("[mp4-remuxer]: No keyframe found out of "+se+" video samples"),X=!1);if(this.ISGenerated){if(oe&&pe){var xe=this.getVideoStartPts(b.samples),Me=u(C.samples[0].pts,xe)-xe,Se=Me/b.inputTimeScale;Q+=Math.max(0,Se),J+=Math.max(0,-Se)}if(oe){if(C.samplerate||(A.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),z=this.generateIS(C,b,k)),K=this.remuxAudio(C,Q,this.isAudioContiguous,N,ne||pe||W===_.PlaylistLevelType.AUDIO?J:void 0),pe){var Ue=K?K.endPTS-K.startPTS:0;b.inputTimeScale||(A.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),z=this.generateIS(C,b,k)),$=this.remuxVideo(b,J,ie,Ue)}}else pe&&($=this.remuxVideo(b,J,ie,0));$&&($.firstKeyFrame=ce,$.independent=ce!==-1,$.firstKeyFramePTS=ge)}}return this.ISGenerated&&(T.samples.length&&(V=y(T,k,this._initPTS,this._initDTS)),g.samples.length&&(j=d(g,k,this._initPTS))),{audio:K,video:$,initSegment:z,independent:X,text:j,id3:V}},S.generateIS=function(C,b,T){var g=C.samples,k=b.samples,N=this.typeSupported,U={},W=!(0,I.isFiniteNumber)(this._initPTS),$="audio/mp4",K,z,j;if(W&&(K=z=1/0),C.config&&g.length){switch(C.timescale=C.samplerate,C.segmentCodec){case"mp3":N.mpeg?($="audio/mpeg",C.codec=""):N.mp3&&(C.codec="mp3");break}U.audio={id:"audio",container:$,codec:C.codec,initSegment:C.segmentCodec==="mp3"&&N.mpeg?new Uint8Array(0):F.default.initSegment([C]),metadata:{channelCount:C.channelCount}},W&&(j=C.inputTimeScale,K=z=g[0].pts-Math.round(j*T))}if(b.sps&&b.pps&&k.length&&(b.timescale=b.inputTimeScale,U.video={id:"main",container:"video/mp4",codec:b.codec,initSegment:F.default.initSegment([b]),metadata:{width:b.width,height:b.height}},W)){j=b.inputTimeScale;var V=this.getVideoStartPts(k),X=Math.round(j*T);z=Math.min(z,u(k[0].dts,V)-X),K=Math.min(K,V-X)}if(Object.keys(U).length)return this.ISGenerated=!0,W&&(this._initPTS=K,this._initDTS=z),{tracks:U,initPTS:K,timescale:j}},S.remuxVideo=function(C,b,T,g){var k=C.inputTimeScale,N=C.samples,U=[],W=N.length,$=this._initPTS,K=this.nextAvcDts,z=8,j=this.videoSampleDuration,V,X,Q=Number.POSITIVE_INFINITY,J=Number.NEGATIVE_INFINITY,te=!1;if(!T||K===null){var ne=b*k,se=N[0].pts-u(N[0].dts,N[0].pts);K=ne-se}for(var oe=0;oe<W;oe++){var pe=N[oe];pe.pts=u(pe.pts-$,K),pe.dts=u(pe.dts-$,K),pe.dts<N[oe>0?oe-1:oe].dts&&(te=!0)}te&&N.sort(function(Il,Rf){var vy=Il.dts-Rf.dts,gy=Il.pts-Rf.pts;return vy||gy}),V=N[0].dts,X=N[N.length-1].dts;var ue=X-V,ie=ue?Math.round(ue/(W-1)):j||C.inputTimeScale/30;if(T){var ce=V-K,ge=ce>ie,me=ce<-1;if((ge||me)&&(ge?A.logger.warn("AVC: "+(0,w.toMsFromMpegTsClock)(ce,!0)+" ms ("+ce+"dts) hole between fragments detected, filling it"):A.logger.warn("AVC: "+(0,w.toMsFromMpegTsClock)(-ce,!0)+" ms ("+ce+"dts) overlapping between fragments detected"),!me||K>N[0].pts)){V=K;var xe=N[0].pts-ce;N[0].dts=V,N[0].pts=xe,A.logger.log("Video: First PTS/DTS adjusted: "+(0,w.toMsFromMpegTsClock)(xe,!0)+"/"+(0,w.toMsFromMpegTsClock)(V,!0)+", delta: "+(0,w.toMsFromMpegTsClock)(ce,!0)+" ms")}}V=Math.max(0,V);for(var Me=0,Se=0,Ue=0;Ue<W;Ue++){for(var Ne=N[Ue],q=Ne.units,ae=q.length,Ce=0,Pe=0;Pe<ae;Pe++)Ce+=q[Pe].data.length;Se+=Ce,Me+=ae,Ne.length=Ce,Ne.dts=Math.max(Ne.dts,V),Q=Math.min(Ne.pts,Q),J=Math.max(Ne.pts,J)}X=N[W-1].dts;var Je=Se+4*Me+8,je;try{je=new Uint8Array(Je)}catch{this.observer.emit(M.Events.ERROR,M.Events.ERROR,{type:B.ErrorTypes.MUX_ERROR,details:B.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:Je,reason:"fail allocating video mdat "+Je});return}var St=new DataView(je.buffer);St.setUint32(0,Je),je.set(F.default.types.mdat,4);for(var Bt=!1,Rr=Number.POSITIVE_INFINITY,et=Number.POSITIVE_INFINITY,ut=Number.NEGATIVE_INFINITY,Yt=Number.NEGATIVE_INFINITY,Ze=0;Ze<W;Ze++){for(var ct=N[Ze],Ut=ct.units,En=0,xn=0,Vn=Ut.length;xn<Vn;xn++){var vr=Ut[xn],Ll=vr.data,Tn=vr.data.byteLength;St.setUint32(z,Tn),z+=4,je.set(Ll,z),z+=Tn,En+=4+Tn}var br=void 0;if(Ze<W-1)j=N[Ze+1].dts-ct.dts,br=N[Ze+1].pts-ct.pts;else{var Yn=this.config,Sn=Ze>0?ct.dts-N[Ze-1].dts:ie;if(br=Ze>0?ct.pts-N[Ze-1].pts:ie,Yn.stretchShortVideoTrack&&this.nextAudioPts!==null){var oa=Math.floor(Yn.maxBufferHole*k),Pl=(g?Q+g*k:this.nextAudioPts)-ct.pts;Pl>oa?(j=Pl-Sn,j<0?j=Sn:Bt=!0,A.logger.log("[mp4-remuxer]: It is approximately "+Pl/90+" ms to the next segment; using duration "+j/90+" ms for the last video frame.")):j=Sn}else j=Sn}var uy=Math.round(ct.pts-ct.dts);Rr=Math.min(Rr,j),ut=Math.max(ut,j),et=Math.min(et,br),Yt=Math.max(Yt,br),U.push(new f(ct.key,j,En,uy))}if(U.length){if(P){if(P<70){var Sf=U[0].flags;Sf.dependsOn=2,Sf.isNonSync=0}}else if(c&&Yt-et<ut-Rr&&ie/ut<.025&&U[0].cts===0){A.logger.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");for(var Dl=V,or=0,_f=U.length;or<_f;or++){var Cf=Dl+U[or].duration,cy=Dl+U[or].cts;if(or<_f-1){var dy=Cf+U[or+1].cts;U[or].duration=dy-cy}else U[or].duration=or?U[or-1].duration:ie;U[or].cts=0,Dl=Cf}}}console.assert(j!==null,"mp4SampleDuration must be computed"),j=Bt||!j?ie:j,this.nextAvcDts=K=X+j,this.videoSampleDuration=j,this.isVideoContiguous=!0;var fy=F.default.moof(C.sequenceNumber++,V,h({},C,{samples:U})),hy="video",py={data1:fy,data2:je,startPTS:Q/k,endPTS:(J+j)/k,startDTS:V/k,endDTS:K/k,type:hy,hasAudio:!1,hasVideo:!0,nb:U.length,dropped:C.dropped};return C.samples=[],C.dropped=0,console.assert(je.length,"MDAT length must not be zero"),py},S.remuxAudio=function(C,b,T,g,k){var N=C.inputTimeScale,U=C.samplerate?C.samplerate:N,W=N/U,$=C.segmentCodec==="aac"?m:L,K=$*W,z=this._initPTS,j=C.segmentCodec==="mp3"&&this.typeSupported.mpeg,V=[],X=k!==void 0,Q=C.samples,J=j?0:8,te=this.nextAudioPts||-1,ne=b*N;if(this.isAudioContiguous=T=T||Q.length&&te>0&&(g&&Math.abs(ne-te)<9e3||Math.abs(u(Q[0].pts-z,ne)-te)<20*K),Q.forEach(function(vr){vr.pts=u(vr.pts-z,ne)}),!T||te<0){if(Q=Q.filter(function(vr){return vr.pts>=0}),!Q.length)return;k===0?te=0:g&&!X?te=Math.max(0,ne):te=Q[0].pts}if(C.segmentCodec==="aac")for(var se=this.config.maxAudioFramesDrift,oe=0,pe=te;oe<Q.length;oe++){var ue=Q[oe],ie=ue.pts,ce=ie-pe,ge=Math.abs(1e3*ce/N);if(ce<=-se*K&&X)oe===0&&(A.logger.warn("Audio frame @ "+(ie/N).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*ce/N)+" ms."),this.nextAudioPts=te=pe=ie);else if(ce>=se*K&&ge<v&&X){var me=Math.round(ce/K);pe=ie-me*K,pe<0&&(me--,pe+=K),oe===0&&(this.nextAudioPts=te=pe),A.logger.warn("[mp4-remuxer]: Injecting "+me+" audio frame @ "+(pe/N).toFixed(3)+"s due to "+Math.round(1e3*ce/N)+" ms gap.");for(var xe=0;xe<me;xe++){var Me=Math.max(pe,0),Se=D.default.getSilentFrame(C.manifestCodec||C.codec,C.channelCount);Se||(A.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),Se=ue.unit.subarray()),Q.splice(oe,0,{unit:Se,pts:Me}),pe+=K,oe++}}ue.pts=pe,pe+=K}for(var Ue=null,Ne=null,q,ae=0,Ce=Q.length;Ce--;)ae+=Q[Ce].unit.byteLength;for(var Pe=0,Je=Q.length;Pe<Je;Pe++){var je=Q[Pe],St=je.unit,Bt=je.pts;if(Ne!==null){var Rr=V[Pe-1];Rr.duration=Math.round((Bt-Ne)/W)}else if(T&&C.segmentCodec==="aac"&&(Bt=te),Ue=Bt,ae>0){ae+=J;try{q=new Uint8Array(ae)}catch{this.observer.emit(M.Events.ERROR,M.Events.ERROR,{type:B.ErrorTypes.MUX_ERROR,details:B.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:ae,reason:"fail allocating audio mdat "+ae});return}if(!j){var et=new DataView(q.buffer);et.setUint32(0,ae),q.set(F.default.types.mdat,4)}}else return;q.set(St,J);var ut=St.byteLength;J+=ut,V.push(new f(!0,$,ut,0)),Ne=Bt}var Yt=V.length;if(!!Yt){var Ze=V[V.length-1];this.nextAudioPts=te=Ne+W*Ze.duration;var ct=j?new Uint8Array(0):F.default.moof(C.sequenceNumber++,Ue/W,h({},C,{samples:V}));C.samples=[];var Ut=Ue/N,En=te/N,xn="audio",Vn={data1:ct,data2:q,startPTS:Ut,endPTS:En,startDTS:Ut,endDTS:En,type:xn,hasAudio:!0,hasVideo:!1,nb:Yt};return this.isAudioContiguous=!0,console.assert(q.length,"MDAT length must not be zero"),Vn}},S.remuxEmptyAudio=function(C,b,T,g){var k=C.inputTimeScale,N=C.samplerate?C.samplerate:k,U=k/N,W=this.nextAudioPts,$=(W!==null?W:g.startDTS*k)+this._initDTS,K=g.endDTS*k+this._initDTS,z=U*m,j=Math.ceil((K-$)/z),V=D.default.getSilentFrame(C.manifestCodec||C.codec,C.channelCount);if(A.logger.warn("[mp4-remuxer]: remux empty Audio"),!V){A.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");return}for(var X=[],Q=0;Q<j;Q++){var J=$+Q*z;X.push({unit:V,pts:J,dts:J})}return C.samples=X,this.remuxAudio(C,b,T,!1)},R}();function u(R,S){var O;if(S===null)return R;for(S<R?O=-8589934592:O=8589934592;Math.abs(R-S)>4294967296;)R+=O;return R}function E(R){for(var S=0;S<R.length;S++)if(R[S].key)return S;return-1}function y(R,S,O,C){var b=R.samples.length;if(!!b){for(var T=R.inputTimeScale,g=0;g<b;g++){var k=R.samples[g];k.pts=u(k.pts-O,S*T)/T,k.dts=u(k.dts-C,S*T)/T}var N=R.samples;return R.samples=[],{samples:N}}}function d(R,S,O){var C=R.samples.length;if(!!C){for(var b=R.inputTimeScale,T=0;T<C;T++){var g=R.samples[T];g.pts=u(g.pts-O,S*b)/b}R.samples.sort(function(N,U){return N.pts-U.pts});var k=R.samples;return R.samples=[],{samples:k}}}var f=function(S,O,C,b){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=O,this.size=C,this.cts=b,this.flags=new p(S)},p=function(S){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=S?2:1,this.isNonSync=S?0:1}},"./src/remux/passthrough-remuxer.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>w});var I=a("./src/polyfills/number.ts"),D=a("./src/remux/mp4-remuxer.ts"),F=a("./src/utils/mp4-tools.ts"),M=a("./src/loader/fragment.ts"),B=a("./src/utils/logger.ts"),A=function(){function h(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndTime=null}var v=h.prototype;return v.destroy=function(){},v.resetTimeStamp=function(L){this.initPTS=L,this.lastEndTime=null},v.resetNextTimestamp=function(){this.lastEndTime=null},v.resetInitSegment=function(L,P,c){this.audioCodec=P,this.videoCodec=c,this.generateInitSegment(L),this.emitInitSegment=!0},v.generateInitSegment=function(L){var P=this.audioCodec,c=this.videoCodec;if(!L||!L.byteLength){this.initTracks=void 0,this.initData=void 0;return}var l=this.initData=(0,F.parseInitSegment)(L);P||(P=_(l.audio,M.ElementaryStreamTypes.AUDIO)),c||(c=_(l.video,M.ElementaryStreamTypes.VIDEO));var u={};l.audio&&l.video?u.audiovideo={container:"video/mp4",codec:P+","+c,initSegment:L,id:"main"}:l.audio?u.audio={container:"audio/mp4",codec:P,initSegment:L,id:"audio"}:l.video?u.video={container:"video/mp4",codec:c,initSegment:L,id:"main"}:B.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=u},v.remux=function(L,P,c,l,u){var E,y=this.initPTS,d=this.lastEndTime,f={audio:void 0,video:void 0,text:l,id3:c,initSegment:void 0};(0,I.isFiniteNumber)(d)||(d=this.lastEndTime=u||0);var p=P.samples;if(!p||!p.length)return f;var R={initPTS:void 0,timescale:1},S=this.initData;if((!S||!S.length)&&(this.generateInitSegment(p),S=this.initData),!S||!S.length)return B.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),f;this.emitInitSegment&&(R.tracks=this.initTracks,this.emitInitSegment=!1);var O=(0,F.getStartDTS)(S,p);(0,I.isFiniteNumber)(y)||(this.initPTS=R.initPTS=y=O-u);var C=(0,F.getDuration)(p,S),b=L?O-y:d,T=b+C;(0,F.offsetStartDTS)(S,p,y),C>0?this.lastEndTime=T:(B.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var g=!!S.audio,k=!!S.video,N="";g&&(N+="audio"),k&&(N+="video");var U={data1:p,startPTS:b,startDTS:b,endPTS:T,endDTS:T,type:N,hasAudio:g,hasVideo:k,nb:1,dropped:0};f.audio=U.type==="audio"?U:void 0,f.video=U.type!=="audio"?U:void 0,f.initSegment=R;var W=(E=this.initPTS)!=null?E:0;return f.id3=(0,D.flushTextTrackMetadataCueSamples)(c,u,W,W),l.samples.length&&(f.text=(0,D.flushTextTrackUserdataCueSamples)(l,u,W)),f},h}();function _(h,v){var m=h==null?void 0:h.codec;return m&&m.length>4?m:m==="hvc1"||m==="hev1"?"hvc1.1.c.L120.90":m==="av01"?"av01.0.04M.08":m==="avc1"||v===M.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}const w=A},"./src/task-loop.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>I});var I=function(){function D(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var F=D.prototype;return F.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},F.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},F.onHandlerDestroyed=function(){},F.hasInterval=function(){return!!this._tickInterval},F.hasNextTick=function(){return!!this._tickTimer},F.setInterval=function(B){return this._tickInterval?!1:(this._tickInterval=self.setInterval(this._boundTick,B),!0)},F.clearInterval=function(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1},F.clearNextTick=function(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1},F.tick=function(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},F.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},F.doTick=function(){},D}()},"./src/types/cmcd.ts":(s,x,a)=>{a.r(x),a.d(x,{CMCDObjectType:()=>D,CMCDStreamType:()=>M,CMCDStreamingFormat:()=>F,CMCDVersion:()=>I});var I=1,D;(function(B){B.MANIFEST="m",B.AUDIO="a",B.VIDEO="v",B.MUXED="av",B.INIT="i",B.CAPTION="c",B.TIMED_TEXT="tt",B.KEY="k",B.OTHER="o"})(D||(D={}));var F;(function(B){B.DASH="d",B.HLS="h",B.SMOOTH="s",B.OTHER="o"})(F||(F={}));var M;(function(B){B.VOD="v",B.LIVE="l"})(M||(M={}))},"./src/types/demuxer.ts":(s,x,a)=>{a.r(x),a.d(x,{MetadataSchema:()=>I});var I;(function(D){D.audioId3="org.id3",D.dateRange="com.apple.quicktime.HLS",D.emsg="https://aomedia.org/emsg/ID3"})(I||(I={}))},"./src/types/level.ts":(s,x,a)=>{a.r(x),a.d(x,{HlsSkip:()=>F,HlsUrlParameters:()=>B,Level:()=>A,getSkipValue:()=>M});function I(_,w){for(var h=0;h<w.length;h++){var v=w[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(_,v.key,v)}}function D(_,w,h){return w&&I(_.prototype,w),h&&I(_,h),Object.defineProperty(_,"prototype",{writable:!1}),_}var F;(function(_){_.No="",_.Yes="YES",_.v2="v2"})(F||(F={}));function M(_,w){var h=_.canSkipUntil,v=_.canSkipDateRanges,m=_.endSN,L=w!==void 0?w-m:0;return h&&L<h?v?F.v2:F.Yes:F.No}var B=function(){function _(h,v,m){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=h,this.part=v,this.skip=m}var w=_.prototype;return w.addDirectives=function(v){var m=new self.URL(v);return this.msn!==void 0&&m.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&m.searchParams.set("_HLS_part",this.part.toString()),this.skip&&m.searchParams.set("_HLS_skip",this.skip),m.toString()},_}(),A=function(){function _(w){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[w.url],this.attrs=w.attrs,this.bitrate=w.bitrate,w.details&&(this.details=w.details),this.id=w.id||0,this.name=w.name,this.width=w.width||0,this.height=w.height||0,this.audioCodec=w.audioCodec,this.videoCodec=w.videoCodec,this.unknownCodecs=w.unknownCodecs,this.codecSet=[w.videoCodec,w.audioCodec].filter(function(h){return h}).join(",").replace(/\.[^.,]+/g,"")}return D(_,[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(h){var v=h%this.url.length;this._urlId!==v&&(this.details=void 0,this._urlId=v)}}]),_}()},"./src/types/loader.ts":(s,x,a)=>{a.r(x),a.d(x,{PlaylistContextType:()=>I,PlaylistLevelType:()=>D});var I;(function(F){F.MANIFEST="manifest",F.LEVEL="level",F.AUDIO_TRACK="audioTrack",F.SUBTITLE_TRACK="subtitleTrack"})(I||(I={}));var D;(function(F){F.MAIN="main",F.AUDIO="audio",F.SUBTITLE="subtitle"})(D||(D={}))},"./src/types/transmuxer.ts":(s,x,a)=>{a.r(x),a.d(x,{ChunkMetadata:()=>I});var I=function(M,B,A,_,w,h){_===void 0&&(_=0),w===void 0&&(w=-1),h===void 0&&(h=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=D(),this.buffering={audio:D(),video:D(),audiovideo:D()},this.level=M,this.sn=B,this.id=A,this.size=_,this.part=w,this.partial=h};function D(){return{start:0,executeStart:0,executeEnd:0,end:0}}},"./src/utils/attr-list.ts":(s,x,a)=>{a.r(x),a.d(x,{AttrList:()=>F});var I=/^(\d+)x(\d+)$/,D=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,F=function(){function M(A){typeof A=="string"&&(A=M.parseAttrList(A));for(var _ in A)A.hasOwnProperty(_)&&(this[_]=A[_])}var B=M.prototype;return B.decimalInteger=function(_){var w=parseInt(this[_],10);return w>Number.MAX_SAFE_INTEGER?1/0:w},B.hexadecimalInteger=function(_){if(this[_]){var w=(this[_]||"0x").slice(2);w=(w.length&1?"0":"")+w;for(var h=new Uint8Array(w.length/2),v=0;v<w.length/2;v++)h[v]=parseInt(w.slice(v*2,v*2+2),16);return h}else return null},B.hexadecimalIntegerAsNumber=function(_){var w=parseInt(this[_],16);return w>Number.MAX_SAFE_INTEGER?1/0:w},B.decimalFloatingPoint=function(_){return parseFloat(this[_])},B.optionalFloat=function(_,w){var h=this[_];return h?parseFloat(h):w},B.enumeratedString=function(_){return this[_]},B.bool=function(_){return this[_]==="YES"},B.decimalResolution=function(_){var w=I.exec(this[_]);if(w!==null)return{width:parseInt(w[1],10),height:parseInt(w[2],10)}},M.parseAttrList=function(_){var w,h={},v='"';for(D.lastIndex=0;(w=D.exec(_))!==null;){var m=w[2];m.indexOf(v)===0&&m.lastIndexOf(v)===m.length-1&&(m=m.slice(1,-1)),h[w[1]]=m}return h},M}()},"./src/utils/binary-search.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>D});var I={search:function(M,B){for(var A=0,_=M.length-1,w=null,h=null;A<=_;){w=(A+_)/2|0,h=M[w];var v=B(h);if(v>0)A=w+1;else if(v<0)_=w-1;else return h}return null}};const D=I},"./src/utils/buffer-helper.ts":(s,x,a)=>{a.r(x),a.d(x,{BufferHelper:()=>F});var I=a("./src/utils/logger.ts"),D={length:0,start:function(){return 0},end:function(){return 0}},F=function(){function M(){}return M.isBuffered=function(A,_){try{if(A){for(var w=M.getBuffered(A),h=0;h<w.length;h++)if(_>=w.start(h)&&_<=w.end(h))return!0}}catch{}return!1},M.bufferInfo=function(A,_,w){try{if(A){var h=M.getBuffered(A),v=[],m;for(m=0;m<h.length;m++)v.push({start:h.start(m),end:h.end(m)});return this.bufferedInfo(v,_,w)}}catch{}return{len:0,start:_,end:_,nextStart:void 0}},M.bufferedInfo=function(A,_,w){_=Math.max(0,_),A.sort(function(f,p){var R=f.start-p.start;return R||p.end-f.end});var h=[];if(w)for(var v=0;v<A.length;v++){var m=h.length;if(m){var L=h[m-1].end;A[v].start-L<w?A[v].end>L&&(h[m-1].end=A[v].end):h.push(A[v])}else h.push(A[v])}else h=A;for(var P=0,c,l=_,u=_,E=0;E<h.length;E++){var y=h[E].start,d=h[E].end;if(_+w>=y&&_<d)l=y,u=d,P=u-_;else if(_+w<y){c=y;break}}return{len:P,start:l||0,end:u||0,nextStart:c}},M.getBuffered=function(A){try{return A.buffered}catch(_){return I.logger.log("failed to get media.buffered",_),D}},M}()},"./src/utils/cea-608-parser.ts":(s,x,a)=>{a.r(x),a.d(x,{CaptionScreen:()=>E,Row:()=>u,default:()=>S});var I=a("./src/utils/logger.ts"),D={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},F=function(C){var b=C;return D.hasOwnProperty(C)&&(b=D[C]),String.fromCharCode(b)},M=15,B=100,A={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},_={17:2,18:4,21:6,22:8,23:10,19:13,20:15},w={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},h={25:2,26:4,29:6,30:8,31:10,27:13,28:15},v=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],m;(function(O){O[O.ERROR=0]="ERROR",O[O.TEXT=1]="TEXT",O[O.WARNING=2]="WARNING",O[O.INFO=2]="INFO",O[O.DEBUG=3]="DEBUG",O[O.DATA=3]="DATA"})(m||(m={}));var L=function(){function O(){this.time=null,this.verboseLevel=m.ERROR}var C=O.prototype;return C.log=function(T,g){this.verboseLevel>=T&&I.logger.log(this.time+" ["+T+"] "+g)},O}(),P=function(C){for(var b=[],T=0;T<C.length;T++)b.push(C[T].toString(16));return b},c=function(){function O(b,T,g,k,N){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=b||"white",this.underline=T||!1,this.italics=g||!1,this.background=k||"black",this.flash=N||!1}var C=O.prototype;return C.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},C.setStyles=function(T){for(var g=["foreground","underline","italics","background","flash"],k=0;k<g.length;k++){var N=g[k];T.hasOwnProperty(N)&&(this[N]=T[N])}},C.isDefault=function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},C.equals=function(T){return this.foreground===T.foreground&&this.underline===T.underline&&this.italics===T.italics&&this.background===T.background&&this.flash===T.flash},C.copy=function(T){this.foreground=T.foreground,this.underline=T.underline,this.italics=T.italics,this.background=T.background,this.flash=T.flash},C.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},O}(),l=function(){function O(b,T,g,k,N,U){this.uchar=void 0,this.penState=void 0,this.uchar=b||" ",this.penState=new c(T,g,k,N,U)}var C=O.prototype;return C.reset=function(){this.uchar=" ",this.penState.reset()},C.setChar=function(T,g){this.uchar=T,this.penState.copy(g)},C.setPenState=function(T){this.penState.copy(T)},C.equals=function(T){return this.uchar===T.uchar&&this.penState.equals(T.penState)},C.copy=function(T){this.uchar=T.uchar,this.penState.copy(T.penState)},C.isEmpty=function(){return this.uchar===" "&&this.penState.isDefault()},O}(),u=function(){function O(b){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var T=0;T<B;T++)this.chars.push(new l);this.logger=b,this.pos=0,this.currPenState=new c}var C=O.prototype;return C.equals=function(T){for(var g=!0,k=0;k<B;k++)if(!this.chars[k].equals(T.chars[k])){g=!1;break}return g},C.copy=function(T){for(var g=0;g<B;g++)this.chars[g].copy(T.chars[g])},C.isEmpty=function(){for(var T=!0,g=0;g<B;g++)if(!this.chars[g].isEmpty()){T=!1;break}return T},C.setCursor=function(T){this.pos!==T&&(this.pos=T),this.pos<0?(this.logger.log(m.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>B&&(this.logger.log(m.DEBUG,"Too large cursor position "+this.pos),this.pos=B)},C.moveCursor=function(T){var g=this.pos+T;if(T>1)for(var k=this.pos+1;k<g+1;k++)this.chars[k].setPenState(this.currPenState);this.setCursor(g)},C.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},C.insertChar=function(T){T>=144&&this.backSpace();var g=F(T);if(this.pos>=B){this.logger.log(m.ERROR,"Cannot insert "+T.toString(16)+" ("+g+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(g,this.currPenState),this.moveCursor(1)},C.clearFromPos=function(T){var g;for(g=T;g<B;g++)this.chars[g].reset()},C.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},C.clearToEndOfRow=function(){this.clearFromPos(this.pos)},C.getTextString=function(){for(var T=[],g=!0,k=0;k<B;k++){var N=this.chars[k].uchar;N!==" "&&(g=!1),T.push(N)}return g?"":T.join("")},C.setPenStyles=function(T){this.currPenState.setStyles(T);var g=this.chars[this.pos];g.setPenState(this.currPenState)},O}(),E=function(){function O(b){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var T=0;T<M;T++)this.rows.push(new u(b));this.logger=b,this.currRow=M-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var C=O.prototype;return C.reset=function(){for(var T=0;T<M;T++)this.rows[T].clear();this.currRow=M-1},C.equals=function(T){for(var g=!0,k=0;k<M;k++)if(!this.rows[k].equals(T.rows[k])){g=!1;break}return g},C.copy=function(T){for(var g=0;g<M;g++)this.rows[g].copy(T.rows[g])},C.isEmpty=function(){for(var T=!0,g=0;g<M;g++)if(!this.rows[g].isEmpty()){T=!1;break}return T},C.backSpace=function(){var T=this.rows[this.currRow];T.backSpace()},C.clearToEndOfRow=function(){var T=this.rows[this.currRow];T.clearToEndOfRow()},C.insertChar=function(T){var g=this.rows[this.currRow];g.insertChar(T)},C.setPen=function(T){var g=this.rows[this.currRow];g.setPenStyles(T)},C.moveCursor=function(T){var g=this.rows[this.currRow];g.moveCursor(T)},C.setCursor=function(T){this.logger.log(m.INFO,"setCursor: "+T);var g=this.rows[this.currRow];g.setCursor(T)},C.setPAC=function(T){this.logger.log(m.INFO,"pacData = "+JSON.stringify(T));var g=T.row-1;if(this.nrRollUpRows&&g<this.nrRollUpRows-1&&(g=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==g){for(var k=0;k<M;k++)this.rows[k].clear();var N=this.currRow+1-this.nrRollUpRows,U=this.lastOutputScreen;if(U){var W=U.rows[N].cueStartTime,$=this.logger.time;if(W&&$!==null&&W<$)for(var K=0;K<this.nrRollUpRows;K++)this.rows[g-this.nrRollUpRows+K+1].copy(U.rows[N+K])}}this.currRow=g;var z=this.rows[this.currRow];if(T.indent!==null){var j=T.indent,V=Math.max(j-1,0);z.setCursor(T.indent),T.color=z.chars[V].penState.foreground}var X={foreground:T.color,underline:T.underline,italics:T.italics,background:"black",flash:!1};this.setPen(X)},C.setBkgData=function(T){this.logger.log(m.INFO,"bkgData = "+JSON.stringify(T)),this.backSpace(),this.setPen(T),this.insertChar(32)},C.setRollUpRows=function(T){this.nrRollUpRows=T},C.rollUp=function(){if(this.nrRollUpRows===null){this.logger.log(m.DEBUG,"roll_up but nrRollUpRows not set yet");return}this.logger.log(m.TEXT,this.getDisplayText());var T=this.currRow+1-this.nrRollUpRows,g=this.rows.splice(T,1)[0];g.clear(),this.rows.splice(this.currRow,0,g),this.logger.log(m.INFO,"Rolling up")},C.getDisplayText=function(T){T=T||!1;for(var g=[],k="",N=-1,U=0;U<M;U++){var W=this.rows[U].getTextString();W&&(N=U+1,T?g.push("Row "+N+": '"+W+"'"):g.push(W.trim()))}return g.length>0&&(T?k="["+g.join(" | ")+"]":k=g.join(`
`)),k},C.getTextAndFormat=function(){return this.rows},O}(),y=function(){function O(b,T,g){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=b,this.outputFilter=T,this.mode=null,this.verbose=0,this.displayedMemory=new E(g),this.nonDisplayedMemory=new E(g),this.lastOutputScreen=new E(g),this.currRollUpRow=this.displayedMemory.rows[M-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=g}var C=O.prototype;return C.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[M-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},C.getHandler=function(){return this.outputFilter},C.setHandler=function(T){this.outputFilter=T},C.setPAC=function(T){this.writeScreen.setPAC(T)},C.setBkgData=function(T){this.writeScreen.setBkgData(T)},C.setMode=function(T){T!==this.mode&&(this.mode=T,this.logger.log(m.INFO,"MODE="+T),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=T)},C.insertChars=function(T){for(var g=0;g<T.length;g++)this.writeScreen.insertChar(T[g]);var k=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(m.INFO,k+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(m.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},C.ccRCL=function(){this.logger.log(m.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},C.ccBS=function(){this.logger.log(m.INFO,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},C.ccAOF=function(){},C.ccAON=function(){},C.ccDER=function(){this.logger.log(m.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},C.ccRU=function(T){this.logger.log(m.INFO,"RU("+T+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(T)},C.ccFON=function(){this.logger.log(m.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},C.ccRDC=function(){this.logger.log(m.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},C.ccTR=function(){this.logger.log(m.INFO,"TR"),this.setMode("MODE_TEXT")},C.ccRTD=function(){this.logger.log(m.INFO,"RTD"),this.setMode("MODE_TEXT")},C.ccEDM=function(){this.logger.log(m.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},C.ccCR=function(){this.logger.log(m.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},C.ccENM=function(){this.logger.log(m.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},C.ccEOC=function(){if(this.logger.log(m.INFO,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var T=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=T,this.writeScreen=this.nonDisplayedMemory,this.logger.log(m.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},C.ccTO=function(T){this.logger.log(m.INFO,"TO("+T+") - Tab Offset"),this.writeScreen.moveCursor(T)},C.ccMIDROW=function(T){var g={flash:!1};if(g.underline=T%2===1,g.italics=T>=46,g.italics)g.foreground="white";else{var k=Math.floor(T/2)-16,N=["white","green","blue","cyan","red","yellow","magenta"];g.foreground=N[k]}this.logger.log(m.INFO,"MIDROW: "+JSON.stringify(g)),this.writeScreen.setPen(g)},C.outputDataUpdate=function(T){T===void 0&&(T=!1);var g=this.logger.time;g!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=g:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,g,this.lastOutputScreen),T&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:g),this.lastOutputScreen.copy(this.displayedMemory))},C.cueSplitAtTime=function(T){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,T,this.displayedMemory),this.cueStartTime=T))},O}(),d=function(){function O(b,T,g){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var k=new L;this.channels=[null,new y(b,T,k),new y(b+1,g,k)],this.cmdHistory=R(),this.logger=k}var C=O.prototype;return C.getHandler=function(T){return this.channels[T].getHandler()},C.setHandler=function(T,g){this.channels[T].setHandler(g)},C.addData=function(T,g){var k,N,U,W=!1;this.logger.time=T;for(var $=0;$<g.length;$+=2)if(N=g[$]&127,U=g[$+1]&127,!(N===0&&U===0)){if(this.logger.log(m.DATA,"["+P([g[$],g[$+1]])+"] -> ("+P([N,U])+")"),k=this.parseCmd(N,U),k||(k=this.parseMidrow(N,U)),k||(k=this.parsePAC(N,U)),k||(k=this.parseBackgroundAttributes(N,U)),!k&&(W=this.parseChars(N,U),W)){var K=this.currentChannel;if(K&&K>0){var z=this.channels[K];z.insertChars(W)}else this.logger.log(m.WARNING,"No channel found yet. TEXT-MODE?")}!k&&!W&&this.logger.log(m.WARNING,"Couldn't parse cleaned data "+P([N,U])+" orig: "+P([g[$],g[$+1]]))}},C.parseCmd=function(T,g){var k=this.cmdHistory,N=(T===20||T===28||T===21||T===29)&&g>=32&&g<=47,U=(T===23||T===31)&&g>=33&&g<=35;if(!(N||U))return!1;if(p(T,g,k))return f(null,null,k),this.logger.log(m.DEBUG,"Repeated command ("+P([T,g])+") is dropped"),!0;var W=T===20||T===21||T===23?1:2,$=this.channels[W];return T===20||T===21||T===28||T===29?g===32?$.ccRCL():g===33?$.ccBS():g===34?$.ccAOF():g===35?$.ccAON():g===36?$.ccDER():g===37?$.ccRU(2):g===38?$.ccRU(3):g===39?$.ccRU(4):g===40?$.ccFON():g===41?$.ccRDC():g===42?$.ccTR():g===43?$.ccRTD():g===44?$.ccEDM():g===45?$.ccCR():g===46?$.ccENM():g===47&&$.ccEOC():$.ccTO(g-32),f(T,g,k),this.currentChannel=W,!0},C.parseMidrow=function(T,g){var k=0;if((T===17||T===25)&&g>=32&&g<=47){if(T===17?k=1:k=2,k!==this.currentChannel)return this.logger.log(m.ERROR,"Mismatch channel in midrow parsing"),!1;var N=this.channels[k];return N?(N.ccMIDROW(g),this.logger.log(m.DEBUG,"MIDROW ("+P([T,g])+")"),!0):!1}return!1},C.parsePAC=function(T,g){var k,N=this.cmdHistory,U=(T>=17&&T<=23||T>=25&&T<=31)&&g>=64&&g<=127,W=(T===16||T===24)&&g>=64&&g<=95;if(!(U||W))return!1;if(p(T,g,N))return f(null,null,N),!0;var $=T<=23?1:2;g>=64&&g<=95?k=$===1?A[T]:w[T]:k=$===1?_[T]:h[T];var K=this.channels[$];return K?(K.setPAC(this.interpretPAC(k,g)),f(T,g,N),this.currentChannel=$,!0):!1},C.interpretPAC=function(T,g){var k,N={color:null,italics:!1,indent:null,underline:!1,row:T};return g>95?k=g-96:k=g-64,N.underline=(k&1)===1,k<=13?N.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(k/2)]:k<=15?(N.italics=!0,N.color="white"):N.indent=Math.floor((k-16)/2)*4,N},C.parseChars=function(T,g){var k,N=null,U=null;if(T>=25?(k=2,U=T-8):(k=1,U=T),U>=17&&U<=19){var W;U===17?W=g+80:U===18?W=g+112:W=g+144,this.logger.log(m.INFO,"Special char '"+F(W)+"' in channel "+k),N=[W]}else T>=32&&T<=127&&(N=g===0?[T]:[T,g]);if(N){var $=P(N);this.logger.log(m.DEBUG,"Char codes =  "+$.join(",")),f(T,g,this.cmdHistory)}return N},C.parseBackgroundAttributes=function(T,g){var k=(T===16||T===24)&&g>=32&&g<=47,N=(T===23||T===31)&&g>=45&&g<=47;if(!(k||N))return!1;var U,W={};T===16||T===24?(U=Math.floor((g-32)/2),W.background=v[U],g%2===1&&(W.background=W.background+"_semi")):g===45?W.background="transparent":(W.foreground="black",g===47&&(W.underline=!0));var $=T<=23?1:2,K=this.channels[$];return K.setBkgData(W),f(T,g,this.cmdHistory),!0},C.reset=function(){for(var T=0;T<Object.keys(this.channels).length;T++){var g=this.channels[T];g&&g.reset()}this.cmdHistory=R()},C.cueSplitAtTime=function(T){for(var g=0;g<this.channels.length;g++){var k=this.channels[g];k&&k.cueSplitAtTime(T)}},O}();function f(O,C,b){b.a=O,b.b=C}function p(O,C,b){return b.a===O&&b.b===C}function R(){return{a:null,b:null}}const S=d},"./src/utils/codecs.ts":(s,x,a)=>{a.r(x),a.d(x,{isCodecSupportedInMp4:()=>F,isCodecType:()=>D});var I={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function D(M,B){var A=I[B];return!!A&&A[M.slice(0,4)]===!0}function F(M,B){return MediaSource.isTypeSupported((B||"video")+'/mp4;codecs="'+M+'"')}},"./src/utils/cues.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>A});var I=a("./src/utils/vttparser.ts"),D=a("./src/utils/webvtt-parser.ts"),F=a("./src/utils/texttrack-utils.ts"),M=/\s/,B={newCue:function(w,h,v,m){for(var L=[],P,c,l,u,E,y=self.VTTCue||self.TextTrackCue,d=0;d<m.rows.length;d++)if(P=m.rows[d],l=!0,u=0,E="",!P.isEmpty()){for(var f=0;f<P.chars.length;f++)M.test(P.chars[f].uchar)&&l?u++:(E+=P.chars[f].uchar,l=!1);P.cueStartTime=h,h===v&&(v+=1e-4),u>=16?u--:u++;var p=(0,I.fixLineBreaks)(E.trim()),R=(0,D.generateCueId)(h,v,p);(!w||!w.cues||!w.cues.getCueById(R))&&(c=new y(h,v,p),c.id=R,c.line=d+1,c.align="left",c.position=10+Math.min(80,Math.floor(u*8/32)*10),L.push(c))}return w&&L.length&&(L.sort(function(S,O){return S.line==="auto"||O.line==="auto"?0:S.line>8&&O.line>8?O.line-S.line:S.line-O.line}),L.forEach(function(S){return(0,F.addCueToTrack)(w,S)})),L}};const A=B},"./src/utils/discontinuities.ts":(s,x,a)=>{a.r(x),a.d(x,{adjustSlidingStart:()=>w,alignMediaPlaylistByPDT:()=>L,alignPDT:()=>m,alignStream:()=>h,findDiscontinuousReferenceFrag:()=>A,findFirstFragWithCC:()=>M,shouldAlignOnDiscontinuities:()=>B});var I=a("./src/polyfills/number.ts"),D=a("./src/utils/logger.ts"),F=a("./src/controller/level-helper.ts");function M(P,c){for(var l=null,u=0,E=P.length;u<E;u++){var y=P[u];if(y&&y.cc===c){l=y;break}}return l}function B(P,c,l){return!!(c.details&&(l.endCC>l.startCC||P&&P.cc<l.startCC))}function A(P,c,l){var u=P.fragments,E=c.fragments;if(!E.length||!u.length){D.logger.log("No fragments to align");return}var y=M(u,E[0].cc);if(!y||y&&!y.startPTS){D.logger.log("No frag in previous level to align on");return}return y}function _(P,c){if(P){var l=P.start+c;P.start=P.startPTS=l,P.endPTS=l+P.duration}}function w(P,c){for(var l=c.fragments,u=0,E=l.length;u<E;u++)_(l[u],P);c.fragmentHint&&_(c.fragmentHint,P),c.alignedSliding=!0}function h(P,c,l){!c||(v(P,l,c),!l.alignedSliding&&c.details&&m(l,c.details),!l.alignedSliding&&c.details&&!l.skippedSegments&&(0,F.adjustSliding)(c.details,l))}function v(P,c,l){if(B(P,l,c)){var u=A(l.details,c);u&&(0,I.isFiniteNumber)(u.start)&&(D.logger.log("Adjusting PTS using last level due to CC increase within current level "+c.url),w(u.start,c))}}function m(P,c){if(!(!c.fragments.length||!P.hasProgramDateTime||!c.hasProgramDateTime)){var l=c.fragments[0].programDateTime,u=P.fragments[0].programDateTime,E=(u-l)/1e3+c.fragments[0].start;E&&(0,I.isFiniteNumber)(E)&&(D.logger.log("Adjusting PTS using programDateTime delta "+(u-l)+"ms, sliding:"+E.toFixed(3)+" "+P.url+" "),w(E,P))}}function L(P,c){if(!(!P.hasProgramDateTime||!c.hasProgramDateTime)){var l=P.fragments,u=c.fragments;if(!(!l.length||!u.length)){var E=Math.round(u.length/2)-1,y=u[E],d=M(l,y.cc)||l[Math.round(l.length/2)-1],f=y.programDateTime,p=d.programDateTime;if(!(f===null||p===null)){var R=(p-f)/1e3-(d.start-y.start);w(R,P)}}}}},"./src/utils/ewma-bandwidth-estimator.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>F});var I=a("./src/utils/ewma.ts"),D=function(){function M(A,_,w){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=w,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new I.default(A),this.fast_=new I.default(_)}var B=M.prototype;return B.update=function(_,w){var h=this.slow_,v=this.fast_;this.slow_.halfLife!==_&&(this.slow_=new I.default(_,h.getEstimate(),h.getTotalWeight())),this.fast_.halfLife!==w&&(this.fast_=new I.default(w,v.getEstimate(),v.getTotalWeight()))},B.sample=function(_,w){_=Math.max(_,this.minDelayMs_);var h=8*w,v=_/1e3,m=h/v;this.fast_.sample(v,m),this.slow_.sample(v,m)},B.canEstimate=function(){var _=this.fast_;return _&&_.getTotalWeight()>=this.minWeight_},B.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},B.destroy=function(){},M}();const F=D},"./src/utils/ewma.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>D});var I=function(){function F(B,A,_){A===void 0&&(A=0),_===void 0&&(_=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=B,this.alpha_=B?Math.exp(Math.log(.5)/B):0,this.estimate_=A,this.totalWeight_=_}var M=F.prototype;return M.sample=function(A,_){var w=Math.pow(this.alpha_,A);this.estimate_=_*(1-w)+w*this.estimate_,this.totalWeight_+=A},M.getTotalWeight=function(){return this.totalWeight_},M.getEstimate=function(){if(this.alpha_){var A=1-Math.pow(this.alpha_,this.totalWeight_);if(A)return this.estimate_/A}return this.estimate_},F}();const D=I},"./src/utils/fetch-loader.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>E,fetchSupported:()=>L});var I=a("./src/polyfills/number.ts"),D=a("./src/loader/load-stats.ts"),F=a("./src/demux/chunk-cache.ts");function M(y,d){y.prototype=Object.create(d.prototype),y.prototype.constructor=y,h(y,d)}function B(y){var d=typeof Map=="function"?new Map:void 0;return B=function(p){if(p===null||!w(p))return p;if(typeof p!="function")throw new TypeError("Super expression must either be null or a function");if(typeof d<"u"){if(d.has(p))return d.get(p);d.set(p,R)}function R(){return A(p,arguments,v(this).constructor)}return R.prototype=Object.create(p.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),h(R,p)},B(y)}function A(y,d,f){return _()?A=Reflect.construct.bind():A=function(R,S,O){var C=[null];C.push.apply(C,S);var b=Function.bind.apply(R,C),T=new b;return O&&h(T,O.prototype),T},A.apply(null,arguments)}function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(y){return Function.toString.call(y).indexOf("[native code]")!==-1}function h(y,d){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(p,R){return p.__proto__=R,p},h(y,d)}function v(y){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(f){return f.__proto__||Object.getPrototypeOf(f)},v(y)}function m(){return m=Object.assign?Object.assign.bind():function(y){for(var d=1;d<arguments.length;d++){var f=arguments[d];for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(y[p]=f[p])}return y},m.apply(this,arguments)}function L(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}var P=function(){function y(f){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=f.fetchSetup||l,this.controller=new self.AbortController,this.stats=new D.LoadStats}var d=y.prototype;return d.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},d.abortInternal=function(){var p=this.response;(!p||!p.ok)&&(this.stats.aborted=!0,this.controller.abort())},d.abort=function(){var p;this.abortInternal(),(p=this.callbacks)!==null&&p!==void 0&&p.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},d.load=function(p,R,S){var O=this,C=this.stats;if(C.loading.start)throw new Error("Loader can only be used once.");C.loading.start=self.performance.now();var b=c(p,this.controller.signal),T=S.onProgress,g=p.responseType==="arraybuffer",k=g?"byteLength":"length";this.context=p,this.config=R,this.callbacks=S,this.request=this.fetchSetup(p,b),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(function(){O.abortInternal(),S.onTimeout(C,p,O.response)},R.timeout),self.fetch(this.request).then(function(N){if(O.response=O.loader=N,!N.ok){var U=N.status,W=N.statusText;throw new u(W||"fetch, bad network response",U,N)}return C.loading.first=Math.max(self.performance.now(),C.loading.start),C.total=parseInt(N.headers.get("Content-Length")||"0"),T&&(0,I.isFiniteNumber)(R.highWaterMark)?O.loadProgressively(N,C,p,R.highWaterMark,T):g?N.arrayBuffer():N.text()}).then(function(N){var U=O.response;self.clearTimeout(O.requestTimeout),C.loading.end=Math.max(self.performance.now(),C.loading.first),C.loaded=C.total=N[k];var W={url:U.url,data:N};T&&!(0,I.isFiniteNumber)(R.highWaterMark)&&T(C,p,N,U),S.onSuccess(W,C,p,U)}).catch(function(N){if(self.clearTimeout(O.requestTimeout),!C.aborted){var U=N&&N.code||0,W=N?N.message:null;S.onError({code:U,text:W},p,N?N.details:null)}})},d.getCacheAge=function(){var p=null;if(this.response){var R=this.response.headers.get("age");p=R?parseFloat(R):null}return p},d.loadProgressively=function(p,R,S,O,C){O===void 0&&(O=0);var b=new F.default,T=p.body.getReader(),g=function k(){return T.read().then(function(N){if(N.done)return b.dataLength&&C(R,S,b.flush(),p),Promise.resolve(new ArrayBuffer(0));var U=N.value,W=U.length;return R.loaded+=W,W<O||b.dataLength?(b.push(U),b.dataLength>=O&&C(R,S,b.flush(),p)):C(R,S,U,p),k()}).catch(function(){return Promise.reject()})};return g()},y}();function c(y,d){var f={method:"GET",mode:"cors",credentials:"same-origin",signal:d,headers:new self.Headers(m({},y.headers))};return y.rangeEnd&&f.headers.set("Range","bytes="+y.rangeStart+"-"+String(y.rangeEnd-1)),f}function l(y,d){return new self.Request(y.url,d)}var u=function(y){M(d,y);function d(f,p,R){var S;return S=y.call(this,f)||this,S.code=void 0,S.details=void 0,S.code=p,S.details=R,S}return d}(B(Error));const E=P},"./src/utils/imsc1-ttml-parser.ts":(s,x,a)=>{a.r(x),a.d(x,{IMSC1_CODEC:()=>w,parseIMSC1:()=>L});var I=a("./src/utils/mp4-tools.ts"),D=a("./src/utils/vttparser.ts"),F=a("./src/utils/vttcue.ts"),M=a("./src/demux/id3.ts"),B=a("./src/utils/timescale-conversion.ts"),A=a("./src/utils/webvtt-parser.ts");function _(){return _=Object.assign?Object.assign.bind():function(S){for(var O=1;O<arguments.length;O++){var C=arguments[O];for(var b in C)Object.prototype.hasOwnProperty.call(C,b)&&(S[b]=C[b])}return S},_.apply(this,arguments)}var w="stpp.ttml.im1t",h=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,v=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,m={left:"start",center:"center",right:"end",start:"start",end:"end"};function L(S,O,C,b,T){var g=(0,I.findBox)(new Uint8Array(S),["mdat"]);if(g.length===0){T(new Error("Could not parse IMSC1 mdat"));return}var k=g.map(function(U){return(0,M.utf8ArrayToStr)(U)}),N=(0,B.toTimescaleFromScale)(O,1,C);try{k.forEach(function(U){return b(P(U,N))})}catch(U){T(U)}}function P(S,O){var C=new DOMParser,b=C.parseFromString(S,"text/xml"),T=b.getElementsByTagName("tt")[0];if(!T)throw new Error("Invalid ttml");var g={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},k=Object.keys(g).reduce(function(K,z){return K[z]=T.getAttribute("ttp:"+z)||g[z],K},{}),N=T.getAttribute("xml:space")!=="preserve",U=l(c(T,"styling","style")),W=l(c(T,"layout","region")),$=c(T,"body","[begin]");return[].map.call($,function(K){var z=u(K,N);if(!z||!K.hasAttribute("begin"))return null;var j=f(K.getAttribute("begin"),k),V=f(K.getAttribute("dur"),k),X=f(K.getAttribute("end"),k);if(j===null)throw d(K);if(X===null){if(V===null)throw d(K);X=j+V}var Q=new F.default(j-O,X-O,z);Q.id=(0,A.generateCueId)(Q.startTime,Q.endTime,Q.text);var J=W[K.getAttribute("region")],te=U[K.getAttribute("style")];Q.position=10,Q.size=80;var ne=E(J,te,U),se=ne.textAlign;if(se){var oe=m[se];oe&&(Q.lineAlign=oe),Q.align=se}return _(Q,ne),Q}).filter(function(K){return K!==null})}function c(S,O,C){var b=S.getElementsByTagName(O)[0];return b?[].slice.call(b.querySelectorAll(C)):[]}function l(S){return S.reduce(function(O,C){var b=C.getAttribute("xml:id");return b&&(O[b]=C),O},{})}function u(S,O){return[].slice.call(S.childNodes).reduce(function(C,b,T){var g;return b.nodeName==="br"&&T?C+`
`:(g=b.childNodes)!==null&&g!==void 0&&g.length?u(b,O):O?C+b.textContent.trim().replace(/\s+/g," "):C+b.textContent},"")}function E(S,O,C){var b="http://www.w3.org/ns/ttml#styling",T=null,g=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],k=S!=null&&S.hasAttribute("style")?S.getAttribute("style"):null;return k&&C.hasOwnProperty(k)&&(T=C[k]),g.reduce(function(N,U){var W=y(O,b,U)||y(S,b,U)||y(T,b,U);return W&&(N[U]=W),N},{})}function y(S,O,C){return S&&S.hasAttributeNS(O,C)?S.getAttributeNS(O,C):null}function d(S){return new Error("Could not parse ttml timestamp "+S)}function f(S,O){if(!S)return null;var C=(0,D.parseTimeStamp)(S);return C===null&&(h.test(S)?C=p(S,O):v.test(S)&&(C=R(S,O))),C}function p(S,O){var C=h.exec(S),b=(C[4]|0)+(C[5]|0)/O.subFrameRate;return(C[1]|0)*3600+(C[2]|0)*60+(C[3]|0)+b/O.frameRate}function R(S,O){var C=v.exec(S),b=Number(C[1]),T=C[2];switch(T){case"h":return b*3600;case"m":return b*60;case"ms":return b*1e3;case"f":return b/O.frameRate;case"t":return b/O.tickRate}return b}},"./src/utils/logger.ts":(s,x,a)=>{a.r(x),a.d(x,{enableLogs:()=>A,logger:()=>_});var I=function(){},D={trace:I,debug:I,log:I,warn:I,info:I,error:I},F=D;function M(w){var h=self.console[w];return h?h.bind(self.console,"["+w+"] >"):I}function B(w){for(var h=arguments.length,v=new Array(h>1?h-1:0),m=1;m<h;m++)v[m-1]=arguments[m];v.forEach(function(L){F[L]=w[L]?w[L].bind(w):M(L)})}function A(w,h){if(self.console&&w===!0||typeof w=="object"){B(w,"debug","log","info","warn","error");try{F.log('Debug logs enabled for "'+h+'"')}catch{F=D}}else F=D}var _=F},"./src/utils/mediakeys-helper.ts":(s,x,a)=>{a.r(x),a.d(x,{KeySystems:()=>I,requestMediaKeySystemAccess:()=>D});var I;(function(F){F.WIDEVINE="com.widevine.alpha",F.PLAYREADY="com.microsoft.playready"})(I||(I={}));var D=function(){return typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}()},"./src/utils/mediasource-helper.ts":(s,x,a)=>{a.r(x),a.d(x,{getMediaSource:()=>I});function I(){return self.MediaSource||self.WebKitMediaSource}},"./src/utils/mp4-tools.ts":(s,x,a)=>{a.r(x),a.d(x,{RemuxerTrackIdConfig:()=>A,appendUint8Array:()=>f,bin2str:()=>_,computeRawDurationFromSamples:()=>E,discardEPB:()=>C,findBox:()=>L,getDuration:()=>u,getStartDTS:()=>l,offsetStartDTS:()=>y,parseEmsg:()=>b,parseInitSegment:()=>c,parseSEIMessageFromNALu:()=>O,parseSamples:()=>p,parseSegmentIndex:()=>P,readSint32:()=>v,readUint16:()=>w,readUint32:()=>h,segmentValidRange:()=>d,writeUint32:()=>m});var I=a("./src/utils/typed-array.ts"),D=a("./src/loader/fragment.ts"),F=a("./src/demux/id3.ts"),M=Math.pow(2,32)-1,B=[].push,A={video:1,audio:2,id3:3,text:4};function _(T){return String.fromCharCode.apply(null,T)}function w(T,g){var k=T[g]<<8|T[g+1];return k<0?65536+k:k}function h(T,g){var k=v(T,g);return k<0?4294967296+k:k}function v(T,g){return T[g]<<24|T[g+1]<<16|T[g+2]<<8|T[g+3]}function m(T,g,k){T[g]=k>>24,T[g+1]=k>>16&255,T[g+2]=k>>8&255,T[g+3]=k&255}function L(T,g){var k=[];if(!g.length)return k;for(var N=T.byteLength,U=0;U<N;){var W=h(T,U),$=_(T.subarray(U+4,U+8)),K=W>1?U+W:N;if($===g[0])if(g.length===1)k.push(T.subarray(U+8,K));else{var z=L(T.subarray(U+8,K),g.slice(1));z.length&&B.apply(k,z)}U=K}return k}function P(T){var g=[],k=T[0],N=8,U=h(T,N);N+=4;var W=0,$=0;k===0?N+=8:N+=16,N+=2;var K=T.length+$,z=w(T,N);N+=2;for(var j=0;j<z;j++){var V=N,X=h(T,V);V+=4;var Q=X&2147483647,J=(X&2147483648)>>>31;if(J===1)return console.warn("SIDX has hierarchical references (not supported)"),null;var te=h(T,V);V+=4,g.push({referenceSize:Q,subsegmentDuration:te,info:{duration:te/U,start:K,end:K+Q-1}}),K+=Q,V+=4,N=V}return{earliestPresentationTime:W,timescale:U,version:k,referencesCount:z,references:g}}function c(T){for(var g=[],k=L(T,["moov","trak"]),N=0;N<k.length;N++){var U=k[N],W=L(U,["tkhd"])[0];if(W){var $=W[0],K=$===0?12:20,z=h(W,K),j=L(U,["mdia","mdhd"])[0];if(j){$=j[0],K=$===0?12:20;var V=h(j,K),X=L(U,["mdia","hdlr"])[0];if(X){var Q=_(X.subarray(8,12)),J={soun:D.ElementaryStreamTypes.AUDIO,vide:D.ElementaryStreamTypes.VIDEO}[Q];if(J){var te=L(U,["mdia","minf","stbl","stsd"])[0],ne=void 0;te&&(ne=_(te.subarray(12,16))),g[z]={timescale:V,type:J},g[J]={timescale:V,id:z,codec:ne}}}}}}var se=L(T,["moov","mvex","trex"]);return se.forEach(function(oe){var pe=h(oe,4),ue=g[pe];ue&&(ue.default={duration:h(oe,12),flags:h(oe,20)})}),g}function l(T,g){return L(g,["moof","traf"]).reduce(function(k,N){var U=L(N,["tfdt"])[0],W=U[0],$=L(N,["tfhd"]).reduce(function(K,z){var j=h(z,4),V=T[j];if(V){var X=h(U,4);W===1&&(X*=Math.pow(2,32),X+=h(U,8));var Q=V.timescale||9e4,J=X/Q;if(isFinite(J)&&(K===null||J<K))return J}return K},null);return $!==null&&isFinite($)&&(k===null||$<k)?$:k},null)||0}function u(T,g){for(var k=0,N=0,U=0,W=L(T,["moof","traf"]),$=0;$<W.length;$++){var K=W[$],z=L(K,["tfhd"])[0],j=h(z,4),V=g[j];if(!!V){var X=V.default,Q=h(z,0)|(X==null?void 0:X.flags),J=X==null?void 0:X.duration;Q&8&&(Q&2?J=h(z,12):J=h(z,8));for(var te=V.timescale||9e4,ne=L(K,["trun"]),se=0;se<ne.length;se++){if(k=E(ne[se]),!k&&J){var oe=h(ne[se],4);k=J*oe}V.type===D.ElementaryStreamTypes.VIDEO?N+=k/te:V.type===D.ElementaryStreamTypes.AUDIO&&(U+=k/te)}}}if(N===0&&U===0){for(var pe=0,ue=L(T,["sidx"]),ie=0;ie<ue.length;ie++){var ce=P(ue[ie]);ce!=null&&ce.references&&(pe+=ce.references.reduce(function(ge,me){return ge+me.info.duration||0},0))}return pe}return N||U}function E(T){var g=h(T,0),k=8;g&1&&(k+=4),g&4&&(k+=4);for(var N=0,U=h(T,4),W=0;W<U;W++){if(g&256){var $=h(T,k);N+=$,k+=4}g&512&&(k+=4),g&1024&&(k+=4),g&2048&&(k+=4)}return N}function y(T,g,k){L(g,["moof","traf"]).forEach(function(N){L(N,["tfhd"]).forEach(function(U){var W=h(U,4),$=T[W];if(!!$){var K=$.timescale||9e4;L(N,["tfdt"]).forEach(function(z){var j=z[0],V=h(z,4);if(j===0)V-=k*K,V=Math.max(V,0),m(z,4,V);else{V*=Math.pow(2,32),V+=h(z,8),V-=k*K,V=Math.max(V,0);var X=Math.floor(V/(M+1)),Q=Math.floor(V%(M+1));m(z,4,X),m(z,8,Q)}})}})})}function d(T){var g={valid:null,remainder:null},k=L(T,["moof"]);if(k){if(k.length<2)return g.remainder=T,g}else return g;var N=k[k.length-1];return g.valid=(0,I.sliceUint8)(T,0,N.byteOffset-8),g.remainder=(0,I.sliceUint8)(T,N.byteOffset-8),g}function f(T,g){var k=new Uint8Array(T.length+g.length);return k.set(T),k.set(g,T.length),k}function p(T,g){var k=[],N=g.samples,U=g.timescale,W=g.id,$=!1,K=L(N,["moof"]);return K.map(function(z){var j=z.byteOffset-8,V=L(z,["traf"]);V.map(function(X){var Q=L(X,["tfdt"]).map(function(J){var te=J[0],ne=h(J,4);return te===1&&(ne*=Math.pow(2,32),ne+=h(J,8)),ne/U})[0];return Q!==void 0&&(T=Q),L(X,["tfhd"]).map(function(J){var te=h(J,4),ne=h(J,0)&16777215,se=(ne&1)!==0,oe=(ne&2)!==0,pe=(ne&8)!==0,ue=0,ie=(ne&16)!==0,ce=0,ge=(ne&32)!==0,me=8;te===W&&(se&&(me+=8),oe&&(me+=4),pe&&(ue=h(J,me),me+=4),ie&&(ce=h(J,me),me+=4),ge&&(me+=4),g.type==="video"&&($=R(g.codec)),L(X,["trun"]).map(function(xe){var Me=xe[0],Se=h(xe,0)&16777215,Ue=(Se&1)!==0,Ne=0,q=(Se&4)!==0,ae=(Se&256)!==0,Ce=0,Pe=(Se&512)!==0,Je=0,je=(Se&1024)!==0,St=(Se&2048)!==0,Bt=0,Rr=h(xe,4),et=8;Ue&&(Ne=h(xe,et),et+=4),q&&(et+=4);for(var ut=Ne+j,Yt=0;Yt<Rr;Yt++){if(ae?(Ce=h(xe,et),et+=4):Ce=ue,Pe?(Je=h(xe,et),et+=4):Je=ce,je&&(et+=4),St&&(Me===0?Bt=h(xe,et):Bt=v(xe,et),et+=4),g.type===D.ElementaryStreamTypes.VIDEO)for(var Ze=0;Ze<Je;){var ct=h(N,ut);if(ut+=4,S($,N[ut])){var Ut=N.subarray(ut,ut+ct);O(Ut,$?2:1,T+Bt/U,k)}ut+=ct,Ze+=ct+4}T+=Ce/U}}))})})}),k}function R(T){if(!T)return!1;var g=T.indexOf("."),k=g<0?T:T.substring(0,g);return k==="hvc1"||k==="hev1"||k==="dvh1"||k==="dvhe"}function S(T,g){if(T){var k=g>>1&63;return k===39||k===40}else{var N=g&31;return N===6}}function O(T,g,k,N){var U=C(T),W=0;W+=g;for(var $=0,K=0,z=!1,j=0;W<U.length;){$=0;do{if(W>=U.length)break;j=U[W++],$+=j}while(j===255);K=0;do{if(W>=U.length)break;j=U[W++],K+=j}while(j===255);var V=U.length-W;if(!z&&$===4&&W<U.length){z=!0;var X=U[W++];if(X===181){var Q=w(U,W);if(W+=2,Q===49){var J=h(U,W);if(W+=4,J===1195456820){var te=U[W++];if(te===3){var ne=U[W++],se=31&ne,oe=64&ne,pe=oe?2+se*3:0,ue=new Uint8Array(pe);if(oe){ue[0]=ne;for(var ie=1;ie<pe;ie++)ue[ie]=U[W++]}N.push({type:te,payloadType:$,pts:k,bytes:ue})}}}}}else if($===5&&K<V){if(z=!0,K>16){for(var ce=[],ge=0;ge<16;ge++){var me=U[W++].toString(16);ce.push(me.length==1?"0"+me:me),(ge===3||ge===5||ge===7||ge===9)&&ce.push("-")}for(var xe=K-16,Me=new Uint8Array(xe),Se=0;Se<xe;Se++)Me[Se]=U[W++];N.push({payloadType:$,pts:k,uuid:ce.join(""),userData:(0,F.utf8ArrayToStr)(Me),userDataBytes:Me})}}else if(K<V)W+=K;else if(K>V)break}}function C(T){for(var g=T.byteLength,k=[],N=1;N<g-2;)T[N]===0&&T[N+1]===0&&T[N+2]===3?(k.push(N+2),N+=2):N++;if(k.length===0)return T;var U=g-k.length,W=new Uint8Array(U),$=0;for(N=0;N<U;$++,N++)$===k[0]&&($++,k.shift()),W[N]=T[$];return W}function b(T){var g=T[0],k="",N="",U=0,W=0,$=0,K=0,z=0,j=0;if(g===0){for(;_(T.subarray(j,j+1))!=="\0";)k+=_(T.subarray(j,j+1)),j+=1;for(k+=_(T.subarray(j,j+1)),j+=1;_(T.subarray(j,j+1))!=="\0";)N+=_(T.subarray(j,j+1)),j+=1;N+=_(T.subarray(j,j+1)),j+=1,U=h(T,12),W=h(T,16),K=h(T,20),z=h(T,24),j=28}else if(g===1){j+=4,U=h(T,j),j+=4;var V=h(T,j);j+=4;var X=h(T,j);for(j+=4,$=Math.pow(2,32)*V+X,Number.isSafeInteger($)||($=Number.MAX_SAFE_INTEGER,console.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),K=h(T,j),j+=4,z=h(T,j),j+=4;_(T.subarray(j,j+1))!=="\0";)k+=_(T.subarray(j,j+1)),j+=1;for(k+=_(T.subarray(j,j+1)),j+=1;_(T.subarray(j,j+1))!=="\0";)N+=_(T.subarray(j,j+1)),j+=1;N+=_(T.subarray(j,j+1)),j+=1}var Q=T.subarray(j,T.byteLength);return{schemeIdUri:k,value:N,timeScale:U,presentationTime:$,presentationTimeDelta:W,eventDuration:K,id:z,payload:Q}}},"./src/utils/output-filter.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>I});var I=function(){function D(M,B){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=M,this.trackName=B}var F=D.prototype;return F.dispatchCue=function(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},F.newCue=function(B,A,_){(this.startTime===null||this.startTime>B)&&(this.startTime=B),this.endTime=A,this.screen=_,this.timelineController.createCaptionsTrack(this.trackName)},F.reset=function(){this.cueRanges=[],this.startTime=null},D}()},"./src/utils/texttrack-utils.ts":(s,x,a)=>{a.r(x),a.d(x,{addCueToTrack:()=>F,clearCurrentCues:()=>M,getCuesInRange:()=>_,removeCuesInRange:()=>B,sendAddTrackEvent:()=>D});var I=a("./src/utils/logger.ts");function D(w,h){var v;try{v=new Event("addtrack")}catch{v=document.createEvent("Event"),v.initEvent("addtrack",!1,!1)}v.track=w,h.dispatchEvent(v)}function F(w,h){var v=w.mode;if(v==="disabled"&&(w.mode="hidden"),w.cues&&!w.cues.getCueById(h.id))try{if(w.addCue(h),!w.cues.getCueById(h.id))throw new Error("addCue is failed for: "+h)}catch(L){I.logger.debug("[texttrack-utils]: "+L);var m=new self.TextTrackCue(h.startTime,h.endTime,h.text);m.id=h.id,w.addCue(m)}v==="disabled"&&(w.mode=v)}function M(w){var h=w.mode;if(h==="disabled"&&(w.mode="hidden"),w.cues)for(var v=w.cues.length;v--;)w.removeCue(w.cues[v]);h==="disabled"&&(w.mode=h)}function B(w,h,v,m){var L=w.mode;if(L==="disabled"&&(w.mode="hidden"),w.cues&&w.cues.length>0)for(var P=_(w.cues,h,v),c=0;c<P.length;c++)(!m||m(P[c]))&&w.removeCue(P[c]);L==="disabled"&&(w.mode=L)}function A(w,h){if(h<w[0].startTime)return 0;var v=w.length-1;if(h>w[v].endTime)return-1;for(var m=0,L=v;m<=L;){var P=Math.floor((L+m)/2);if(h<w[P].startTime)L=P-1;else if(h>w[P].startTime&&m<v)m=P+1;else return P}return w[m].startTime-h<h-w[L].startTime?m:L}function _(w,h,v){var m=[],L=A(w,h);if(L>-1)for(var P=L,c=w.length;P<c;P++){var l=w[P];if(l.startTime>=h&&l.endTime<=v)m.push(l);else if(l.startTime>v)return m}return m}},"./src/utils/time-ranges.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>D});var I={toString:function(M){for(var B="",A=M.length,_=0;_<A;_++)B+="["+M.start(_).toFixed(3)+","+M.end(_).toFixed(3)+"]";return B}};const D=I},"./src/utils/timescale-conversion.ts":(s,x,a)=>{a.r(x),a.d(x,{toMpegTsClockFromTimescale:()=>B,toMsFromMpegTsClock:()=>M,toTimescaleFromBase:()=>D,toTimescaleFromScale:()=>F});var I=9e4;function D(A,_,w,h){w===void 0&&(w=1),h===void 0&&(h=!1);var v=A*_*w;return h?Math.round(v):v}function F(A,_,w,h){return w===void 0&&(w=1),h===void 0&&(h=!1),D(A,_,1/w,h)}function M(A,_){return _===void 0&&(_=!1),D(A,1e3,1/I,_)}function B(A,_){return _===void 0&&(_=1),D(A,I,1/_)}},"./src/utils/typed-array.ts":(s,x,a)=>{a.r(x),a.d(x,{sliceUint8:()=>I});function I(D,F,M){return Uint8Array.prototype.slice?D.slice(F,M):new Uint8Array(Array.prototype.slice.call(D,F,M))}},"./src/utils/vttcue.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>I});const I=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;var D=["","lr","rl"],F=["start","middle","end","left","right"];function M(h,v){if(typeof v!="string"||!Array.isArray(h))return!1;var m=v.toLowerCase();return~h.indexOf(m)?m:!1}function B(h){return M(D,h)}function A(h){return M(F,h)}function _(h){for(var v=arguments.length,m=new Array(v>1?v-1:0),L=1;L<v;L++)m[L-1]=arguments[L];for(var P=1;P<arguments.length;P++){var c=arguments[P];for(var l in c)h[l]=c[l]}return h}function w(h,v,m){var L=this,P={enumerable:!0};L.hasBeenReset=!1;var c="",l=!1,u=h,E=v,y=m,d=null,f="",p=!0,R="auto",S="start",O=50,C="middle",b=50,T="middle";Object.defineProperty(L,"id",_({},P,{get:function(){return c},set:function(k){c=""+k}})),Object.defineProperty(L,"pauseOnExit",_({},P,{get:function(){return l},set:function(k){l=!!k}})),Object.defineProperty(L,"startTime",_({},P,{get:function(){return u},set:function(k){if(typeof k!="number")throw new TypeError("Start time must be set to a number.");u=k,this.hasBeenReset=!0}})),Object.defineProperty(L,"endTime",_({},P,{get:function(){return E},set:function(k){if(typeof k!="number")throw new TypeError("End time must be set to a number.");E=k,this.hasBeenReset=!0}})),Object.defineProperty(L,"text",_({},P,{get:function(){return y},set:function(k){y=""+k,this.hasBeenReset=!0}})),Object.defineProperty(L,"region",_({},P,{get:function(){return d},set:function(k){d=k,this.hasBeenReset=!0}})),Object.defineProperty(L,"vertical",_({},P,{get:function(){return f},set:function(k){var N=B(k);if(N===!1)throw new SyntaxError("An invalid or illegal string was specified.");f=N,this.hasBeenReset=!0}})),Object.defineProperty(L,"snapToLines",_({},P,{get:function(){return p},set:function(k){p=!!k,this.hasBeenReset=!0}})),Object.defineProperty(L,"line",_({},P,{get:function(){return R},set:function(k){if(typeof k!="number"&&k!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");R=k,this.hasBeenReset=!0}})),Object.defineProperty(L,"lineAlign",_({},P,{get:function(){return S},set:function(k){var N=A(k);if(!N)throw new SyntaxError("An invalid or illegal string was specified.");S=N,this.hasBeenReset=!0}})),Object.defineProperty(L,"position",_({},P,{get:function(){return O},set:function(k){if(k<0||k>100)throw new Error("Position must be between 0 and 100.");O=k,this.hasBeenReset=!0}})),Object.defineProperty(L,"positionAlign",_({},P,{get:function(){return C},set:function(k){var N=A(k);if(!N)throw new SyntaxError("An invalid or illegal string was specified.");C=N,this.hasBeenReset=!0}})),Object.defineProperty(L,"size",_({},P,{get:function(){return b},set:function(k){if(k<0||k>100)throw new Error("Size must be between 0 and 100.");b=k,this.hasBeenReset=!0}})),Object.defineProperty(L,"align",_({},P,{get:function(){return T},set:function(k){var N=A(k);if(!N)throw new SyntaxError("An invalid or illegal string was specified.");T=N,this.hasBeenReset=!0}})),L.displayState=void 0}return w.prototype.getCueAsHTML=function(){var h=self.WebVTT;return h.convertCueToDOMTree(self,this.text)},w}()},"./src/utils/vttparser.ts":(s,x,a)=>{a.r(x),a.d(x,{VTTParser:()=>v,fixLineBreaks:()=>h,parseTimeStamp:()=>F});var I=a("./src/utils/vttcue.ts"),D=function(){function m(){}var L=m.prototype;return L.decode=function(c,l){if(!c)return"";if(typeof c!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(c))},m}();function F(m){function L(c,l,u,E){return(c|0)*3600+(l|0)*60+(u|0)+parseFloat(E||0)}var P=m.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return P?parseFloat(P[2])>59?L(P[2],P[3],0,P[4]):L(P[1],P[2],P[3],P[4]):null}var M=function(){function m(){this.values=Object.create(null)}var L=m.prototype;return L.set=function(c,l){!this.get(c)&&l!==""&&(this.values[c]=l)},L.get=function(c,l,u){return u?this.has(c)?this.values[c]:l[u]:this.has(c)?this.values[c]:l},L.has=function(c){return c in this.values},L.alt=function(c,l,u){for(var E=0;E<u.length;++E)if(l===u[E]){this.set(c,l);break}},L.integer=function(c,l){/^-?\d+$/.test(l)&&this.set(c,parseInt(l,10))},L.percent=function(c,l){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(l)){var u=parseFloat(l);if(u>=0&&u<=100)return this.set(c,u),!0}return!1},m}();function B(m,L,P,c){var l=c?m.split(c):[m];for(var u in l)if(typeof l[u]=="string"){var E=l[u].split(P);if(E.length===2){var y=E[0],d=E[1];L(y,d)}}}var A=new I.default(0,0,""),_=A.align==="middle"?"middle":"center";function w(m,L,P){var c=m;function l(){var y=F(m);if(y===null)throw new Error("Malformed timestamp: "+c);return m=m.replace(/^[^\sa-zA-Z-]+/,""),y}function u(y,d){var f=new M;B(y,function(S,O){var C;switch(S){case"region":for(var b=P.length-1;b>=0;b--)if(P[b].id===O){f.set(S,P[b].region);break}break;case"vertical":f.alt(S,O,["rl","lr"]);break;case"line":C=O.split(","),f.integer(S,C[0]),f.percent(S,C[0])&&f.set("snapToLines",!1),f.alt(S,C[0],["auto"]),C.length===2&&f.alt("lineAlign",C[1],["start",_,"end"]);break;case"position":C=O.split(","),f.percent(S,C[0]),C.length===2&&f.alt("positionAlign",C[1],["start",_,"end","line-left","line-right","auto"]);break;case"size":f.percent(S,O);break;case"align":f.alt(S,O,["start",_,"end","left","right"]);break}},/:/,/\s/),d.region=f.get("region",null),d.vertical=f.get("vertical","");var p=f.get("line","auto");p==="auto"&&A.line===-1&&(p=-1),d.line=p,d.lineAlign=f.get("lineAlign","start"),d.snapToLines=f.get("snapToLines",!0),d.size=f.get("size",100),d.align=f.get("align",_);var R=f.get("position","auto");R==="auto"&&A.position===50&&(R=d.align==="start"||d.align==="left"?0:d.align==="end"||d.align==="right"?100:50),d.position=R}function E(){m=m.replace(/^\s+/,"")}if(E(),L.startTime=l(),E(),m.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+c);m=m.slice(3),E(),L.endTime=l(),E(),u(m,L)}function h(m){return m.replace(/<br(?: \/)?>/gi,`
`)}var v=function(){function m(){this.state="INITIAL",this.buffer="",this.decoder=new D,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var L=m.prototype;return L.parse=function(c){var l=this;c&&(l.buffer+=l.decoder.decode(c,{stream:!0}));function u(){var R=l.buffer,S=0;for(R=h(R);S<R.length&&R[S]!=="\r"&&R[S]!==`
`;)++S;var O=R.slice(0,S);return R[S]==="\r"&&++S,R[S]===`
`&&++S,l.buffer=R.slice(S),O}function E(R){B(R,function(S,O){},/:/)}try{var y="";if(l.state==="INITIAL"){if(!/\r\n|\n/.test(l.buffer))return this;y=u();var d=y.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!d||!d[0])throw new Error("Malformed WebVTT signature.");l.state="HEADER"}for(var f=!1;l.buffer;){if(!/\r\n|\n/.test(l.buffer))return this;switch(f?f=!1:y=u(),l.state){case"HEADER":/:/.test(y)?E(y):y||(l.state="ID");continue;case"NOTE":y||(l.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(y)){l.state="NOTE";break}if(!y)continue;if(l.cue=new I.default(0,0,""),l.state="CUE",y.indexOf("-->")===-1){l.cue.id=y;continue}case"CUE":if(!l.cue){l.state="BADCUE";continue}try{w(y,l.cue,l.regionList)}catch{l.cue=null,l.state="BADCUE";continue}l.state="CUETEXT";continue;case"CUETEXT":{var p=y.indexOf("-->")!==-1;if(!y||p&&(f=!0)){l.oncue&&l.cue&&l.oncue(l.cue),l.cue=null,l.state="ID";continue}if(l.cue===null)continue;l.cue.text&&(l.cue.text+=`
`),l.cue.text+=y}continue;case"BADCUE":y||(l.state="ID")}}}catch{l.state==="CUETEXT"&&l.cue&&l.oncue&&l.oncue(l.cue),l.cue=null,l.state=l.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},L.flush=function(){var c=this;try{if((c.cue||c.state==="HEADER")&&(c.buffer+=`

`,c.parse()),c.state==="INITIAL"||c.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(l){c.onparsingerror&&c.onparsingerror(l)}return c.onflush&&c.onflush(),this},m}()},"./src/utils/webvtt-parser.ts":(s,x,a)=>{a.r(x),a.d(x,{generateCueId:()=>v,parseWebVTT:()=>L});var I=a("./src/polyfills/number.ts"),D=a("./src/utils/vttparser.ts"),F=a("./src/demux/id3.ts"),M=a("./src/utils/timescale-conversion.ts"),B=a("./src/remux/mp4-remuxer.ts"),A=/\r\n|\n\r|\n|\r/g,_=function(c,l,u){return u===void 0&&(u=0),c.slice(u,u+l.length)===l},w=function(c){var l=parseInt(c.slice(-3)),u=parseInt(c.slice(-6,-4)),E=parseInt(c.slice(-9,-7)),y=c.length>9?parseInt(c.substring(0,c.indexOf(":"))):0;if(!(0,I.isFiniteNumber)(l)||!(0,I.isFiniteNumber)(u)||!(0,I.isFiniteNumber)(E)||!(0,I.isFiniteNumber)(y))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+c);return l+=1e3*u,l+=60*1e3*E,l+=60*60*1e3*y,l},h=function(c){for(var l=5381,u=c.length;u;)l=l*33^c.charCodeAt(--u);return(l>>>0).toString()};function v(P,c,l){return h(P.toString())+h(c.toString())+h(l)}var m=function(c,l,u){var E=c[l],y=c[E.prevCC];if(!y||!y.new&&E.new){c.ccOffset=c.presentationOffset=E.start,E.new=!1;return}for(;(d=y)!==null&&d!==void 0&&d.new;){var d;c.ccOffset+=E.start-y.start,E.new=!1,E=y,y=c[E.prevCC]}c.presentationOffset=u};function L(P,c,l,u,E,y,d,f){var p=new D.VTTParser,R=(0,F.utf8ArrayToStr)(new Uint8Array(P)).trim().replace(A,`
`).split(`
`),S=[],O=(0,M.toMpegTsClockFromTimescale)(c,l),C="00:00.000",b=0,T=0,g,k=!0;p.oncue=function(N){var U=u[E],W=u.ccOffset,$=(b-O)/9e4;U!=null&&U.new&&(T!==void 0?W=u.ccOffset=U.start:m(u,E,$)),$&&(W=$-u.presentationOffset);var K=N.endTime-N.startTime,z=(0,B.normalizePts)((N.startTime+W-T)*9e4,y*9e4)/9e4;N.startTime=Math.max(z,0),N.endTime=Math.max(z+K,0);var j=N.text.trim();N.text=decodeURIComponent(encodeURIComponent(j)),N.id||(N.id=v(N.startTime,N.endTime,j)),N.endTime>0&&S.push(N)},p.onparsingerror=function(N){g=N},p.onflush=function(){if(g){f(g);return}d(S)},R.forEach(function(N){if(k)if(_(N,"X-TIMESTAMP-MAP=")){k=!1,N.slice(16).split(",").forEach(function(U){_(U,"LOCAL:")?C=U.slice(6):_(U,"MPEGTS:")&&(b=parseInt(U.slice(7)))});try{T=w(C)/1e3}catch(U){g=U}return}else N===""&&(k=!1);p.parse(N+`
`)}),p.flush()}},"./src/utils/xhr-loader.ts":(s,x,a)=>{a.r(x),a.d(x,{default:()=>B});var I=a("./src/utils/logger.ts"),D=a("./src/loader/load-stats.ts"),F=/^age:\s*[\d.]+\s*$/m,M=function(){function A(w){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=w?w.xhrSetup:null,this.stats=new D.LoadStats,this.retryDelay=0}var _=A.prototype;return _.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},_.abortInternal=function(){var h=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),h&&(h.onreadystatechange=null,h.onprogress=null,h.readyState!==4&&(this.stats.aborted=!0,h.abort()))},_.abort=function(){var h;this.abortInternal(),(h=this.callbacks)!==null&&h!==void 0&&h.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},_.load=function(h,v,m){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=h,this.config=v,this.callbacks=m,this.retryDelay=v.retryDelay,this.loadInternal()},_.loadInternal=function(){var h=this.config,v=this.context;if(!!h){var m=this.loader=new self.XMLHttpRequest,L=this.stats;L.loading.first=0,L.loaded=0;var P=this.xhrSetup;try{if(P)try{P(m,v.url)}catch{m.open("GET",v.url,!0),P(m,v.url)}m.readyState||m.open("GET",v.url,!0);var c=this.context.headers;if(c)for(var l in c)m.setRequestHeader(l,c[l])}catch(u){this.callbacks.onError({code:m.status,text:u.message},v,m);return}v.rangeEnd&&m.setRequestHeader("Range","bytes="+v.rangeStart+"-"+(v.rangeEnd-1)),m.onreadystatechange=this.readystatechange.bind(this),m.onprogress=this.loadprogress.bind(this),m.responseType=v.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),h.timeout),m.send()}},_.readystatechange=function(){var h=this.context,v=this.loader,m=this.stats;if(!(!h||!v)){var L=v.readyState,P=this.config;if(!m.aborted&&L>=2)if(self.clearTimeout(this.requestTimeout),m.loading.first===0&&(m.loading.first=Math.max(self.performance.now(),m.loading.start)),L===4){v.onreadystatechange=null,v.onprogress=null;var c=v.status,l=v.responseType==="arraybuffer";if(c>=200&&c<300&&(l&&v.response||v.responseText!==null)){m.loading.end=Math.max(self.performance.now(),m.loading.first);var u,E;if(l?(u=v.response,E=u.byteLength):(u=v.responseText,E=u.length),m.loaded=m.total=E,!this.callbacks)return;var y=this.callbacks.onProgress;if(y&&y(m,h,u,v),!this.callbacks)return;var d={url:v.responseURL,data:u};this.callbacks.onSuccess(d,m,h,v)}else m.retry>=P.maxRetry||c>=400&&c<499?(I.logger.error(c+" while loading "+h.url),this.callbacks.onError({code:c,text:v.statusText},h,v)):(I.logger.warn(c+" while loading "+h.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,P.maxRetryDelay),m.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),P.timeout)}},_.loadtimeout=function(){I.logger.warn("timeout while loading "+this.context.url);var h=this.callbacks;h&&(this.abortInternal(),h.onTimeout(this.stats,this.context,this.loader))},_.loadprogress=function(h){var v=this.stats;v.loaded=h.loaded,h.lengthComputable&&(v.total=h.total)},_.getCacheAge=function(){var h=null;if(this.loader&&F.test(this.loader.getAllResponseHeaders())){var v=this.loader.getResponseHeader("age");h=v?parseFloat(v):null}return h},A}();const B=M},"./node_modules/eventemitter3/index.js":s=>{var x=Object.prototype.hasOwnProperty,a="~";function I(){}Object.create&&(I.prototype=Object.create(null),new I().__proto__||(a=!1));function D(A,_,w){this.fn=A,this.context=_,this.once=w||!1}function F(A,_,w,h,v){if(typeof w!="function")throw new TypeError("The listener must be a function");var m=new D(w,h||A,v),L=a?a+_:_;return A._events[L]?A._events[L].fn?A._events[L]=[A._events[L],m]:A._events[L].push(m):(A._events[L]=m,A._eventsCount++),A}function M(A,_){--A._eventsCount===0?A._events=new I:delete A._events[_]}function B(){this._events=new I,this._eventsCount=0}B.prototype.eventNames=function(){var _=[],w,h;if(this._eventsCount===0)return _;for(h in w=this._events)x.call(w,h)&&_.push(a?h.slice(1):h);return Object.getOwnPropertySymbols?_.concat(Object.getOwnPropertySymbols(w)):_},B.prototype.listeners=function(_){var w=a?a+_:_,h=this._events[w];if(!h)return[];if(h.fn)return[h.fn];for(var v=0,m=h.length,L=new Array(m);v<m;v++)L[v]=h[v].fn;return L},B.prototype.listenerCount=function(_){var w=a?a+_:_,h=this._events[w];return h?h.fn?1:h.length:0},B.prototype.emit=function(_,w,h,v,m,L){var P=a?a+_:_;if(!this._events[P])return!1;var c=this._events[P],l=arguments.length,u,E;if(c.fn){switch(c.once&&this.removeListener(_,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,w),!0;case 3:return c.fn.call(c.context,w,h),!0;case 4:return c.fn.call(c.context,w,h,v),!0;case 5:return c.fn.call(c.context,w,h,v,m),!0;case 6:return c.fn.call(c.context,w,h,v,m,L),!0}for(E=1,u=new Array(l-1);E<l;E++)u[E-1]=arguments[E];c.fn.apply(c.context,u)}else{var y=c.length,d;for(E=0;E<y;E++)switch(c[E].once&&this.removeListener(_,c[E].fn,void 0,!0),l){case 1:c[E].fn.call(c[E].context);break;case 2:c[E].fn.call(c[E].context,w);break;case 3:c[E].fn.call(c[E].context,w,h);break;case 4:c[E].fn.call(c[E].context,w,h,v);break;default:if(!u)for(d=1,u=new Array(l-1);d<l;d++)u[d-1]=arguments[d];c[E].fn.apply(c[E].context,u)}}return!0},B.prototype.on=function(_,w,h){return F(this,_,w,h,!1)},B.prototype.once=function(_,w,h){return F(this,_,w,h,!0)},B.prototype.removeListener=function(_,w,h,v){var m=a?a+_:_;if(!this._events[m])return this;if(!w)return M(this,m),this;var L=this._events[m];if(L.fn)L.fn===w&&(!v||L.once)&&(!h||L.context===h)&&M(this,m);else{for(var P=0,c=[],l=L.length;P<l;P++)(L[P].fn!==w||v&&!L[P].once||h&&L[P].context!==h)&&c.push(L[P]);c.length?this._events[m]=c.length===1?c[0]:c:M(this,m)}return this},B.prototype.removeAllListeners=function(_){var w;return _?(w=a?a+_:_,this._events[w]&&M(this,w)):(this._events=new I,this._eventsCount=0),this},B.prototype.off=B.prototype.removeListener,B.prototype.addListener=B.prototype.on,B.prefixed=a,B.EventEmitter=B,s.exports=B},"./node_modules/url-toolkit/src/url-toolkit.js":function(s){(function(x){var a=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,I=/^(?=([^\/?#]*))\1([^]*)$/,D=/(?:\/|^)\.(?=\/)/g,F=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,M={buildAbsoluteURL:function(B,A,_){if(_=_||{},B=B.trim(),A=A.trim(),!A){if(!_.alwaysNormalize)return B;var w=M.parseURL(B);if(!w)throw new Error("Error trying to parse base URL.");return w.path=M.normalizePath(w.path),M.buildURLFromParts(w)}var h=M.parseURL(A);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return _.alwaysNormalize?(h.path=M.normalizePath(h.path),M.buildURLFromParts(h)):A;var v=M.parseURL(B);if(!v)throw new Error("Error trying to parse base URL.");if(!v.netLoc&&v.path&&v.path[0]!=="/"){var m=I.exec(v.path);v.netLoc=m[1],v.path=m[2]}v.netLoc&&!v.path&&(v.path="/");var L={scheme:v.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(L.netLoc=v.netLoc,h.path[0]!=="/"))if(!h.path)L.path=v.path,h.params||(L.params=v.params,h.query||(L.query=v.query));else{var P=v.path,c=P.substring(0,P.lastIndexOf("/")+1)+h.path;L.path=M.normalizePath(c)}return L.path===null&&(L.path=_.alwaysNormalize?M.normalizePath(h.path):h.path),M.buildURLFromParts(L)},parseURL:function(B){var A=a.exec(B);return A?{scheme:A[1]||"",netLoc:A[2]||"",path:A[3]||"",params:A[4]||"",query:A[5]||"",fragment:A[6]||""}:null},normalizePath:function(B){for(B=B.split("").reverse().join("").replace(D,"");B.length!==(B=B.replace(F,"")).length;);return B.split("").reverse().join("")},buildURLFromParts:function(B){return B.scheme+B.netLoc+B.path+B.params+B.query+B.fragment}};s.exports=M})()}},n={};function i(s){var x=n[s];if(x!==void 0)return x.exports;var a=n[s]={exports:{}};return r[s].call(a.exports,a,a.exports,i),a.exports}i.m=r,i.n=s=>{var x=s&&s.__esModule?()=>s.default:()=>s;return i.d(x,{a:x}),x},i.d=(s,x)=>{for(var a in x)i.o(x,a)&&!i.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:x[a]})},i.o=(s,x)=>Object.prototype.hasOwnProperty.call(s,x),i.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var o=i("./src/hls.ts");return o=o.default,o})())})(sy);const mu=Dc(sy.exports);var Tf={},YO=Pt.exports;Object.defineProperty(Tf,"__esModule",{value:!0});var ly=Tf.default=void 0,XO=YO(Ft()),QO=Nt,JO=(0,XO.default)((0,QO.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");ly=Tf.default=JO;const ZO=Gd({palette:{canplayColor:{main:"#9ccc65",darker:"#087f23",contrastText:"#000"}}});function qO(){const[e,t]=H.exports.useState("http://live.tvfix.org/hls/startv.m3u8"),[r,n]=H.exports.useState(!1),[i,o]=H.exports.useState([]),[s,x]=H.exports.useState({width:"550px",height:"300px"});H.exports.useEffect(()=>{let _=encodeURIComponent(`#EXTINF:-1 tvg-id="BabyTV.uk" tvg-logo="https://upload.wikimedia.org/wikipedia/en/4/45/BabyTV.png" group-title="Kids" user-agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.131 Safari/537.36",Baby TV Asia (Vietnamese dub) (1080p)
        #EXTVLCOPT:http-user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.131 Safari/537.36
        https://livecdn.fptplay.net/hda3/babytvhd_vhls.smil/chunklist.m3u8`);console.log(_),console.log(decodeURIComponent(_))},[]);const a=A=>{t(A.target.value)},I=()=>{n(!0);let A=document.getElementById("video");if(mu.isSupported()){var _={xhrSetup:function(h,v){if(h.withCredentials=!1,!h.readyState&&(h.open("GET",v,!0),i.length>0))for(let m=0;m<i.length;m++)i[m].key!==""&&h.setRequestHeader(i[m].key,i[m].value)},autoStartLoad:!0,enableWorker:!0},w=new mu(_);w.loadSource(e),w.attachMedia(A),w.on(mu.Events.MANIFEST_PARSED,function(h,v){console.log("manifest loaded, found "+v.levels.length+" quality level"),console.log(v)}),A.addEventListener("loadedmetadata",function(h){x({width:h.target.videoWidth+"px",height:h.target.videoHeight+"px"})},!1)}else A.canPlayType("application/vnd.apple.mpegurl")&&(A.src=videoSrc);A.play(),A.addEventListener("canplay",h=>{n(!1)}),A.addEventListener("error",function(h){alert(h.message)})},D=(A,_,w)=>{o(h=>h.map((v,m)=>m===_?{...v,key:w.target.value}:v))},F=(A,_,w)=>{o(h=>h.map((v,m)=>m===_?{...v,value:w.target.value}:v))},M=A=>{o(_=>_.filter((w,h)=>h!==A))};return Y(S_,{theme:ZO,children:ye(nt,{sx:{display:"flex",flexDirection:"column"},children:[ye(Qe,{sx:{width:550,margin:"10px"},children:[Y(kr,{sx:{fontSize:"11px"},label:"\u60A8\u6240\u9009\u62E9\u7684m3u\u4FE1\u606F",size:"small",id:"standard-multiline-static",value:e,onChange:a}),Y(nt,{sx:{display:"flex",justifyContent:"end",marginTop:"5px"},children:Y(yr,{size:"small",onClick:I,variant:"contained",loading:r,color:"canplayColor",children:"\u64AD\u653E"})})]}),ye(Qe,{sx:{width:550,margin:"10px"},children:[Y(nt,{sx:{marginBottom:"10px"},children:Y(_s,{size:"small",onClick:()=>{o([...i,{key:"",value:""}])},variant:"contained",children:"\u6DFB\u52A0http Header"})}),i.map((A,_)=>ye(nt,{sx:{marginBottom:"10px",display:"flex",alignItems:"center"},children:[Y(kr,{sx:{fontSize:"11px",marginRight:"5px"},label:"key",size:"small",id:"standard-multiline-static",value:A.key,onChange:D.bind(this,A,_)}),Y(kr,{sx:{fontSize:"11px"},label:"value",size:"small",id:"standard-multiline-static",value:A.value,onChange:F.bind(this,A,_)}),Y(ly,{color:"disabled",onClick:()=>M(_)})]},_))]}),Y(Qe,{sx:{margin:"10px"},children:e!==""?Y("video",{id:"video",preload:"auto",style:s,controls:"controls"}):""})]})})}function eM(){const e=H.exports.useContext(ia);return ye(nt,{sx:{minWidth:100},children:[e.scene===0?Y(ZD,{}):"",e.scene===1?Y(VO,{}):"",e.scene===2?Y(qO,{}):""]})}Eu.createRoot(document.getElementById("root")).render(Y(Mn.StrictMode,{children:Y(VR,{children:Y(eM,{})})}));
